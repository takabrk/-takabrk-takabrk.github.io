
<!DOCTYPE html>

<html lang="ja">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>1. Ubuntu系ディストリビューション向けテクニック &#8212; Valkyrie Linux Documentation 1.0.0 ドキュメント</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/translations.js"></script>
    <link rel="index" title="索引" href="../genindex.html" />
    <link rel="search" title="検索" href="../search.html" />
    <link rel="next" title="2. CSS Hacks" href="tech002.html" />
    <link rel="prev" title="1. spider.js" href="../spiderjs/spiderjs001.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="ubuntu">
<h1><span class="section-number">1. </span>Ubuntu系ディストリビューション向けテクニック<a class="headerlink" href="#ubuntu" title="このヘッドラインへのパーマリンク">¶</a></h1>
<section id="chromiumtverinstagram">
<h2><span class="section-number">1.1. </span>ChromiumにTVerやInstagram用のユーザーエージェントを追加してみた<a class="headerlink" href="#chromiumtverinstagram" title="このヘッドラインへのパーマリンク">¶</a></h2>
<section id="google-chromechromiumtverinstagrampc">
<h3><span class="section-number">1.1.1. </span>Google ChromeやChromiumのユーザーエージェントを変更して、TVerの視聴やInstagramのPCからの投稿を可能にする方法<a class="headerlink" href="#google-chromechromiumtverinstagrampc" title="このヘッドラインへのパーマリンク">¶</a></h3>
<iframe width="560" height="315" src="https://www.youtube.com/embed/5w79Bo83OxM" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe></section>
<section id="user-agent-switcher">
<h3><span class="section-number">1.1.2. </span>User-Agent Switcher<a class="headerlink" href="#user-agent-switcher" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p><a class="reference external" href="https://chrome.google.com/webstore/detail/user-agent-switcher-for-c/djflhoibgkdhkhhcedjiklpkjnoahfmg/related?hl=ja">https://chrome.google.com/webstore/detail/user-agent-switcher-for-c/djflhoibgkdhkhhcedjiklpkjnoahfmg/related?hl=ja</a></p>
<p>Google ChromeやChromiumなどのChrome系ブラウザでユーザーエージェントを変更しようと思いますと、User-Agent SwitcherというChrome拡張を利用するのが便利です。</p>
<p>TVerは、Linux版のChromiumで正常に動作しなくなってしまっているので、Firefoxのユーザーエージェントを変更して観る事が出来るようになります。僕の場合は、Mac版Firefoxの最新版のユーザーエージェントに変更しています。ちなみに、Windows版Firefoxのユーザーエージェントでも構いません。</p>
</section>
<section id="macfirefox">
<h3><span class="section-number">1.1.3. </span>Mac版Firefoxのユーザーエージェント<a class="headerlink" href="#macfirefox" title="このヘッドラインへのパーマリンク">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Mozilla</span><span class="o">/</span><span class="mf">5.0</span> <span class="p">(</span><span class="n">Macintosh</span><span class="p">;</span> <span class="n">Intel</span> <span class="n">Mac</span> <span class="n">OS</span> <span class="n">X</span> <span class="mf">10.14</span><span class="p">;</span> <span class="n">rv</span><span class="p">:</span><span class="mf">63.0</span><span class="p">)</span> <span class="n">Gecko</span><span class="o">/</span><span class="mi">20100101</span> <span class="n">Firefox</span><span class="o">/</span><span class="mf">63.0</span>
</pre></div>
</div>
<p>ブラウザのタスクボタンにUser-Agent Switcherがあるのであれば、右クリックでメニューを出す事が出来ますので、「オプション」を選びます。そして、そこに表示されている項目一覧でカスタマイズが出来ます。不要なユーザーエージェントは削除しておきますと、使う時にスッキリとして使い易くなるでしょう。</p>
<img alt="_images/Screenshot20from202019-10-122017-10-57.png" src="_images/Screenshot20from202019-10-122017-10-57.png" />
<img alt="_images/Screenshot20from202019-10-122017-11-11.png" src="_images/Screenshot20from202019-10-122017-11-11.png" />
<p>TVerにはWindows版・Mac版のFirefoxのユーザーエージェントを設定しておけば、視聴する事が可能になります。Instagramは、モバイル版のブラウザのユーザーエージェントを使う事で投稿・削除が出来るようになります。</p>
<p>カスタマイズしたユーザーエージェントを特定のサイトのみで自動的に割り当てるようにする事も可能であり、「Permanent Spoof List」という項目で設定を行ってください。ドメインですので、「<a class="reference external" href="https://">https://</a>」などの部分やディレクトリ部分にあたる所は省いて構いません。</p>
<p>僕の場合は、以下のように設定しました。</p>
<img alt="_images/Screenshot20from202019-10-122017-28-18.png" src="_images/Screenshot20from202019-10-122017-28-18.png" />
<p>この設定を行う事で、Instagramはモバイルページ版の物が表示されますし、TVerもJavaScriptがちゃんと機能するようになり、視聴が可能になります。
モバイル版Instagramは、下部に写真投稿などのアイコンメニューが表示されます。</p>
<img alt="_images/Screenshot20from202019-10-122017-31-51.png" src="_images/Screenshot20from202019-10-122017-31-51.png" />
<p>TVerでは、JavaScriptが機能していますと、動画再生ボタンが真ん中に表示されます。この状態であれば、視聴が可能になります。</p>
<img alt="_images/Screenshot20from202019-10-122017-32-05.png" src="_images/Screenshot20from202019-10-122017-32-05.png" />
</section>
</section>
<section id="google-chromechromemindmap-tab">
<h2><span class="section-number">1.2. </span>Google Chromeでマインドマップを手軽に作る事が出来るChrome拡張「MindMap Tab」<a class="headerlink" href="#google-chromechromemindmap-tab" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>マインドマップをLinux上で作成する時に「FreePlane」というソフトウェアを使っていましたが、これはJavaのランタイムやGroovyというJVM言語が必要になり、結構インストールする依存パッケージがあります。アプリからいちいち起動してマインドマップを作るのも面倒臭いので、Chrome拡張で何か便利な物が無いかなと探したら、マインドマップツールを作っている人がいました(^_^;)。</p>
<dl class="simple">
<dt>◇もっとマインドマップを簡単に描くためにChrome拡張機能を作りました</dt><dd><p><a class="reference external" href="https://qiita.com/yoichiro6642/items/b465cbec2f3dcaaccdb0">https://qiita.com/yoichiro6642/items/b465cbec2f3dcaaccdb0</a></p>
</dd>
</dl>
<p>実際に「MindMap Tab」をChromium Browserにインストールしたところ、かなり便利に使えています。インデントを入れる事で自動的に区分けしてくれますので、思いついた事をどんどんテキストフォームに入力していくだけというお手軽さがとても良いです。
セーブは自動的に行ってくれますし、履歴から過去のマインドマップデータを呼び出す事も可能となっています。また、PNGやJPEGで画像保存が出来ます。ブラウザから呼び出して直ぐに使えるのは大きな利点でしょう。</p>
<a class="reference internal image-reference" href="_images/Screenshot20from202019-06-162015-39-06.png"><img alt="_images/Screenshot20from202019-06-162015-39-06.png" src="_images/Screenshot20from202019-06-162015-39-06.png" /></a>
</section>
<section id="continuos-savegimp-2-10-10">
<h2><span class="section-number">1.3. </span>レイヤー毎の画像を保存する事が出来るスクリプト「continuos-save」をGIMP 2.10.10にで使えるようにするには<a class="headerlink" href="#continuos-savegimp-2-10-10" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>大量の画像を纏めて拡大・縮小・トリミングをするには、レイヤー毎に画像を入れて、この画像を保存出来るスクリプト「continuos-save」を使うのが便利です。オリジナルのサイトが消えていますので、改良版を導入すると良いでしょう。</p>
<blockquote>
<div><p><a class="reference external" href="http://userweb.pep.ne.jp/tamubun/computer/continuous-save.html">http://userweb.pep.ne.jp/tamubun/computer/continuous-save.html</a></p>
</div></blockquote>
<p>continuos-saveの導入方法は簡単であり、WindowsとLinuxでは以下のようにしますと導入が可能です。</p>
<p>◇Windowsの場合</p>
<p>C:Usersユーザ名AppDataRoamingGIMP2.10scripts以下にcontinuous-save.scmを置く。</p>
<p>◇Ubuntuの場合</p>
<p>/home/ユーザー/.config/GIMP/2.10/scriptsにcontinuous-save.scmを置く。</p>
<p>注意するべき事は、GIMP 2.10.10ではそのままではエラーが出ます。これの対策として、continuos-save.scmの一部分を書き換えます。
137行目(+ 1 (* 2 tmp-image-type)) &quot;Temp Layer&quot; 100 NORMAL)))」となっていますが、NORMALの部分を0にします。これで、GIMPを起動しますとconinuos-saveが使えるようになり、レイヤー毎にある画像を個別に画像ファイルとして書き出せます。</p>
</section>
<section id="linuxaffter-effects">
<h2><span class="section-number">1.4. </span>Linux環境でAffter Effectsのような事をするにはどうすれば良いのか？<a class="headerlink" href="#linuxaffter-effects" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>動画編集をする時に、WindowsやmacOSはAdobe Premiere ProやAfter Effectsといった高性能なソフトウェアが使えますが、Linuxの場合は、ShotcutやAvidemuxで動画編集をするのが良いと思います。個人的にはShotcutだけで良いと思いますが、問題はAfter Effectsに相当するソフトウェアが無いという事です。
そこで、一つの策としては、3DモデリングソフトウェアのBlenderを使うという事です。これで予めAfter Effectっぽい映像を作っておいて、Shotcut上で他の動画クリップと組み合わせる事で、高度な映像を作れるのではないかと思います。
ちなみに、Shotcutのフィルタ機能には面白い機能があって、HTML5の機能を使ったフィルタを適用出来たりします(^_^;)。工夫次第では、面白い表現が出来るかもしれませんね。</p>
<p>LinuxでもAfter Effectsっぽいモーショングラフィックスを作る事が出来るソフトウェア「Natron」がありましたが、公式サイトが落ちていました(^_^;)。</p>
<p>Blenderでモーショングラフィックスっぽい動画クリップを作るというのも有効な手段ですが、その他にはShotcutのHTML5フィルタを使うのも良いかもしれません。
JavaScriptやCSS3を使って表現が出来るので、Web技術に長けているなら、この機能を使ってみても良いのではないでしょうか？</p>
<dl class="simple">
<dt>Shotcutの公式サイトにHTML5フィルタを使った作例動画が公開されています。</dt><dd><p><a class="reference external" href="https://shotcut.org/blog/video-tutorial-using-html5/">https://shotcut.org/blog/video-tutorial-using-html5/</a></p>
</dd>
</dl>
</section>
<section id="jack-audio-connetion-kitpulseaudio">
<h2><span class="section-number">1.5. </span>Jack Audio Connetion Kitと連携せずにPulseAudioを高音質化させるには<a class="headerlink" href="#jack-audio-connetion-kitpulseaudio" title="このヘッドラインへのパーマリンク">¶</a></h2>
<section id="etc-pulse-daemon-conf">
<h3><span class="section-number">1.5.1. </span>◇高音質化設定した/etc/pulse/daemon.conf<a class="headerlink" href="#etc-pulse-daemon-conf" title="このヘッドラインへのパーマリンク">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># This file is part of PulseAudio.</span>
<span class="c1">#</span>
<span class="c1"># PulseAudio is free software; you can redistribute it and/or modify</span>
<span class="c1"># it under the terms of the GNU Lesser General Public License as published by</span>
<span class="c1"># the Free Software Foundation; either version 2 of the License, or</span>
<span class="c1"># (at your option) any later version.</span>
<span class="c1">#</span>
<span class="c1"># PulseAudio is distributed in the hope that it will be useful, but</span>
<span class="c1"># WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<span class="c1"># MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU</span>
<span class="c1"># General Public License for more details.</span>
<span class="c1">#</span>
<span class="c1"># You should have received a copy of the GNU Lesser General Public License</span>
<span class="c1"># along with PulseAudio; if not, see &lt;http://www.gnu.org/licenses/&gt;.</span>

<span class="c1">## Configuration file for the PulseAudio daemon. See pulse-daemon.conf(5) for</span>
<span class="c1">## more information. Default values are commented out.  Use either ; or # for</span>
<span class="c1">## commenting.</span>

<span class="n">daemonize</span> <span class="o">=</span> <span class="n">no</span>
<span class="p">;</span> <span class="n">fail</span> <span class="o">=</span> <span class="n">yes</span>
<span class="p">;</span> <span class="n">allow</span><span class="o">-</span><span class="n">module</span><span class="o">-</span><span class="n">loading</span> <span class="o">=</span> <span class="n">yes</span>
<span class="p">;</span> <span class="n">allow</span><span class="o">-</span><span class="n">exit</span> <span class="o">=</span> <span class="n">yes</span>
<span class="p">;</span> <span class="n">use</span><span class="o">-</span><span class="n">pid</span><span class="o">-</span><span class="n">file</span> <span class="o">=</span> <span class="n">yes</span>
<span class="p">;</span> <span class="n">system</span><span class="o">-</span><span class="n">instance</span> <span class="o">=</span> <span class="n">no</span>
<span class="p">;</span> <span class="n">local</span><span class="o">-</span><span class="n">server</span><span class="o">-</span><span class="nb">type</span> <span class="o">=</span> <span class="n">user</span>
<span class="p">;</span> <span class="n">enable</span><span class="o">-</span><span class="n">shm</span> <span class="o">=</span> <span class="n">yes</span>
<span class="p">;</span> <span class="n">enable</span><span class="o">-</span><span class="n">memfd</span> <span class="o">=</span> <span class="n">yes</span>
<span class="p">;</span> <span class="n">shm</span><span class="o">-</span><span class="n">size</span><span class="o">-</span><span class="nb">bytes</span> <span class="o">=</span> <span class="mi">0</span> <span class="c1"># setting this 0 will use the system-default, usually 64 MiB</span>
<span class="p">;</span> <span class="n">lock</span><span class="o">-</span><span class="n">memory</span> <span class="o">=</span> <span class="n">no</span>
<span class="p">;</span> <span class="n">cpu</span><span class="o">-</span><span class="n">limit</span> <span class="o">=</span> <span class="n">no</span>

<span class="n">high</span><span class="o">-</span><span class="n">priority</span> <span class="o">=</span> <span class="n">yes</span>
<span class="n">nice</span><span class="o">-</span><span class="n">level</span> <span class="o">=</span> <span class="o">-</span><span class="mi">11</span>

<span class="n">realtime</span><span class="o">-</span><span class="n">scheduling</span> <span class="o">=</span> <span class="n">yes</span>
<span class="n">realtime</span><span class="o">-</span><span class="n">priority</span> <span class="o">=</span> <span class="mi">9</span>

<span class="p">;</span> <span class="n">exit</span><span class="o">-</span><span class="n">idle</span><span class="o">-</span><span class="n">time</span> <span class="o">=</span> <span class="mi">20</span>
<span class="p">;</span> <span class="n">scache</span><span class="o">-</span><span class="n">idle</span><span class="o">-</span><span class="n">time</span> <span class="o">=</span> <span class="mi">20</span>

<span class="p">;</span> <span class="n">dl</span><span class="o">-</span><span class="n">search</span><span class="o">-</span><span class="n">path</span> <span class="o">=</span> <span class="p">(</span><span class="n">depends</span> <span class="n">on</span> <span class="n">architecture</span><span class="p">)</span>

<span class="p">;</span> <span class="n">load</span><span class="o">-</span><span class="n">default</span><span class="o">-</span><span class="n">script</span><span class="o">-</span><span class="n">file</span> <span class="o">=</span> <span class="n">yes</span>
<span class="p">;</span> <span class="n">default</span><span class="o">-</span><span class="n">script</span><span class="o">-</span><span class="n">file</span> <span class="o">=</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">pulse</span><span class="o">/</span><span class="n">default</span><span class="o">.</span><span class="n">pa</span>

<span class="p">;</span> <span class="n">log</span><span class="o">-</span><span class="n">target</span> <span class="o">=</span> <span class="n">auto</span>
<span class="p">;</span> <span class="n">log</span><span class="o">-</span><span class="n">level</span> <span class="o">=</span> <span class="n">notice</span>
<span class="p">;</span> <span class="n">log</span><span class="o">-</span><span class="n">meta</span> <span class="o">=</span> <span class="n">no</span>
<span class="p">;</span> <span class="n">log</span><span class="o">-</span><span class="n">time</span> <span class="o">=</span> <span class="n">no</span>
<span class="p">;</span> <span class="n">log</span><span class="o">-</span><span class="n">backtrace</span> <span class="o">=</span> <span class="mi">0</span>

<span class="p">;</span><span class="n">resample</span><span class="o">-</span><span class="n">method</span> <span class="o">=</span> <span class="n">src</span><span class="o">-</span><span class="n">sinc</span><span class="o">-</span><span class="n">best</span><span class="o">-</span><span class="n">quality</span>
<span class="n">resample</span><span class="o">-</span><span class="n">method</span> <span class="o">=</span> <span class="n">speex</span><span class="o">-</span><span class="nb">float</span><span class="o">-</span><span class="mi">5</span>
<span class="p">;</span> <span class="n">avoid</span><span class="o">-</span><span class="n">resampling</span> <span class="o">=</span> <span class="n">false</span>
<span class="p">;</span> <span class="n">enable</span><span class="o">-</span><span class="n">remixing</span> <span class="o">=</span> <span class="n">yes</span>
<span class="p">;</span> <span class="n">remixing</span><span class="o">-</span><span class="n">use</span><span class="o">-</span><span class="nb">all</span><span class="o">-</span><span class="n">sink</span><span class="o">-</span><span class="n">channels</span> <span class="o">=</span> <span class="n">yes</span>
<span class="n">enable</span><span class="o">-</span><span class="n">lfe</span><span class="o">-</span><span class="n">remixing</span> <span class="o">=</span> <span class="n">yes</span>
<span class="p">;</span> <span class="n">lfe</span><span class="o">-</span><span class="n">crossover</span><span class="o">-</span><span class="n">freq</span> <span class="o">=</span> <span class="mi">0</span>

<span class="n">flat</span><span class="o">-</span><span class="n">volumes</span> <span class="o">=</span> <span class="n">no</span>

<span class="p">;</span> <span class="n">rlimit</span><span class="o">-</span><span class="n">fsize</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
<span class="p">;</span> <span class="n">rlimit</span><span class="o">-</span><span class="n">data</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
<span class="p">;</span> <span class="n">rlimit</span><span class="o">-</span><span class="n">stack</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
<span class="p">;</span> <span class="n">rlimit</span><span class="o">-</span><span class="n">core</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
<span class="p">;</span> <span class="n">rlimit</span><span class="o">-</span><span class="k">as</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
<span class="p">;</span> <span class="n">rlimit</span><span class="o">-</span><span class="n">rss</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
<span class="p">;</span> <span class="n">rlimit</span><span class="o">-</span><span class="n">nproc</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
<span class="p">;</span> <span class="n">rlimit</span><span class="o">-</span><span class="n">nofile</span> <span class="o">=</span> <span class="mi">256</span>
<span class="p">;</span> <span class="n">rlimit</span><span class="o">-</span><span class="n">memlock</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
<span class="p">;</span> <span class="n">rlimit</span><span class="o">-</span><span class="n">locks</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
<span class="p">;</span> <span class="n">rlimit</span><span class="o">-</span><span class="n">sigpending</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
<span class="p">;</span> <span class="n">rlimit</span><span class="o">-</span><span class="n">msgqueue</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
<span class="p">;</span> <span class="n">rlimit</span><span class="o">-</span><span class="n">nice</span> <span class="o">=</span> <span class="mi">31</span>
<span class="n">rlimit</span><span class="o">-</span><span class="n">rtprio</span> <span class="o">=</span> <span class="mi">9</span>
<span class="p">;</span> <span class="n">rlimit</span><span class="o">-</span><span class="n">rttime</span> <span class="o">=</span> <span class="mi">200000</span>

<span class="n">default</span><span class="o">-</span><span class="n">sample</span><span class="o">-</span><span class="nb">format</span> <span class="o">=</span> <span class="n">float32ne</span>
<span class="n">default</span><span class="o">-</span><span class="n">sample</span><span class="o">-</span><span class="n">rate</span> <span class="o">=</span> <span class="mi">48000</span>
<span class="n">alternate</span><span class="o">-</span><span class="n">sample</span><span class="o">-</span><span class="n">rate</span> <span class="o">=</span> <span class="mi">44100</span>
<span class="p">;</span><span class="n">default</span><span class="o">-</span><span class="n">sample</span><span class="o">-</span><span class="n">channels</span> <span class="o">=</span> <span class="mi">6</span>
<span class="p">;</span><span class="n">default</span><span class="o">-</span><span class="n">channel</span><span class="o">-</span><span class="nb">map</span> <span class="o">=</span> <span class="n">front</span><span class="o">-</span><span class="n">left</span><span class="p">,</span><span class="n">front</span><span class="o">-</span><span class="n">right</span><span class="p">,</span><span class="n">rear</span><span class="o">-</span><span class="n">left</span><span class="p">,</span><span class="n">rear</span><span class="o">-</span><span class="n">right</span><span class="p">,</span><span class="n">front</span><span class="o">-</span><span class="n">center</span><span class="p">,</span><span class="n">lfe</span>
<span class="n">default</span><span class="o">-</span><span class="n">sample</span><span class="o">-</span><span class="n">channels</span> <span class="o">=</span> <span class="mi">2</span>
<span class="n">default</span><span class="o">-</span><span class="n">channel</span><span class="o">-</span><span class="nb">map</span> <span class="o">=</span> <span class="n">front</span><span class="o">-</span><span class="n">left</span><span class="p">,</span><span class="n">front</span><span class="o">-</span><span class="n">right</span>

<span class="n">default</span><span class="o">-</span><span class="n">fragments</span> <span class="o">=</span> <span class="mi">2</span>
<span class="n">default</span><span class="o">-</span><span class="n">fragment</span><span class="o">-</span><span class="n">size</span><span class="o">-</span><span class="n">msec</span> <span class="o">=</span> <span class="mi">125</span>

<span class="p">;</span> <span class="n">enable</span><span class="o">-</span><span class="n">deferred</span><span class="o">-</span><span class="n">volume</span> <span class="o">=</span> <span class="n">yes</span>
<span class="n">deferred</span><span class="o">-</span><span class="n">volume</span><span class="o">-</span><span class="n">safety</span><span class="o">-</span><span class="n">margin</span><span class="o">-</span><span class="n">usec</span> <span class="o">=</span> <span class="mi">1</span>
<span class="p">;</span> <span class="n">deferred</span><span class="o">-</span><span class="n">volume</span><span class="o">-</span><span class="n">extra</span><span class="o">-</span><span class="n">delay</span><span class="o">-</span><span class="n">usec</span> <span class="o">=</span> <span class="mi">0</span>
</pre></div>
</div>
</section>
</section>
<section id="ubuntuexfat">
<h2><span class="section-number">1.6. </span>Ubuntu系ディストリビューションでexFATを使うには<a class="headerlink" href="#ubuntuexfat" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>Windows 10のデフォルトのファイルシステムは、MicroSoft社が開発したexFATです。このファイルシステムは、従来のFAT32とNTFSといったファイルシステムの弱点を克服しており、LinuxやmacOSなどのOSと4GB超えのファイルのやり取りをする時に優れています。Ubuntu系ディストリビューションでもexFATを使えるようにしておく事で、システムドライブはext4、持ち運び用のデータドライブはexFATといった使い分けが出来るようになります。</p>
<p>Ubuntu 18.04 LTSのGpartedは、exFATのフォーマットに対応していません。exFATを取り扱う事が出来るツールを導入して、コマンドでのフォーマット、あるいはGUIでのフォーマットを行えるようにしましょう。</p>
<p>1.exFATを扱う為の2つのツールをインストール:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$sudo apt-get install exfat-fuse exfat-utils
</pre></div>
</div>
<p>2.GUIで操作したい場合は、GNOME Disiksをインストール:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$sudo apt-get install gnome-disks-utility
</pre></div>
</div>
<p>3.コマンドで使う場合は以下のようにターミナルエミュレーターでコマンド入力。</p>
<p>/dev/sdbをフォーマットして「xxx」というラベルを付けて、exFATでフォーマットしたい場合にはオプションを追加する。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$sudo mkfs -t exfat -n xxx /dev/sdb
</pre></div>
</div>
<p>あるいは、:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$sudo mkfs.exfat -n xxx /dev/sdb
</pre></div>
</div>
<p>Windows系のファイルシステムの中では、exFATがext4などの他のファイルシステムと相性が良く、高速ですので、データ保存用のポータブルHDDやUSBメモリーのフォーマットはexFATにしておけば良いでしょう。</p>
</section>
<section id="ubuntu-18-04-ltsgksu">
<h2><span class="section-number">1.7. </span>Ubuntu 18.04 LTSに廃止されたgksuをインストールするには<a class="headerlink" href="#ubuntu-18-04-ltsgksu" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>Ubuntu 18.04 LTS以降は、suのフロントエンドアプリであるgksuがリポジトリから削除され、インストールも出来ない状態になっています。しかし、現在でもUbuntu 16.04 LTS向けのgksuは公開されていますので、これをインストールする事で使えるようになります。但し、依存関係が色々とありますので、ターミナルでインストール作業をしながら必要に応じて依存関係を解消していかなければいけません。最低限2つのdebファイルが必要です。</p>
<p>◇gksu</p>
<blockquote>
<div><p><a class="reference external" href="https://launchpad.net/ubuntu/+source/gksu">https://launchpad.net/ubuntu/+source/gksu</a></p>
</div></blockquote>
<dl class="simple">
<dt>◇libgksu2-0</dt><dd><p><a class="reference external" href="https://packages.ubuntu.com/ja/xenial/libgksu2-0">https://packages.ubuntu.com/ja/xenial/libgksu2-0</a></p>
</dd>
</dl>
<p>2つのdebファイルを同じディレクトリに置いて、dpkgやapt installでインストールしていくと依存関係で必要な物を知る事が出来ますし、依存関係が解消されていれば、すんなりとインストール出来ると思います。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$sudo dpkg -i *.deb
</pre></div>
</div>
</section>
<section id="windowssteam">
<h2><span class="section-number">1.8. </span>Windows版Steamのクライアントを動作させる時に諸々の問題を解決しよう<a class="headerlink" href="#windowssteam" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>ゲームプラットフォームとして、すっかり定着したSteamで公開・販売されているソフトウェアはWindows版の物が多いです。Steamを使うには、クライアントソフトが必要になってきますが、Windows版・Mac版・Linux版が存在します。この中で、最も良いのは、Windows版です。動作するソフトウェアが非常に多いので、LinuxにおいてもLinux版＋Protonでは無くて、Wine+Windows版Steamを使うのが良いでしょう。しかし、Windows版Steamを使う上で色々と問題が起こりますので、これをクリアすれば、Windows環境と同じようにSteamが使えるようになります。</p>
<p>Windows版SteamをWineで使う場合には、ArchLinuxのWikiが参考に出来るでしょう。</p>
<p>◇Steam/Wine ArchLinux Wiki</p>
<blockquote>
<div><p><a class="reference external" href="https://wiki.archlinux.jp/index.php/Steam/Wine">https://wiki.archlinux.jp/index.php/Steam/Wine</a></p>
</div></blockquote>
<p>1.クライアントで文字化けが起こる、あるいは文字が表示されない。</p>
<p>クライアントのインストーラーを起動させて、Steamをインストールする時に文字が表示されなかったり、文字化けを起こしたりします。これを解決するには、インストーラーを起動させる時に、以下のWineのオプション「-no-dwrite」を追加します。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$wine ~/.wine/drive_c/Program\ Files\ \(x86\)/Steam/Steam.exe -no-dwrite
</pre></div>
</div>
<p>2.クライアントのブラウザがうまく機能せずに、内容が表示されない</p>
<p>クライアントをインストール出来て、いざSteamを起動させますと、ブラウザが機能せずに内容が表示されない事があります。</p>
<p>32bit版Steamクライアントを以下のオプション「-no-cef-sandbox」を付けて起動させます。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ wine ~/.wine/drive_c/Program Files/Steam/Steam.exe -no-cef-sandbox
</pre></div>
</div>
<p>これでも解決しない場合は、winecfgで調整する事で解決出来ます。</p>
<a class="reference internal image-reference" href="_images/winecfg_steam.png"><img alt="_images/winecfg_steam.png" src="_images/winecfg_steam.png" /></a>
<p>Wineの設定の「Windowsのバージョン」を「Windwos Vista」「Windows XP」にして、Steamフォルダにある「X64launcher.exe」を指定します。Steamを再起動させれば、ブラウザが機能して内容が表示されます。</p>
<p>3.ウィンドウを閉じてもSteamクライアントが終了しない</p>
<p>ウィンドウを閉じてもSteamクライアントは終了しません。必ず、Steamメニューにある「終了」の項目から終了させてください。</p>
<p>基本プレイ無料のWindows版18禁ゲーム「Crystal Maidens」をSteamにインストールして、起動させてみました。</p>
<a class="reference internal image-reference" href="_images/cm001.png"><img alt="_images/cm001.png" src="_images/cm001.png" /></a>
<a class="reference internal image-reference" href="_images/cm002.png"><img alt="_images/cm002.png" src="_images/cm002.png" /></a>
<a class="reference internal image-reference" href="_images/cm003.png"><img alt="_images/cm003.png" src="_images/cm003.png" /></a>
</section>
<section id="xconfigqt5">
<h2><span class="section-number">1.9. </span>xconfigをQt5で立ち上げるには<a class="headerlink" href="#xconfigqt5" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>Linuxカーネルをビルドする前に色々と設定を行う事が多いですが、その時に使う設定ツールでxconfigを立ち上げる場合、Qtの開発ツールが必要になります。Ubuntu系ディストリビューションでQt4の開発ツールを使うのであれば、以下のようにコマンドを入力する事でQt4の開発ツールをインストールする事ができ、xconfigを立ち上げる事が出来ます。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$sudo apt-get install qt4-dev

$make xconfig
</pre></div>
</div>
<p>では、Qt5の開発者ツールを使う場合にはどのようにすれば良いのでしょうか？以下のようにコマンドを入力すると、Qt5ベースのxconfigを立ち上げる事が可能です。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$sudo apt-get install qt5-default

$make xconfig
</pre></div>
</div>
</section>
<section id="chromerajikoradiko">
<h2><span class="section-number">1.10. </span>Chromeアプリ「Rajiko」でradikoを聴こう！<a class="headerlink" href="#chromerajikoradiko" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>Google ChromeやChromiumにChrome拡張「Rajiko」を入れて、radikoを聴けるようにしましょう(^^)</p>
<p>1.ブラウザにChrome拡張「Radiko」をインストールします。ページにアクセスして、「Chromeに追加」ボタンを押すだけです。</p>
<p><a class="reference external" href="https://chrome.google.com/webstore/detail/rajiko/ejcfdikabeebbgbopoagpabbdokepnff/related">https://chrome.google.com/webstore/detail/rajiko/ejcfdikabeebbgbopoagpabbdokepnff/related</a></p>
<p>2.radiko.jpの公式ページにアクセスします。</p>
<p><a class="reference external" href="http://radiko.jp/">http://radiko.jp/</a></p>
<p>3.Radikoで聴きたいエリアを選択し、確認ボタンを押す。</p>
<a class="reference internal image-reference" href="_images/Screenshot20from202019-02-242015-12-17.png"><img alt="_images/Screenshot20from202019-02-242015-12-17.png" src="_images/Screenshot20from202019-02-242015-12-17.png" /></a>
<p>4.後は好きな番組を選んで視聴してください。</p>
</section>
<section id="linuxlivedvdisouefi">
<h2><span class="section-number">1.11. </span>LinuxのLiveDVDのISOをUEFI搭載のパソコンで直接起動させるには<a class="headerlink" href="#linuxlivedvdisouefi" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p><a class="reference external" href="https://www.rmprepusb.com/tutorials/136_uefi_ubuntu">https://www.rmprepusb.com/tutorials/136_uefi_ubuntu</a></p>
<p>BIOS時代にLinuxのLiveDVDのISOを直接起動させて使ったりしていました。これは、UNetbootinなどのLiveUSBを作成するツールを使わなくても、LiveDVDのISOを交換するだけで、システムドライブとは別にLinuxの環境が使えて便利でした。しかし、UEFIが主流になってきて、しばらくこの方法が分からなかったので放置していたのですが、久しぶりに調べてみたら、既にUEFI向けの直接起動用のツールが公開されていました。</p>
<p><a class="reference external" href="https://www.rmprepusb.com/tutorials/136_uefi_ubuntu/UEFI_boot_from_ISO.zip?attredirects=0&amp;d=1">https://www.rmprepusb.com/tutorials/136_uefi_ubuntu/UEFI_boot_from_ISO.zip?attredirects=0&amp;d=1</a></p>
<p>1.USBメモリーに「/efi/boot」ディレクトリを作成します。</p>
<p>2.この中に、使いたいLinuxのLiveDVDのISOを「boot.iso」に名前を変更して入れます。</p>
<p>3.上記リンク先のファイル「UEFI_boot_from_ISO.zip」をダウンロード解凍し、中に入っている「bootX64.efi」「bootIA32.efi」も/efi/bootに入れます。</p>
<p>4.これで、UEFIの設定画面にアクセスして、Securebootの項目をオフにしておきます。</p>
<p>5.ASRockのマザーボードですと、メーカーロゴが出ている時にF11キーを押しっぱなしにすると、起動させるストレージを選べるようになるのですが、その画面から作成したLiveUSBを起動させれば、ISOを直接起動させる事が可能です。</p>
<p>日本語対応させるには、boot.iso内の/boot/grub/loopback.cfgに以下のように「debian-installer/language=ja keyboard-configuration/layoutcode?=jp keyboard-configuration/modelcode?=jp106」を追加して、リマスターをする必要があります。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>menuentry &quot;Try Ubuntu without installing&quot; {
    set gfxpayload=keep
    linux   /casper/vmlinuz  file=/cdrom/preseed/ubuntu.seed boot=casper iso-scan/filename=${iso_path} -- debian-installer/language=ja keyboard-configuration/layoutcode?=jp keyboard-configuration/modelcode?=jp106
    initrd  /casper/initrd.lz
}
</pre></div>
</div>
<p>PC版Chromium BrowserでInstagramに写真をアップロードする方法</p>
<p><a class="reference external" href="https://chrome.google.com/webstore/detail/user-agent-switcher-for-c/djflhoibgkdhkhhcedjiklpkjnoahfmg">https://chrome.google.com/webstore/detail/user-agent-switcher-for-c/djflhoibgkdhkhhcedjiklpkjnoahfmg</a></p>
<p>PC版Chrome系ブラウザの場合、ユーザーエージェントの切り換えに便利なのが、User-Agent Switcher for ChromeというChrome拡張です。これを導入して、Instagramにログインし、iOSやAndroidのユーザーエージェントに切り換える事でモバイル版Instagramを表示する事ができ、Instagramへの写真のアップロードが可能になります。</p>
<p>対応しているOSは、Windows・macOS・Linux・Chrome OSなどです。</p>
<img alt="_images/Screenshot20from202018-11-162012-59-27.png" src="_images/Screenshot20from202018-11-162012-59-27.png" />
</section>
<section id="qt-qpa-platformtheme-environment-variable-is-not-set-correctlyqt5ct">
<h2><span class="section-number">1.12. </span>「QT_QPA_PLATFORMTHEME environment variable is not set correctly」というエラーが出てqt5ctが使えない時の対処法<a class="headerlink" href="#qt-qpa-platformtheme-environment-variable-is-not-set-correctlyqt5ct" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>Qt5で開発されたアプリケーションのデザインを一括で変更するには、qt5ctを使う事になります。Ubuntu系ディストリビューションの場合は以下のコマンドでインストール出来ます。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$sudo apt-get install qt5ct
</pre></div>
</div>
<p>この設定ツールを起動させる時に、「QT_QPA_PLATFORMTHEME environment variable is not set correctly」というエラーが出る時があります。これは、適切に設定されていない事で出るものですので、以下のように修正してシステムを再起動させれば、直ります。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$sudo nano /etc/environment
</pre></div>
</div>
<p>以下の文を追加。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">QT_QPA_PLATFORMTHEME</span><span class="o">=</span><span class="n">qt5ct</span>
</pre></div>
</div>
</section>
<section id="bluemansettings-schema-org-blueman-general-is-not-installed">
<h2><span class="section-number">1.13. </span>Bluemanを立ち上げた時に「Settings schema 'org.blueman.general' is not installed」のエラーが出た時の対処法<a class="headerlink" href="#bluemansettings-schema-org-blueman-general-is-not-installed" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>UbuntuなどでBluetoothを使う時に、設定マネージャーである「blueman」が立ち上がらずに以下のエラーが表示される事があります。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">blueman</span><span class="o">-</span><span class="n">manager</span><span class="p">:</span><span class="mi">4017</span><span class="p">):</span> <span class="n">GLib</span><span class="o">-</span><span class="n">GIO</span><span class="o">-</span><span class="n">ERROR</span> <span class="o">**</span><span class="p">:</span> <span class="mi">02</span><span class="p">:</span><span class="mi">14</span><span class="p">:</span><span class="mf">55.562</span><span class="p">:</span> <span class="n">Settings</span> <span class="n">schema</span> <span class="s1">&#39;org.blueman.general&#39;</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">installed</span>
</pre></div>
</div>
<p>このメッセージが出たら、以下のコマンドで設定をしてあげれば、bluemanが立ち上がるようになります。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ sudo glib-compile-schemas /usr/share/glib-2.0/schemas
</pre></div>
</div>
</section>
<section id="ubuntuwi-fi">
<h2><span class="section-number">1.14. </span>Ubuntu系ディストリビューションでWi-Fiアダプタの型番を調べるには<a class="headerlink" href="#ubuntuwi-fi" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>Ubuntu系ディストリビューションでWi-Fiアダプタの型番を知るには以下のコマンドを使います。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ sudo lshw -class network
</pre></div>
</div>
<p>以下のように表示されました。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">*-</span><span class="n">usb</span><span class="p">:</span><span class="mi">2</span>
   <span class="n">詳細</span><span class="p">:</span> <span class="n">無線インターフェース</span>
   <span class="n">製品</span><span class="p">:</span> <span class="n">WDC</span><span class="o">-</span><span class="mi">150</span><span class="n">SU2M</span>
   <span class="n">ベンダー</span><span class="p">:</span> <span class="n">ELECOM</span>
   <span class="n">物理ID</span><span class="p">:</span> <span class="mi">8</span>
   <span class="n">バス情報</span><span class="p">:</span> <span class="n">usb</span><span class="o">@</span><span class="mi">1</span><span class="p">:</span><span class="mi">8</span>
   <span class="n">論理名</span><span class="p">:</span> <span class="n">wlxbc5c4c4dc201</span>
   <span class="n">バージョン</span><span class="p">:</span> <span class="mf">0.00</span>
   <span class="n">シリアル</span><span class="p">:</span> <span class="n">bc</span><span class="p">:</span><span class="mi">5</span><span class="n">c</span><span class="p">:</span><span class="mi">4</span><span class="n">c</span><span class="p">:</span><span class="mi">4</span><span class="n">d</span><span class="p">:</span><span class="n">c2</span><span class="p">:</span><span class="mi">01</span>
   <span class="n">性能</span><span class="p">:</span> <span class="n">usb</span><span class="o">-</span><span class="mf">2.00</span> <span class="n">__________________</span> <span class="n">physical</span> <span class="n">wireless</span>
   <span class="n">設定</span><span class="p">:</span> <span class="n">broadcast</span><span class="o">=</span><span class="n">yes</span> <span class="n">driver</span><span class="o">=</span><span class="n">r8188eu</span> <span class="n">ip</span><span class="o">=</span><span class="mf">192.168.100.119</span> <span class="n">maxpower</span><span class="o">=</span><span class="mi">500</span><span class="n">mA</span> <span class="n">multicast</span><span class="o">=</span><span class="n">yes</span> <span class="n">speed</span><span class="o">=</span><span class="mi">480</span><span class="n">Mbit</span><span class="o">/</span><span class="n">s</span> <span class="n">wireless</span><span class="o">=</span><span class="n">IEEE</span> <span class="mf">802.11</span><span class="n">bgn</span>
<span class="o">*-</span><span class="n">network</span>
   <span class="n">詳細</span><span class="p">:</span> <span class="n">イーサネット</span> <span class="n">interface</span>
   <span class="n">製品</span><span class="p">:</span> <span class="n">Ethernet</span> <span class="n">Connection</span> <span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="n">I219</span><span class="o">-</span><span class="n">V</span>
   <span class="n">ベンダー</span><span class="p">:</span> <span class="n">Intel</span> <span class="n">Corporation</span>
   <span class="n">物理ID</span><span class="p">:</span> <span class="mi">1</span><span class="n">f</span><span class="mf">.6</span>
   <span class="n">バス情報</span><span class="p">:</span> <span class="n">pci</span><span class="o">@</span><span class="mi">0000</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">1</span><span class="n">f</span><span class="mf">.6</span>
   <span class="n">論理名</span><span class="p">:</span> <span class="n">enp0s31f6</span>
   <span class="n">バージョン</span><span class="p">:</span> <span class="mi">31</span>
   <span class="n">シリアル</span><span class="p">:</span> <span class="n">d0</span><span class="p">:</span><span class="mi">50</span><span class="p">:</span><span class="mi">99</span><span class="p">:</span><span class="mi">85</span><span class="p">:</span><span class="mi">27</span><span class="p">:</span><span class="n">da</span>
   <span class="n">容量</span><span class="p">:</span> <span class="mi">1</span><span class="n">Gbit</span><span class="o">/</span><span class="n">s</span>
   <span class="n">幅</span><span class="p">:</span> <span class="mi">32</span> <span class="n">bits</span>
   <span class="n">クロック</span><span class="p">:</span> <span class="mi">33</span><span class="n">MHz</span>
   <span class="n">性能</span><span class="p">:</span> <span class="n">pm</span> <span class="n">msi</span> <span class="n">bus_master</span> <span class="n">cap_list</span> <span class="n">__________________</span> <span class="n">physical</span> <span class="n">tp</span> <span class="mi">10</span><span class="n">bt</span> <span class="mi">10</span><span class="n">bt</span><span class="o">-</span><span class="n">fd</span> <span class="mi">100</span><span class="n">bt</span> <span class="mi">100</span><span class="n">bt</span><span class="o">-</span><span class="n">fd</span> <span class="mi">1000</span><span class="n">bt</span><span class="o">-</span><span class="n">fd</span> <span class="n">autonegotiation</span>
   <span class="n">設定</span><span class="p">:</span> <span class="n">autonegotiation</span><span class="o">=</span><span class="n">on</span> <span class="n">broadcast</span><span class="o">=</span><span class="n">yes</span> <span class="n">driver</span><span class="o">=</span><span class="n">e1000e</span> <span class="n">driverversion</span><span class="o">=</span><span class="mf">3.2.6</span><span class="o">-</span><span class="n">k</span> <span class="n">firmware</span><span class="o">=</span><span class="mf">0.8</span><span class="o">-</span><span class="mi">4</span> <span class="n">latency</span><span class="o">=</span><span class="mi">0</span> <span class="n">link</span><span class="o">=</span><span class="n">no</span> <span class="n">multicast</span><span class="o">=</span><span class="n">yes</span> <span class="n">port</span><span class="o">=</span><span class="n">twisted</span> <span class="n">pair</span>
   <span class="n">リソース</span><span class="p">:</span> <span class="n">irq</span><span class="p">:</span><span class="mi">125</span> <span class="n">メモリー</span><span class="p">:</span><span class="n">dff00000</span><span class="o">-</span><span class="n">dff1ffff</span>
</pre></div>
</div>
</section>
<section id="var-lib-apt-listsubuntu">
<h2><span class="section-number">1.15. </span>/var/lib/apt/listsの直下が肥大化するUbuntuの公式リポジトリとは？<a class="headerlink" href="#var-lib-apt-listsubuntu" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>Ubuntuベースでディストリビューションを作成する時には、出来るだけ容量を減らしたいところです。肥大化し易いところとしては、/var/lib/apt/listsがあります。この直下にあるファイルは、sudo apt updateで更新したAPTで管理しているリポジトリのパッケージリストが保管されるところです。つまり、ここの容量を抑えるにはリポジトリの数を減らすのが有効です。</p>
<p>公式リポジトリの中でも肥大化し易いのがUniverseというコンポーネントに所属するものであり、ここだけで何万パッケージというソフトウェアがあります。Linuxとしてだけで使うのであれば、mainとRestrictedのコンポーネントを有効にしておけば良いでしょう。WineなどはUniverseに登録されています。</p>
<p><a class="reference external" href="https://ja.wikipedia.org/wiki/Ubuntu">https://ja.wikipedia.org/wiki/Ubuntu</a></p>
<p>◇/var/lib/apt/listsの肥大化を起こすコンポーネントのPPA:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">deb</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">jp</span><span class="o">.</span><span class="n">archive</span><span class="o">.</span><span class="n">ubuntu</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">ubuntu</span><span class="o">/</span> <span class="n">bionic</span> <span class="n">universe</span>
</pre></div>
</div>
<p>/etc/apt/sources.listをこれらをコメントアウトして、sudo apt-get updateを行えば、/var/lib/apt/listsの容量を大幅に削減可能です。</p>
</section>
<section id="ubiquity-bgrububuntu">
<h2><span class="section-number">1.16. </span>Ubiquityの「-b」オプションでブートローダ「GRUB」のインストール無しでUbuntuをインストールする<a class="headerlink" href="#ubiquity-bgrububuntu" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>Ubuntuに採用されているインストーラー「Ubiquity」は、-bオプションを付けて起動させる事で、ブートローダ「GRUB」のインストールをせずに、OSのインストールを行う事が出来ます。</p>
<p><a class="reference external" href="http://averagelinuxuser.com/install-linux-mint-without-a-bootloader/">http://averagelinuxuser.com/install-linux-mint-without-a-bootloader/</a></p>
<p>$ ubiquity -b</p>
<p>UbiquityによるGRUBインストールは、ユーザーの環境によって失敗する事がありますので、別の方法でGRUBをインストールするようにした方が便利です。</p>
</section>
<section id="error-could-not-locate-dkms-conf-file-file-does-not-exist">
<h2><span class="section-number">1.17. </span>「Error! Could not locate dkms.conf file.File:  does not exist.」が出た場合の対処法<a class="headerlink" href="#error-could-not-locate-dkms-conf-file-file-does-not-exist" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>Ubuntuのバージョンアップを行なった時に、新しいカーネルのインストールが出来ない事があります。その時にエラーメッセージを調べますと、以下のエラーが表示されます。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Error! Could not locate dkms.conf file.
    File:  does not exist.
</pre></div>
</div>
<p>/var/lib/dkms以下に古いファイルがあると、dkmsでモジュールのビルドが出来ない為に、このエラーが発生します。そこで、対処法としてはこの直下の古いファイルを削除すれば良いです。xxxというフォルダがあるとすると以下のコマンドでxxxを削除可能です。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ rm -r /var/lib/dkms/xxx
</pre></div>
</div>
</section>
<section id="squashfs">
<h2><span class="section-number">1.18. </span>SquashFSで作成したファイルの圧縮方式を確認するには<a class="headerlink" href="#squashfs" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>SquashFSで作成したファイルの圧縮方式をするには、xxx.suqashfsというファイルで確認したい場合、以下のコマンドで確認出来ます。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ unsquashfs -s xxx.squashfs | awk &#39;/^Compression/{print $2}&#39;
</pre></div>
</div>
</section>
<section id="id1">
<h2><span class="section-number">1.19. </span>Ubuntuで絵文字がカラーで表示されるようにする<a class="headerlink" href="#id1" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>1.カラー絵文字フォントをダウンロードする:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$mkdir ~/.local/share/fonts ; cd ~/.local/share/fonts &amp;&amp; wget https://github.com/emojione/emojione-assets/releases/download/3.1.2/emojione-android.ttf ; cd -
</pre></div>
</div>
<p>2.フォントの設定を変更する:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$mkdir ~/.config/fontconfig ; cd ~/.config/fontconfig &amp;&amp; wget https://ja.osdn.net/downloads/users/16/16059/fonts.conf ; cd - ; fc-cache -fv
</pre></div>
</div>
</section>
<section id="id2">
<h2><span class="section-number">1.20. </span>各種プログラミング言語リファレンス<a class="headerlink" href="#id2" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>プログラミング言語を使いこなすには、文法から理解し、どのような事が出来るのかを知る事が大切です。</p>
<p>公式サイトやユーザー有志によって作られたリファレンスは、基礎から応用まで様々な知識を身につけられるようになっています。</p>
<p>◇シェルスクリプト
<a class="reference external" href="http://shellscript.sunone.me/">http://shellscript.sunone.me/</a></p>
<p>◇Python</p>
<p><a class="reference external" href="https://www.python.org/">https://www.python.org/</a></p>
<p>◇PHP</p>
<p><a class="reference external" href="http://php.net/">http://php.net/</a></p>
<p>◇JavaScript</p>
<p><a class="reference external" href="https://developer.mozilla.org/ja/docs/Web/JavaScript">https://developer.mozilla.org/ja/docs/Web/JavaScript</a></p>
<p>◇Haskell</p>
<p><a class="reference external" href="https://www.haskell.org/">https://www.haskell.org/</a></p>
<p>◇Java</p>
<p><a class="reference external" href="http://www.oracle.com/technetwork/jp/java/javase/documentation/api-jsp-316041-ja.html">http://www.oracle.com/technetwork/jp/java/javase/documentation/api-jsp-316041-ja.html</a></p>
<p>◇C++</p>
<p><a class="reference external" href="https://msdn.microsoft.com/ja-jp/library/3bstk3k5.aspx">https://msdn.microsoft.com/ja-jp/library/3bstk3k5.aspx</a></p>
<p>◇Processing</p>
<p><a class="reference external" href="https://processing.org/reference/">https://processing.org/reference/</a></p>
<p>◇Ruby</p>
<p><a class="reference external" href="https://docs.ruby-lang.org/ja/">https://docs.ruby-lang.org/ja/</a></p>
<p>◇Perl</p>
<p><a class="reference external" href="https://www.perl.org/">https://www.perl.org/</a></p>
<p>◇Erlang</p>
<p><a class="reference external" href="https://www.erlang.org/">https://www.erlang.org/</a></p>
<p>◇Scala</p>
<p><a class="reference external" href="https://www.scala-lang.org/">https://www.scala-lang.org/</a></p>
<p>◇Swift</p>
<p><a class="reference external" href="https://developer.apple.com/swift/">https://developer.apple.com/swift/</a></p>
</section>
<section id="htsvoiceubuntu">
<h2><span class="section-number">1.21. </span>htsvoiceファイル変換プログラムをUbuntuでも使えるようにする方法<a class="headerlink" href="#htsvoiceubuntu" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>Ubuntu+OpenJtalkでコンピューターに喋らせる事が出来るようになりますが、その音声合成には音声モデルが必要になります。</p>
<p>比較的新しいバージョンのOpenJtalkで使う音声モデルは、htsvoiceファイル一つがありますと使えるようになっています。</p>
<p>ここでは、htsvoiceファイル変換プログラムをUbuntu+OpenJtalk用に使えるようにし、htsvoiceファイルを生成します。</p>
<p>1.初音ミクの音声モデルをダウンロードします。</p>
<p><a class="reference external" href="http://cube370.wiki.fc2.com/wiki/%E8%87%AA%E4%BD%9C%E9%9F%B3%E9%9F%BF%E3%83%A2%E3%83%87%E3%83%AB">http://cube370.wiki.fc2.com/wiki/%E8%87%AA%E4%BD%9C%E9%9F%B3%E9%9F%BF%E3%83%A2%E3%83%87%E3%83%AB</a></p>
<p>2.htsvoice変換プログラムをダウンロードします。</p>
<p><a class="reference external" href="http://neu101.seesaa.net/article/316259910.html">http://neu101.seesaa.net/article/316259910.html</a></p>
<p>3.UbuntuにMonoをインストールします。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$sudo apt-get install mono-mcs
</pre></div>
</div>
<p>4.1と2の圧縮ファイルを解凍し、音声モデルからは「Voice」フォルダを取り出し、htsvoice変換プログラムに付属している「htsvconv.cs」を取り出して、これをMonoでコンパイルします。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$mcs htsvconv.cs
</pre></div>
</div>
<p>5.出来た「htsvconv.exe」でVoiceフォルダの中にある音声モデルのファイル群を一つのhtsvoiceファイルにします。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$mono htsvconv.exe ./Voice
</pre></div>
</div>
</section>
<section id="tumblrwordpress">
<h2><span class="section-number">1.22. </span>Tumblrの記事データをWordPress経由でバックアップ<a class="headerlink" href="#tumblrwordpress" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>Tumblrには、記事のインポート機能やエクスポート機能がありません。</p>
<p>そこで、WordPressのインポート機能。エクスポート機能を活用して、Tumblrの記事データをバックアップしていきます。</p>
<p>WordPressは、自分でサーバを用意してインストールしても構いませんし、WordPress.comを使っても構いませんので、取り敢えず、適当にブログを一つ作成します。</p>
<p>「WordPressの管理」（ダッシュボード）→「ツール」→インポートでTumblrと連携させてインポートを行います。</p>
<p>インポートが完了したら、エクスポートを選択すれば、記事データをXMLで出力する事が出来ます。</p>
<p>インポートした記事は、このインポート画面で「アカウント情報を消去」という項目を選択すれば、WordPressにインポートした記事を消す事ができ、再度Tumblrで作成したサイトを選択すれば、記事が被らずに再度インポートを行えます。</p>
</section>
<section id="atomweb">
<h2><span class="section-number">1.23. </span>テキストエディタ「Atom」に気になるワードをWeb検索出来る機能を追加する<a class="headerlink" href="#atomweb" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>Atomで様々な文章やソースコードを開いている時に、気になるワードがあれば、そのワードをWebで検索したいという事があるでしょう。</p>
<p>これをわざわざブラウザを起動しなくても、Web検索が出来るようにするのが「web-search」というプラグインです。</p>
<p>インストールするには、以下のコマンドをLinuxなどのターミナルで実行します。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$apm install web-search
</pre></div>
</div>
<p>文章ファイルなどの気になるワードを選択した状態で右クリックメニューを出し、「web-search」という項目をクリックすれば、GoogleやWikipediaで調べる事が可能になります。</p>
<img alt="_images/Screenshot20from202017-03-282000-28-29.png" src="_images/Screenshot20from202017-03-282000-28-29.png" />
</section>
<section id="atom">
<h2><span class="section-number">1.24. </span>テキストエディタ「Atom」でターミナルを呼び出す<a class="headerlink" href="#atom" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>テキストエディタ「Atom」でターミナルを使えるようになれば、Pythonスクリプトを実行したり、Sphinxでドキュメントをパブリッシュ出来たりする時に便利です。</p>
<p>ターミナルを使えるようにするにはプラグインを追加します。</p>
<p>「Terminal-plus」と「platformio-ide-terminal」がありますが、Terminal-plusはバージョンによってターミナルを呼び出せない不具合がありますので、platformio-ide-terminalの方が安定していて普段使っているLinuxのターミナルと同じデザインですので良いと思います。</p>
<p>Linuxなどのターミナルで以下のコマンドを入力すればインストール出来ます。</p>
<p><a class="reference external" href="https://atom.io/packages/platformio-ide-terminal">https://atom.io/packages/platformio-ide-terminal</a></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$apm install platformio-ide-terminal
</pre></div>
</div>
<img alt="_images/Screenshot20from202017-03-282000-29-03.png" src="_images/Screenshot20from202017-03-282000-29-03.png" />
</section>
<section id="atomremote-ftp">
<h2><span class="section-number">1.25. </span>ファイルを保存する時に、AtomのRemote-FTPで自動的にサーバにアップロードさせないようにする<a class="headerlink" href="#atomremote-ftp" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>GitHubが開発したテキストエディタ「Atom」。</p>
<p>非常に高機能で使いやすいエディタの一つですが、これのプラグインにRemote-FTPという物があります。このプラグインは、サーバと接続してローカル上のファイルをアップロードしたり、ダウンロードしたりというように、AtomにFTP機能を追加してくれます。</p>
<p>この機能を使う事で、別途FTPソフトを用意する必要が無くなり、効率的にサーバ上のWebページを更新する事が出来ます。</p>
<p>しかし、困った事にアップロードしたくないファイルを編集保存した時に自動的にサーバに繋いでアップロードしてしまいます。このような事が起こらないようにする為には設定を変更します。</p>
<p>上部メニューバーの「File」→「Preferences」→「Packages」→「Remote-FTP」→「Settings」にアクセスして、Auto Upload On Saveを「never」に変更すれば、ファイル保存時に自動的にファイルをサーバにアップロードしなくなります。</p>
<img alt="_images/Screenshot20from202017-03-242015-24-36.png" src="_images/Screenshot20from202017-03-242015-24-36.png" />
</section>
<section id="google-maps-apiapi">
<h2><span class="section-number">1.26. </span>標準版Google Maps APIでのAPIキー取得方法<a class="headerlink" href="#google-maps-apiapi" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p><a class="reference external" href="https://cloud-ja.googleblog.com/2016/07/google-maps-api.html">https://cloud-ja.googleblog.com/2016/07/google-maps-api.html</a></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Google Maps API の標準プランを改定しました
2016年7月8日金曜日
[この記事は Ken Hoetmer, Product Manager, Google Maps APIs による Geo Developers Blog の記事 &quot;Building for Scale: Updates to Google Maps APIs Standard Plan&quot; を元に翻訳・加筆したものです。詳しくは元記事をご覧ください。]
ある開発者が最初に Google マップ のリバース エンジニアリングを行ってから 11 年が経ちました。今や位置情報を活用したアプリやウェブサイトの数は 300 万を超え、そこから毎日数十億件のリクエストが生成されています。これらはすべて Google Maps APIs によって実現されています。Lyft のような勢いのあるベンチャー企業をはじめとして、意欲的なプロジェクトや、さらには公共サービスでの活用に至るまで、地図と位置データが持つ力には、開発者の創造力次第で無限の可能性があります。
この 10 年でインターネットの世界はデスクトップ PC からモバイルデバイスへと大きく様変わりし、それを受けて Google のサービスも進化を遂げ、開発者とユーザーのニーズに対応してきました。デバイスの増加はすなわちリクエストの急激な増加であり、世界中の何億人ものユーザーがインターネットにアクセスしようとしているのが現状です。こうした背景を鑑みて、Google は Google Maps APIs の標準プランの使用制限と価格を一部改定し、よりシンプルで統一性のある内容にいたしました。
2016 年 6 月 22 日（米国時間）、Google Maps APIs の標準プランについて、以下の点を変更いたしました。
1.キーレス アクセス（API キーが含まれていないリクエスト）はサポート対象外となります。今後のプロダクト アップデートは、API キーを使ったリクエストのみが対象となります。API キーが分かれば、Google は必要に応じて開発者の方に連絡を取ることができるようになり、また、正常に動作していない実装も発見しやすくなります。
2.Google Maps JavaScript API、Static Maps API、Street View Image API の新たな実装に対し、マップ ロードは 1 日あたり 25,000 件まで無料とします。また、これらの API に関しては、これまで存在していた連続 90 日間という猶予期間を 2016 年 10 月 12 日をもって廃止します。この変更により、開発者の皆様は将来的な増加計画を立てられるようになります。
3.Google Maps JavaScript API、Static Maps API、Street View Image API について、購入できる 1 日あたりのマップ ロードの上限を 1,000,000 から 100,000 リクエスト（API あたり）に減らしました（注）。使用量が多い場合は、テクニカル サポートとサービス レベル契約が含まれるプレミアム プラン ライセンスをお選びください。また、この変更により、マップとウェブ サービス API の全体を通して、標準プランの割当量が統一されることになります。
4.関連するウェブ サービス API の 1 日の使用制限に関して、Google Maps JavaScript API クライアント側リクエスト数が集計されるようになります（注）。
以上の変更点は、2016 年 6 月 22 日以降に作成されたすべての Maps API 実装に対して即時適用されます。
既存のアプリケーションについては、現在の使用量に基づいて適用除外とし、今後も引き続き機能できるようにいたします。また、使用量の増加パターンに基づいて、今後影響があると思われる既存の API キー ユーザーの皆様にはこちらから連絡をさせていただきます。すでに利用されている皆様は、こちらの標準プランのポリシー改定の概要（英語）をご一読いただき、今回の改定によってアプリケーションにどのような影響がおよぶのかをご確認ください。
</pre></div>
</div>
<p>このように、標準版のGoogle Maps APIを使うにはアクセスキーを取得する必要があります。</p>
<p>取得方法は、以下のリンクにアクセスしてウィザード通りに手続きを進めていくだけです。</p>
<p><a class="reference external" href="https://developers.google.com/maps/documentation/javascript/get-api-key#key">https://developers.google.com/maps/documentation/javascript/get-api-key#key</a></p>
<p>「Get Key」ボタンを押して順序通りに手続きを進めていく事でAPIキーの取得が出来ます。</p>
<p>取得したAPIキーは以下のように設定します。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">script</span> <span class="n">src</span><span class="o">=</span><span class="s2">&quot;https://maps.googleapis.com/maps/api/js?key=XXXXXXXXXXXXX&quot;</span><span class="o">&gt;&lt;/</span><span class="n">script</span><span class="o">&gt;</span><span class="p">;</span>
</pre></div>
</div>
<p>クエリとしてURLに追加してあげれば良いです。</p>
</section>
<section id="wine">
<h2><span class="section-number">1.27. </span>Wineで音割れがするのを改善する方法<a class="headerlink" href="#wine" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>UbuntuなどのLinuxディストリビューションで使えるWindows APIレイヤー「Wine」は、WindowsのAPIを移植する事でWindowsソフトウェアを動かそうという革新的なプロジェクトです。フロントエンドのPlayOnLinuxを使えば、ソフトウェアの管理を行ったり、バージョンが違うWineを複数導入して管理したりする事が出来ます。</p>
<p>但し、Wineはかなり機能面で強化されてきたとは言っても、Windowsを再現するには、色々なAPIが再現されておらず、その為、Windowsソフトウェアを全て動作させる事が出来ません。</p>
<p>市販されているゲームソフトや同人ソフトは、動作する物と動作しない物があります。3Dゲームで遊ぶ場合には、ミドルレンジ以上のグラフィックボードが必要になります。</p>
<p>ゲームソフトが動作した場合、比較的快適に遊べますが、音が割れる事があります。これはPulse Audioによる影響であり、PulseAudioとJack Audio Connection Kitを連携させる事で解消する事が出来ます。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$sudo apt-get install jack qjackctl alsaplayer-jack pulseaudio-module-jack pavucontrol
</pre></div>
</div>
<p>PulseAudioが動いている状態で、qjackctlを起動させると、pulseaudio-module-jack経由でPulseAudioからD-Busを通してJackにサウンドデータを流す事が出来ます。Jack対応アプリケーションを動作させて、qjackctlやpavucontrolで接続を確認します。「PulseAudio JACK Sink」などが出ていたら、音が出るはずです。pavucontrolでミュートになっていないか確認しておくと良いでしょう。Wineは、winetricksでサウンドをALSAに変更します。これで、Wineの音割れは無くなります。</p>
<p><a class="reference external" href="https://wiki.ubuntulinux.jp/UbuntuStudioTips/Application/JACK-PulseAudio">https://wiki.ubuntulinux.jp/UbuntuStudioTips/Application/JACK-PulseAudio</a></p>
</section>
<section id="smplayer-mpv-youtube-dl1080p60fpsgpu">
<h2><span class="section-number">1.28. </span>SMPlayer+MPV+youtube-dlで動画共有サイトの1080p60fps動画をGPUの動画支援機能で動作させる<a class="headerlink" href="#smplayer-mpv-youtube-dl1080p60fpsgpu" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>Ubuntu環境でSMPlayerを使っている人は多いと思います。この環境を活用して、MPVやyoutube-dlと連携させて、Youtubeなどの動画共有サイトで公開されている1080p60fpsの動画をGPUの動画支援機能で動作させる事が可能です。Webブラウザで視聴するよりも消費電力が低くなるのが利点です。</p>
<p>◇環境
CPU : Celeron G 3900（2.8GHzデュアルコア、Skylake）</p>
<p>Motherboard : ASROCK B150M-COMBO-G(Micro-ATX、DDR4/DDR3排他仕様)</p>
<p>Memory : CFD DDR3-1600 4GBx2</p>
<p>Case : Century CSI-1299GG(Black、ミニタワー)</p>
<p>Power Supply : Silverstone ST30SF</p>
<p>Strage : Sundisk SSD 240GB + Toshiba MQ01ABD050(2.5inch HDD 500GB)</p>
<p>Graphicboard : MSI RADEON RX 460 2GB GDDR5</p>
<p>OS : Valkyrie SRX 17.13（Ubuntu 16.04 LTSベースのオリジナルLinuxディストリビューション）</p>
<p>◇ソフトウェアとインストール方法</p>
<p>SMPlayer</p>
<p>MPV</p>
<p>youtube-dl</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$sudo apt-get install smplayer mpv youtube-dl
</pre></div>
</div>
<p>◇設定
・「全般」→「全般」→「MPlayer/mpvの実行ファイル」のパスを入力する</p>
<img alt="_images/Screenshot20from202017-04-082015-43-25.png" src="_images/Screenshot20from202017-04-082015-43-25.png" />
<p>・「全般」→「出力ドライバー」を「vdpau」にする。「直接描画」「ダブルバッファー」「スクリーンセーバーを無効にする」にチェックを入れる</p>
<img alt="_images/Screenshot20from202017-04-082014-08-44.png" src="_images/Screenshot20from202017-04-082014-08-44.png" />
<p>・「全般」→「オーディオ」をpulseかalsaを選択する。</p>
<img alt="_images/Screenshot20from202017-04-082014-08-49.png" src="_images/Screenshot20from202017-04-082014-08-49.png" />
<p>・「パフォーマンス」→「ハードウェアデコード」を「vdpau」に変更</p>
<img alt="_images/Screenshot20from202017-04-082014-08-57.png" src="_images/Screenshot20from202017-04-082014-08-57.png" />
<p>・「ネットワーク」→「Youtube（およびその他のサイト）」で「Youtubeの内部サポートを有効にする」のチェックを外す。「MPVのストリーミングサイトへの対応を有効にする」にチェックを入れる。</p>
<img alt="_images/Screenshot20from202017-04-082014-09-28.png" src="_images/Screenshot20from202017-04-082014-09-28.png" />
<p>SMPlayer 17.4以降は以下のように「mpv+youtube-dl」を選択するだけで良くなった。</p>
<img alt="_images/Screenshot20from202017-04-092011-55-26.png" src="_images/Screenshot20from202017-04-092011-55-26.png" />
<p>・「詳細設定」→「MPlayer/mpvのオプション」に「--ytdl-format=bestvideo+bestaudio」を追加。これでyoutubeの動画で1080p60fpsの物まで再生が可能になりますが、Dailymotionなどの動画も再生するのであれば、このオプションを付ける事で再生出来なくなってしまうので注意が必要です。</p>
<img alt="_images/Screenshot20from202017-04-082014-09-13.png" src="_images/Screenshot20from202017-04-082014-09-13.png" />
<p>その原因は、VP9でエンコードした動画を指定しているようですので、VP9でエンコードされた動画を指定しないように設定すれば、Youtube以外の動画サイトの動画も再生出来るようになります。以下の例では、1080p以上の動画を観ない設定も同時に行っています。</p>
<p>コマンドは、「--ytdl-format=bestvideo[height&lt;=1080][vcodec!=VP9]+bestaudio/best」</p>
<img alt="_images/Screenshot20from202017-04-082017-28-24-276aa.png" src="_images/Screenshot20from202017-04-082017-28-24-276aa.png" />
<p>◇視聴</p>
<img alt="_images/Screenshot20from202017-04-082013-52-14.png" src="_images/Screenshot20from202017-04-082013-52-14.png" />
<img alt="_images/Screenshot20from202017-04-082014-08-20.png" src="_images/Screenshot20from202017-04-082014-08-20.png" />
</section>
<section id="squashfs-toolszstd">
<h2><span class="section-number">1.29. </span>squashfs-toolsでzstdを使えるようにする<a class="headerlink" href="#squashfs-toolszstd" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>環境は、Ubuntu 16.04 LTS、GCC 7.2とします。</p>
<ol class="arabic simple">
<li><p><a class="reference external" href="https://github.com/facebook/zstd">https://github.com/facebook/zstd</a>  でZstandardのソースコードを取得します。</p></li>
</ol>
<p>2.ダウンロードしたファイルを解凍し、zstd-devフォルダに移動します。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$cd zstd-dev
</pre></div>
</div>
<p>3.ビルドを行い、インストールします。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$sudo su

#make &amp;&amp; make install
</pre></div>
</div>
<ol class="arabic simple" start="5">
<li><p><a class="reference external" href="https://github.com/iburinoc/squashfs-tools/tree/master">https://github.com/iburinoc/squashfs-tools/tree/master</a> でZstd対応のsquashfs-toolsのソースコードをダウンロードします。</p></li>
</ol>
<p>6.ダウンロードしたファイルを解凍して、squashfs-tools-master/squashfs-toolsへ移動します。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$cd squashfs-tools-master/squashfs-tools
</pre></div>
</div>
<p>7.Makefileを以下のように書き換えます。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ZSTD_SUPPORT</span> <span class="o">=</span> <span class="mi">1</span>

<span class="n">ZSTD_DIR</span> <span class="o">=</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="n">lib</span>
</pre></div>
</div>
<p>8.ビルドしてインストールします。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$sudo su

#make &amp;&amp; make install
</pre></div>
</div>
<p>9.ホームディレクトリにある「.bashrc」で共有ライブラリにパスを通します。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">export</span> <span class="n">LD_LIBRARY_PATH</span><span class="o">=</span><span class="s2">&quot;/usr/local/lib&quot;</span>
</pre></div>
</div>
<p>10.以下のコマンドでsquashfsファイルが生成出来れば、SquashFSでZstdが使えます。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$mksquashfs test.txt test.sfs -comp zstd
</pre></div>
</div>
<p>他の圧縮方式を追加したい場合は、7番で行ったMakefileで各圧縮方式に対応した部分のコメントアウトを外してビルド・インストールを行えば良いでしょう。</p>
</section>
<section id="instagrampc">
<h2><span class="section-number">1.30. </span>InstagramをPCのブラウザから使う<a class="headerlink" href="#instagrampc" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>PCからも投稿出来ます。</p>
<p>1.Google ChromeやChromiumであれば、まず、<a class="reference external" href="https://www.instagram.com">https://www.instagram.com</a> にアクセスして、Ctrl+Shift+Iでデベロッパーツールを起動させます。</p>
<p>2.デベロッパーツールの左上部にあるアイコンの2つ目をクリックすると、モバイル端末向けのデザインに変化します。この状態で、ページを再読み込みすれば、上部にカメラアイコンが出てきますので、これをクリックすれば、パソコンに保存している写真をアップロード出来ます。</p>
<img alt="_images/chromium20171007a.jpg" src="_images/chromium20171007a.jpg" />
<p>3.但し、この方法は、Twitter連携機能に対応していないので注意が必要です。</p>
<p>4.PC向けのブラウザからアップロードするには、ユーザーエージェントをモバイル端末向けに変更すれば良いという事になりますので、ユーザーエージェントスイッチが出来るアドオンを導入すれば便利になるでしょう。</p>
</section>
<section id="gcc7">
<h2><span class="section-number">1.31. </span>GCC7のデフォルト化<a class="headerlink" href="#gcc7" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>GCC7をインストールして、update-alternativesでシンボリックリンクを張ります。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">update</span> <span class="o">&amp;&amp;</span> \
<span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">install</span> <span class="n">build</span><span class="o">-</span><span class="n">essential</span> <span class="n">software</span><span class="o">-</span><span class="n">properties</span><span class="o">-</span><span class="n">common</span> <span class="o">-</span><span class="n">y</span> <span class="o">&amp;&amp;</span> \
<span class="n">sudo</span> <span class="n">add</span><span class="o">-</span><span class="n">apt</span><span class="o">-</span><span class="n">repository</span> <span class="n">ppa</span><span class="p">:</span><span class="n">ubuntu</span><span class="o">-</span><span class="n">toolchain</span><span class="o">-</span><span class="n">r</span><span class="o">/</span><span class="n">test</span> <span class="o">-</span><span class="n">y</span> <span class="o">&amp;&amp;</span> \
<span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">update</span> <span class="o">&amp;&amp;</span> \
<span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">install</span> <span class="n">gcc</span><span class="o">-</span><span class="n">snapshot</span> <span class="o">-</span><span class="n">y</span> <span class="o">&amp;&amp;</span> \
<span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">update</span> <span class="o">&amp;&amp;</span> \
<span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">install</span> <span class="n">gcc</span><span class="o">-</span><span class="mi">7</span> <span class="n">g</span><span class="o">++-</span><span class="mi">7</span> <span class="o">-</span><span class="n">y</span> <span class="o">&amp;&amp;</span> \
<span class="n">sudo</span> <span class="n">update</span><span class="o">-</span><span class="n">alternatives</span> <span class="o">--</span><span class="n">install</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">gcc</span> <span class="n">gcc</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">gcc</span><span class="o">-</span><span class="mi">7</span> <span class="mi">60</span> <span class="o">--</span><span class="n">slave</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">g</span><span class="o">++</span> <span class="n">g</span><span class="o">++</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">g</span><span class="o">++-</span><span class="mi">7</span>
</pre></div>
</div>
<p>デフォルトのGCCを変更したい場合は以下のコマンドを入力します。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">update</span><span class="o">-</span><span class="n">alternatives</span> <span class="o">--</span><span class="n">config</span> <span class="n">gcc</span>
</pre></div>
</div>
</section>
<section id="dockerpython">
<h2><span class="section-number">1.32. </span>DockerでPython環境を構築する<a class="headerlink" href="#dockerpython" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>Ubuntu系ディストリビューションにDockerを入れる場合は、Ubuntuに最適化されている物で良いでしょう。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">install</span> <span class="n">docker</span><span class="o">.</span><span class="n">io</span>
</pre></div>
</div>
<p>以下は本家版です。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>`Docker &lt;https://docs.docker.com/engine/installation/linux/docker-ce/ubuntu/#uninstall-old-versions&gt;`_
</pre></div>
</div>
<p>Dockerコンテナを起動させる時には、rootになる必要があるので、sudoが面倒くさい時にはユーザー登録:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">adduser</span> <span class="n">ユーザ名</span> <span class="n">docker</span>
</pre></div>
</div>
<p>再ログインします。</p>
<p>Dockerコンテナを起動させる時には、rootになる必要があるので、sudoが面倒くさい時にはユーザー登録:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">adduser</span> <span class="n">ユーザ名</span> <span class="n">docker</span>
</pre></div>
</div>
<p>再ログイン
groupsコマンドで確認:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">groups</span>
</pre></div>
</div>
<p>hello worldプログラムで動作確認します。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">docker</span> <span class="n">run</span> <span class="n">hello</span><span class="o">-</span><span class="n">world</span>
</pre></div>
</div>
<p>Ubuntu 16.04 LTSベースのコンテナは、これで作成が出来ます。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">docker</span> <span class="n">run</span> <span class="o">-</span><span class="n">i</span> <span class="o">-</span><span class="n">t</span> <span class="n">ubuntu</span><span class="p">:</span><span class="mf">16.04</span> <span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">bash</span>
</pre></div>
</div>
<p>◇動作しているDockerコンテナ確認:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">docker</span> <span class="n">ps</span>
</pre></div>
</div>
<p>◇停止しているDockerコンテナ確認:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">docker</span> <span class="n">ps</span> <span class="o">-</span><span class="n">a</span>
</pre></div>
</div>
<p>◇特定のイメージのコンテナを削除:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">docker</span> <span class="n">rm</span> <span class="n">コンテナID</span>
</pre></div>
</div>
<p>◇既に作成したDockerコンテナを起動させる
IMAGEがubuntu:16.04となっている場合には、以下のコマンドを実行すれば、Docker Engineにマウント出来ます。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">docker</span> <span class="n">run</span> <span class="o">-</span><span class="n">t</span> <span class="o">-</span><span class="n">i</span> <span class="n">ubuntu</span><span class="p">:</span><span class="mf">16.04</span>
</pre></div>
</div>
<p>コンテナをマウントする事が出来れば、Ubuntu上で端末を使った操作が行えるようになります。</p>
<p>◇Python環境を構築します。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#apt-get install python3.5</span>
<span class="c1">#apt-get install -y python python3 python-pip python3-pip xfce4-terminal libglade2-0</span>
<span class="c1">#apt-get install -y mecab mecab-utils mecab-naist-jdic  mecab-naist-jdic-eucjp mecab-jumandic python-mecab ffmpeg</span>
<span class="c1">#apt-get install -y python-tk python3-tk python-dev libxml2-dev libxslt-dev python3-dev</span>
<span class="c1">#pip2 install --no-cache-dir scipy numpy pandas seaborn scikit-learn statsmodels beautifulsoup4 matplotlib</span>
<span class="c1">#pip3 install --no-cache-dir scipy numpy pandas seaborn scikit-learn statsmodels beautifulsoup4 matplotlib</span>
<span class="c1">#apt-get install python-pip python-dev python-virtualenv</span>
<span class="c1">#apt-get install python3-pip python3-dev python-virtualenv</span>
<span class="c1">#pip install --upgrade tensorflow</span>
<span class="c1">#pip3 install --upgrade tensorflow</span>
<span class="c1">#pip install --upgrade tensorflow-gpu</span>
<span class="c1">#pip3 install --upgrade tensorflow-gpu</span>
</pre></div>
</div>
<p>◇コンテナ終了:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">exit</span>
</pre></div>
</div>
</section>
<section id="twitter">
<h2><span class="section-number">1.33. </span>Twitter向けのテクニック<a class="headerlink" href="#twitter" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>◇Twitterバックアップ方法</p>
<p>1.右上のプロフィール画像のアイコンをクリック</p>
<p>2.「設定とプライバシー」→ユーザー情報→「全ツィート履歴をリクエストする」をクリック</p>
<p>3.しばらくすると、登録メルアドにメールが届いているので、そのメールのダウンロードボタンを押すとZIPでダウンロードします。</p>
<p>◇Twitterのプロフィール画像・ヘッダ画像の最適化なサイズ</p>
<p>プロフィール画像とヘッダ画像を変更する事で、ユーザーの個性を引き出す事が出来ます。Twitter社が推奨するサイズは以下の通りです。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>プロフィール画像（アイコン）　ー　400ピクセル×400ピクセル（最大10MB）

ヘッダ画像　ー　1500ピクセル×500ピクセル（最大10MB）
</pre></div>
</div>
<p>◇特定のユーザーのツイートを検索する</p>
<p>「&#64;ユーザー名　検索したいワード」</p>
<p>ハッシュタグの場合は以下のようにします。</p>
<p>「&#64;ユーザー名　#検索したいワード」</p>
</section>
<section id="id3">
<h2><span class="section-number">1.34. </span>【このリクエストはコンピュータによる自動的なものと判断されました。Twitterユーザーをスパムやその他の迷惑行為から保護するために、このリクエストを保留しています。しばらくしてからもう一度お試しください。】の対処法<a class="headerlink" href="#id3" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>【このリクエストはコンピュータによる自動的なものと判断されました。Twitterユーザーをスパムやその他の迷惑行為から保護するために、このリクエストを保留しています。しばらくしてからもう一度お試しください。】というTwitterの中途半端なスパム対策のせいでこういうメッセージが出る人が続出しています。</p>
<p>対処法は簡単であり、登録メールに該当メールが来ているはずなので、そのメールの指示通りにパスワードを変更するだけで復旧します。</p>
</section>
<section id="mysql">
<h2><span class="section-number">1.35. </span>MySQLで知っておくべき事<a class="headerlink" href="#mysql" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>◎root権限でmysqlを起動:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$sudo su
$mysql -u root -p
</pre></div>
</div>
<p>◎パスワード変更:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>shell&gt; mysqladmin -u user_name -h host_name password “newpwd”
</pre></div>
</div>
<p>◎一般ユーザー作成:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">GRANT</span> <span class="n">ALL</span> <span class="n">PRIVILEGES</span> <span class="n">ON</span> <span class="o">*.*</span> <span class="n">TO</span> <span class="n">user</span><span class="nd">@localhost</span> <span class="n">IDENTIFIED</span> <span class="n">BY</span> <span class="s1">&#39;password&#39;</span> <span class="n">WITH</span> <span class="n">GRANT</span> <span class="n">OPTION</span><span class="p">;</span>
<span class="n">FLUSH</span> <span class="n">PRIVILEGES</span><span class="p">;</span>
</pre></div>
</div>
<p>◎ERROR 1045 (28000): Access denied for user <a class="reference external" href="mailto:'root'&#37;&#52;&#48;'localhost">'root'<span>&#64;</span>'localhost</a>' (using password: NO):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>ERROR 1045 (28000): Access denied for user ‘root’@&#39;localhost’ (using password: NO)
</pre></div>
</div>
<p>上記のエラーが出た時の対処法はmysqlコマンドを使う時に「-p」を付けると設定したパスワードを要求するようになります。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$mysql -u root -p
</pre></div>
</div>
</section>
<section id="alsa">
<h2><span class="section-number">1.36. </span>ALSAの音量設定の保存方法<a class="headerlink" href="#alsa" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>LinuxでのサウンドドライバはALSAですが、システム起動音などを調整して、その音量を永続的に保ちたい場合があります。alsactlというツールを使う事で音量設定の保存が可能です。</p>
<p>1.alsamixerで音量を調整:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$alsamixer
</pre></div>
</div>
<p>2.alsactlで音量設定を保存:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$sudo alsactl store
</pre></div>
</div>
</section>
<section id="gitzen-kernel-source">
<h2><span class="section-number">1.37. </span>GitでZen Kernel Sourceを取得<a class="headerlink" href="#gitzen-kernel-source" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>◇Zen Kernel Source取得:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$git clone https://github.com/zen-kernel/zen-kernel.git
$cd zen-kernel
$git checkout origin/4.10/master
</pre></div>
</div>
<p>◇最新のリモートのブランチの情報をローカルに反映:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$git fetch
</pre></div>
</div>
<p>◇ブランチ確認:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$git branch -a
</pre></div>
</div>
<p>◇ブランチ切り替え:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$git checkout -b origin/4.11/upstream-updates
</pre></div>
</div>
</section>
<section id="livecdaufs">
<h2><span class="section-number">1.38. </span>LiveCD用のカーネルを作るためにaufsのパッチを当てる<a class="headerlink" href="#livecdaufs" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>UbuntuなどのLinuxディストリビューションは、アプリケーションやスクリプトを使ってLiveCDを作成する事が可能です。しかし、カーネルをビルドする際に、UbuntuのようにLiveCDの造りがcasperを活用している場合、aufsに対応したカーネルで無ければ、起動出来ず、Busyboxに落ちてしまいます。</p>
<p>そこで、新しい機能を持ったLinuxカーネルをソースコードからビルドしてLiveCD上で起動出来るように、aufsパッチを当てます。</p>
<p>aufsは以下のサイトで公開されています。サイトにアクセスすれば分かりますが、カーネルバージョンナンバーとaufsのバージョンが同じ物になっています。このバージョン番号を合わせないと、パッチを当てる時にエラーが出て、ビルド時にもエラーが発生してビルドを完了する事が出来ません。</p>
<p>aufsのソースコードの入手方法は、Gitを使うようになっています。</p>
<p><a class="reference external" href="http://aufs.sourceforge.net/">http://aufs.sourceforge.net/</a></p>
<p>Linuxカーネル4.10であれば、aufs4.10を入手します。</p>
<p>Linuxカーネルのソースのディレクトリとaufsのディレクトリを同じ場所にしておきます。新規にフォルダを作っても良いですが、別にユーザーディレクトリ上に置いても構いません。ここでは、Linuxのソースコードが入ったフォルダを「linux」としておきます。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$git clone git://github.com/sfjro/aufs4-standalone.git
$git checkout origin/aufs4.10
</pre></div>
</div>
<p>Linuxカーネルのソースコードにパッチを当てます。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">patch</span> <span class="o">-</span><span class="n">p1</span> <span class="o">&lt;</span> <span class="o">./</span><span class="n">aufs4</span><span class="o">-</span><span class="n">standalone</span><span class="o">/</span><span class="n">aufs4</span><span class="o">-</span><span class="n">kbuild</span><span class="o">.</span><span class="n">patch</span>
<span class="n">patch</span> <span class="o">-</span><span class="n">p1</span> <span class="o">&lt;</span> <span class="o">./</span><span class="n">aufs4</span><span class="o">-</span><span class="n">standalone</span><span class="o">/</span><span class="n">aufs4</span><span class="o">-</span><span class="n">base</span><span class="o">.</span><span class="n">patch</span>
<span class="n">patch</span> <span class="o">-</span><span class="n">p1</span> <span class="o">&lt;</span> <span class="o">./</span><span class="n">aufs4</span><span class="o">-</span><span class="n">standalone</span><span class="o">/</span><span class="n">aufs4</span><span class="o">-</span><span class="n">mmap</span><span class="o">.</span><span class="n">patch</span>
<span class="n">patch</span> <span class="o">-</span><span class="n">p1</span> <span class="o">&lt;</span> <span class="o">./</span><span class="n">aufs4</span><span class="o">-</span><span class="n">standalone</span><span class="o">/</span><span class="n">aufs4</span><span class="o">-</span><span class="n">standalone</span><span class="o">.</span><span class="n">patch</span>
</pre></div>
</div>
<p>カーネルバージョンとaufsのバージョンが合っていれば、パッチ当てが成功するはずです。失敗したら、バージョンを確認して再度行います。</p>
<p>aufsのフォルダからいくつかのファイルをlinuxフォルダにコピーします。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$cp -rp aufs4-standalone/fs/ linux/
$cp -rp aufs4-standalone/Documentation/ linux/
$cp -rp aufs4-standalone/include/uapi/linux/aufs_type.h linux/
</pre></div>
</div>
<p>linuxフォルダに移動して、.configファイルを作成します。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$make oldconfig
$make xconfig
</pre></div>
</div>
<p>後は、Makefileのバージョン名などを変更したいのであれば、変更してビルドします。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$sudo make-kpkg -j3 --initrd linux_image linux_headers
</pre></div>
</div>
</section>
<section id="linuxi-o">
<h2><span class="section-number">1.39. </span>一時的にLinuxカーネルのI/Oスケジューラーを変更する方法<a class="headerlink" href="#linuxi-o" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>Linuxカーネルには、様々なI/Oスケジューラーが用意されています。カーネルをソースコードからビルドする時に、I/Oスケジューラーを設定しておくのが一般的ですが、現在利用しているカーネルで一時的にI/Oスケジューラーの変更をしたい時には、以下のコマンドを使うと良いでしょう。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="o">--</span> <span class="n">sh</span> <span class="o">-</span><span class="n">c</span> <span class="s1">&#39;echo cfq &gt; /sys/block/sda/queue/scheduler&#39;</span>
</pre></div>
</div>
<p>「cfq」の部分を「deadline」「noop」「bfq」という風に変更するだけです。</p>
<p>確認のコマンドは以下の通りです。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cat</span> <span class="o">/</span><span class="n">sys</span><span class="o">/</span><span class="n">block</span><span class="o">/</span><span class="n">sda</span><span class="o">/</span><span class="n">queue</span><span class="o">/</span><span class="n">scheduler</span>
</pre></div>
</div>
<p>一方で、永続的に設定変更をしたいのであれば、Grubの設定を変更します。Ubuntu系Linuxディストリビューションでは、/etc/default/gurbの「GRUB_CMDLINE_LINUX_DEFAULT=&quot;&quot;」に以下のコマンドを追加します。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">elevator</span><span class="o">=</span><span class="n">deadline</span>
</pre></div>
</div>
<p>deadlineの部分をcfqやbfq、deadlineに変更すれば、アルゴリズムを好きなように変更する事が出来ます。</p>
<p>他のコマンドも記述する場合は、半角スペースで区切っていきます。</p>
</section>
<section id="cpui-o">
<h2><span class="section-number">1.40. </span>CPUスケジューラとI/Oスケジューラの組み合せを探って性能アップを目指す<a class="headerlink" href="#cpui-o" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>Linuxカーネルをビルドするのに、Zen KernelにAufsのパッチを当てたソースを使っています。以前、UbuntuカーネルのソースコードにMuQSSパッチを当ててビルドをしたら、Wineが動かなかったという事を書きましたが、Zen Kernelと&lt;a href=&quot;<a class="reference external" href="https://liquorix.net/">https://liquorix.net/</a>&quot; target=&quot;_blank&quot;&gt;LIQUORIX KERNEL&lt;/a&gt;のコンフィグファイルを使えば、ビルドが出来てWineが動作しました。</p>
<p>ビルドの際には、.configファイルを作成する事になりますが、この時に該当するパッチを当てていたら、CPUスケジューラにMuQSS、I/OスケジューラにBFQが追加されて選択する事が出来ます。この組み合せだけでも、PCのパフォーマンスが大きく変わってくるようです。</p>
<p>・CFS+CFS　デフォルトのUbuntuと同じ</p>
<p>・CFS+BFQ　低レイテンシカーネル環境で効果あり。WineやPCSX2などで動作する3Dゲームのパフォーマンスが大きく向上。</p>
<p>・MuQSS+BFQ　Manjaroなどで採用されているらしい。僕の環境では3DゲームでCPU使用率が高くなり、カクつきなどが発生した。しかし、普通の用途ではかなり動作が軽くなったので、一般的な用途やプログラミング用途などで有効でしょう。</p>
<p>この他にも、MuQSS+CFQ/Deadline/noopといった組み合せが考えられますが、これから試していくつもりです。</p>
<p>ただ、現在のところ、CFS+BFQが一番レスポンスの良さを感じますが、3Dゲームにおけるフレームレートが安定しないのがデメリットです。</p>
<p>Zen Intaractive Tuneの説明は以下のように書かれています。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Tune</span> <span class="n">kernel</span> <span class="k">for</span> <span class="n">interactivity</span> <span class="p">(</span><span class="n">ZEN_INTERACTIVE</span><span class="p">)</span>

<span class="nb">type</span><span class="p">:</span> <span class="n">boolean</span>
<span class="n">unknown</span> <span class="nb">property</span><span class="p">:</span> <span class="n">symbol</span>
<span class="n">prompt</span><span class="p">:</span> <span class="n">Tune</span> <span class="n">kernel</span> <span class="k">for</span> <span class="n">interactivity</span>
<span class="n">default</span><span class="p">:</span> <span class="n">y</span>

<span class="n">defined</span> <span class="n">at</span> <span class="n">init</span><span class="o">/</span><span class="n">Kconfig</span><span class="p">:</span><span class="mi">50</span>

<span class="n">CONFIG_ZEN_INTERACTIVE</span><span class="p">:</span>

<span class="n">Tunes</span> <span class="n">the</span> <span class="n">kernel</span> <span class="k">for</span> <span class="n">responsiveness</span> <span class="n">at</span> <span class="n">the</span> <span class="n">cost</span> <span class="n">of</span> <span class="n">throughput</span> <span class="ow">and</span> <span class="n">power</span> <span class="n">usage</span><span class="o">.</span>

<span class="o">---</span> <span class="n">Virtual</span> <span class="n">Memory</span> <span class="n">Subsystem</span> <span class="o">---------------------------</span>

<span class="n">Mem</span> <span class="n">dirty</span> <span class="n">before</span> <span class="n">bg</span> <span class="n">writeback</span><span class="o">..</span><span class="p">:</span> <span class="mi">10</span> <span class="o">%</span> <span class="o">-&gt;</span> <span class="mi">20</span> <span class="o">%</span>

<span class="n">Mem</span> <span class="n">dirty</span> <span class="n">before</span> <span class="n">sync</span> <span class="n">writeback</span><span class="p">:</span> <span class="mi">20</span> <span class="o">%</span> <span class="o">-&gt;</span> <span class="mi">50</span> <span class="o">%</span>

<span class="o">---</span> <span class="n">Block</span> <span class="n">Layer</span> <span class="o">----------------------------------------</span>

<span class="n">Block</span> <span class="n">Layer</span> <span class="n">Queue</span> <span class="n">Depth</span><span class="o">........</span><span class="p">:</span> <span class="mi">128</span> <span class="o">-&gt;</span> <span class="mi">512</span>

<span class="o">---</span> <span class="n">CPU</span> <span class="n">Scheduler</span> <span class="p">(</span><span class="n">CFS</span><span class="p">)</span> <span class="o">--------------------------------</span>

<span class="n">Scheduling</span> <span class="n">latency</span><span class="o">.............</span><span class="p">:</span> <span class="mi">6</span> <span class="o">-&gt;</span> <span class="mi">3</span> <span class="n">ms</span>
<span class="n">Minimal</span> <span class="n">granularity</span><span class="o">............</span><span class="p">:</span> <span class="mf">0.75</span> <span class="o">-&gt;</span> <span class="mf">0.3</span> <span class="n">ms</span>
<span class="n">Wakeup</span> <span class="n">granularity</span><span class="o">.............</span><span class="p">:</span> <span class="mi">1</span> <span class="o">-&gt;</span> <span class="mf">0.5</span> <span class="n">ms</span>
<span class="n">CPU</span> <span class="n">migration</span> <span class="n">cost</span><span class="o">.............</span><span class="p">:</span> <span class="mf">0.5</span> <span class="o">-&gt;</span> <span class="mf">0.25</span> <span class="n">ms</span>
<span class="n">Bandwidth</span> <span class="nb">slice</span> <span class="n">size</span><span class="o">...........</span><span class="p">:</span> <span class="mi">5</span> <span class="o">-&gt;</span> <span class="mi">3</span> <span class="n">ms</span>
<span class="n">Ondemand</span> <span class="n">fine</span> <span class="n">upscaling</span> <span class="n">limit</span><span class="o">..</span><span class="p">:</span> <span class="mi">95</span> <span class="o">%</span> <span class="o">-&gt;</span> <span class="mi">85</span> <span class="o">%</span>
<span class="n">Ondemand</span> <span class="nb">min</span> <span class="n">upscaling</span> <span class="n">limit</span><span class="o">...</span><span class="p">:</span> <span class="mi">1</span> <span class="o">%</span> <span class="o">-&gt;</span> <span class="mi">6</span> <span class="o">%</span>
<span class="n">Ondemand</span> <span class="n">downscaling</span> <span class="n">factor</span><span class="o">....</span><span class="p">:</span> <span class="mi">1</span> <span class="o">-&gt;</span> <span class="mi">10</span>

<span class="o">---</span> <span class="n">CPU</span> <span class="n">Scheduler</span> <span class="p">(</span><span class="n">MuQSS</span><span class="p">)</span> <span class="o">------------------------------</span>

<span class="n">Scheduling</span> <span class="n">interval</span><span class="o">............</span><span class="p">:</span> <span class="mi">6</span> <span class="o">-&gt;</span> <span class="mi">3</span> <span class="n">ms</span>
<span class="n">ISO</span> <span class="n">task</span> <span class="nb">max</span> <span class="n">realtime</span> <span class="n">use</span><span class="o">......</span><span class="p">:</span> <span class="mi">70</span> <span class="o">%</span> <span class="o">-&gt;</span> <span class="mi">25</span> <span class="o">%</span>
<span class="n">Ondemand</span> <span class="n">coarse</span> <span class="n">upscaling</span> <span class="n">limit</span><span class="p">:</span> <span class="mi">80</span> <span class="o">%</span> <span class="o">-&gt;</span> <span class="mi">45</span> <span class="o">%</span>
<span class="n">Ondemand</span> <span class="n">fine</span> <span class="n">upscaling</span> <span class="n">limit</span><span class="o">..</span><span class="p">:</span> <span class="mi">95</span> <span class="o">%</span> <span class="o">-&gt;</span> <span class="mi">45</span> <span class="o">%</span>
<span class="n">Ondemand</span> <span class="nb">min</span> <span class="n">upscaling</span> <span class="n">limit</span><span class="o">...</span><span class="p">:</span> <span class="mi">1</span> <span class="o">%</span> <span class="o">-&gt;</span> <span class="mi">6</span> <span class="o">%</span>
<span class="n">Ondemand</span> <span class="n">downscaling</span> <span class="n">factor</span><span class="o">....</span><span class="p">:</span> <span class="mi">1</span> <span class="o">-&gt;</span> <span class="mi">10</span>

<span class="n">Symbol</span><span class="p">:</span> <span class="n">ZEN_INTERACTIVE</span> <span class="p">[</span><span class="o">=</span><span class="n">y</span><span class="p">]</span>
<span class="n">Type</span> <span class="p">:</span> <span class="n">boolean</span>
<span class="n">Prompt</span><span class="p">:</span> <span class="n">Tune</span> <span class="n">kernel</span> <span class="k">for</span> <span class="n">interactivity</span>
<span class="n">Location</span><span class="p">:</span>
<span class="o">-&gt;</span> <span class="n">General</span> <span class="n">setup</span>
<span class="n">Defined</span> <span class="n">at</span> <span class="n">init</span><span class="o">/</span><span class="n">Kconfig</span><span class="p">:</span><span class="mi">50</span>
</pre></div>
</div>
<p>MuQSSで良い結果が得られないのであれば、CFS+Zen Intaractive Tuneで低レイテンシカーネルをより低レイテンシにする事が出来ます。これに、I/OスケジューラにBFQを選べば、リアルタイムカーネルの代わりに使えそうです。</p>
<p>古い記事ですが、BFSのベンチマーク記事がありました。CFSとほぼ同じですが、ApacheなどではBFSの優位性があるようです。</p>
<p><a class="reference external" href="http://www.phoronix.com/scan.php?page=article&amp;item=bfs_scheduler_benchmarks&amp;num=1">http://www.phoronix.com/scan.php?page=article&amp;item=bfs_scheduler_benchmarks&amp;num=1</a></p>
</section>
<section id="muqsslinux">
<h2><span class="section-number">1.41. </span>MuQSSを導入したLinuxカーネルをゲーミング用途で動作させる方法<a class="headerlink" href="#muqsslinux" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>MuQSSというCPUスケジューラを使いますと、システムのレスポンスが非常に良くなりますが、その反面、3Dゲームではパフォーマンスが落ちてしまいます。最近のMuQSSのパッチには、yeild_typeを変更する事が可能な機能が追加されており、デフォルトでは1に設定されています。これを0か2にするとMuQSSを導入したカーネルでもゲーミング用途で使えるようになります。</p>
<p><a class="reference external" href="http://ck-hack.blogspot.jp/2016/12/linux-49-ck1-muqss-version-0150.html">http://ck-hack.blogspot.jp/2016/12/linux-49-ck1-muqss-version-0150.html</a></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Maybe</span> <span class="n">someone</span> <span class="n">wants</span> <span class="n">to</span> <span class="n">see</span> <span class="n">the</span> <span class="n">non</span><span class="o">-</span><span class="n">official</span> <span class="n">TOI</span> <span class="n">code</span> <span class="k">for</span> <span class="mf">4.9.0</span><span class="p">:</span>
<span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">workupload</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">file</span><span class="o">/</span><span class="n">sVqjhDZ</span>
<span class="o">*</span> <span class="n">checksumming</span> <span class="n">does</span> <span class="ow">not</span> <span class="n">work</span><span class="p">,</span> <span class="n">don</span><span class="s1">&#39;t configure it</span>
<span class="o">*</span> <span class="k">with</span> <span class="mf">4.9.0</span> <span class="o">+</span> <span class="n">MuQSS</span><span class="o">/</span><span class="n">ck</span> <span class="n">use</span> <span class="s2">&quot;echo 2 &amp;gt; /proc/sys/kernel/yield_type&quot;</span>
<span class="o">*</span> <span class="n">possible</span> <span class="n">other</span> <span class="n">bugs</span> <span class="n">I</span> <span class="n">haven</span><span class="s1">&#39;t encountered, use at your own risk</span>

<span class="n">I</span> <span class="n">did</span> <span class="n">some</span> <span class="n">benchmarks</span> <span class="ow">and</span> <span class="n">it</span> <span class="n">seems</span> <span class="n">that</span> <span class="k">yield</span><span class="o">=</span><span class="mi">1</span> <span class="n">has</span> <span class="n">slower</span> <span class="n">overall</span> <span class="n">performance</span><span class="p">,</span> <span class="n">at</span> <span class="n">least</span> <span class="ow">in</span> <span class="n">gaming</span><span class="p">,</span> <span class="n">on</span> <span class="n">average</span><span class="o">.</span> <span class="n">Yield</span> <span class="mi">2</span> <span class="ow">and</span> <span class="n">Yield</span> <span class="mi">0</span> <span class="n">performed</span> <span class="n">about</span> <span class="n">the</span> <span class="n">same</span><span class="p">:</span>
<span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">openbenchmarking</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">result</span><span class="o">/</span><span class="mi">1701176</span><span class="o">-</span><span class="n">TA</span><span class="o">-</span><span class="n">CKYIELD0V56</span>

<span class="n">Sadly</span><span class="p">,</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">test</span> <span class="n">I</span> <span class="n">have</span> <span class="n">above</span><span class="p">,</span> <span class="n">only</span> <span class="mi">1</span> <span class="n">test</span> <span class="p">(</span><span class="n">OpenArena</span><span class="p">)</span> <span class="n">has</span> <span class="n">per</span> <span class="n">frame</span> <span class="n">analysis</span><span class="o">.</span> <span class="n">According</span> <span class="n">to</span> <span class="n">that</span> <span class="n">test</span> <span class="n">though</span><span class="p">,</span> <span class="k">yield</span> <span class="mi">0</span> <span class="n">had</span> <span class="n">the</span> <span class="n">smallest</span> <span class="n">lag</span> <span class="n">spikes</span><span class="p">,</span> <span class="k">with</span> <span class="n">a</span> <span class="nb">max</span> <span class="n">of</span> <span class="mi">17</span><span class="n">ms</span> <span class="n">per</span> <span class="n">frame</span> <span class="n">vs</span><span class="o">.</span> <span class="mi">27</span><span class="n">ms</span> <span class="ow">and</span> <span class="mi">28</span><span class="n">ms</span> <span class="k">for</span> <span class="k">yield</span> <span class="mi">2</span> <span class="ow">and</span> <span class="k">yield</span> <span class="mi">1</span> <span class="n">respectively</span><span class="o">.</span>
</pre></div>
</div>
<p>コマンドは以下のようになります。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$sudo su
#echo 2 &amp;gt; /proc/sys/kernel/yield_type
</pre></div>
</div>
<p>永続化する場合には、/etc/sysctl.confに以下の文を追加しておきます。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">kernel</span><span class="o">.</span><span class="n">yield_type</span> <span class="o">=</span> <span class="mi">2</span>

<span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">www</span><span class="o">.</span><span class="n">reddit</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">r</span><span class="o">/</span><span class="n">archlinux</span><span class="o">/</span><span class="n">comments</span><span class="o">/</span><span class="mi">66</span><span class="n">xegc</span><span class="o">/</span><span class="n">testinggnome_3241_animations_are_lagging_with</span><span class="o">/</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">MuQSS</span> <span class="n">has</span> <span class="n">three</span> <span class="n">kernel</span> <span class="n">variables</span> <span class="n">that</span> <span class="n">influence</span> <span class="n">its</span> <span class="n">behavior</span><span class="o">.</span> <span class="n">This</span> <span class="n">here</span> <span class="n">should</span> <span class="nb">list</span> <span class="n">them</span> <span class="ow">and</span> <span class="n">their</span> <span class="n">current</span> <span class="n">values</span><span class="p">:</span>

<span class="n">sysctl</span> <span class="o">-</span><span class="n">a</span> <span class="o">|&amp;</span> <span class="n">grep</span> <span class="o">-</span><span class="n">E</span> <span class="s1">&#39;interactive|rr_interval|yield_type&#39;</span>

<span class="n">Try</span> <span class="n">to</span> <span class="n">see</span> <span class="n">what</span> <span class="n">happens</span> <span class="k">if</span> <span class="n">you</span> <span class="n">change</span> <span class="s1">&#39;yield_type&#39;</span> <span class="n">to</span> <span class="s2">&quot;2&quot;</span> <span class="n">like</span> <span class="n">this</span><span class="p">:</span>

<span class="n">sudo</span> <span class="n">sysctl</span> <span class="n">kernel</span><span class="o">.</span><span class="n">yield_type</span><span class="o">=</span><span class="mi">2</span>

<span class="n">From</span> <span class="n">what</span> <span class="n">I</span> <span class="n">understood</span> <span class="n">about</span> <span class="n">MuQSS</span><span class="p">,</span> <span class="n">this</span> <span class="n">yield_type</span> <span class="n">setting</span> <span class="ow">is</span> <span class="n">the</span> <span class="n">only</span> <span class="n">one</span> <span class="n">that</span> <span class="n">changes</span> <span class="n">behavior</span> <span class="n">of</span> <span class="n">the</span> <span class="n">kernel</span> <span class="ow">in</span> <span class="n">a</span> <span class="n">way</span> <span class="n">that</span> <span class="n">programs</span> <span class="n">might</span> <span class="ow">not</span> <span class="n">expect</span><span class="o">.</span> <span class="n">With</span> <span class="n">the</span> <span class="s2">&quot;0&quot;</span> <span class="ow">and</span> <span class="s2">&quot;1&quot;</span> <span class="n">values</span><span class="p">,</span> <span class="n">MuQSS</span> <span class="n">changes</span> <span class="n">the</span> <span class="n">meaning</span> <span class="n">of</span> <span class="n">a</span> <span class="n">C</span> <span class="n">function</span> <span class="s2">&quot;sched_yield()&quot;</span> <span class="ow">and</span> <span class="n">it</span><span class="s1">&#39;s not doing what&#39;</span><span class="n">s</span> <span class="n">described</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">Linux</span> <span class="n">documentation</span> <span class="p">(</span><span class="n">you</span> <span class="n">can</span> <span class="n">check</span> <span class="n">it</span> <span class="n">out</span> <span class="k">with</span> <span class="n">man</span> <span class="mi">2</span> <span class="n">sched_yield</span><span class="p">)</span><span class="o">.</span> <span class="n">Using</span> <span class="s2">&quot;yield_type=2&quot;</span> <span class="n">makes</span> <span class="n">it</span> <span class="n">behave</span> <span class="n">more</span> <span class="n">like</span> <span class="n">the</span> <span class="n">normal</span> <span class="n">kernel</span><span class="o">.</span>
</pre></div>
</div>
<p>もう一つカーネルチューニングする方法としてMuQSSのInteractive modeをオフにする方法があります。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">echo</span> <span class="mi">0</span> <span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="o">/</span><span class="n">proc</span><span class="o">/</span><span class="n">sys</span><span class="o">/</span><span class="n">kernel</span><span class="o">/</span><span class="n">interactive</span>
</pre></div>
</div>
<p>これでInteractive modeをオフにする事が出来ます。</p>
<p><a class="reference external" href="https://github.com/fusion809/linux-ck/blob/master/4.8-sched-MuQSS_112.patch">https://github.com/fusion809/linux-ck/blob/master/4.8-sched-MuQSS_112.patch</a></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Interactive</span> <span class="n">mode</span> <span class="ow">is</span> <span class="n">enabled</span> <span class="n">by</span> <span class="n">default</span> <span class="n">but</span> <span class="n">can</span> <span class="n">be</span> <span class="n">disabled</span> <span class="k">for</span> <span class="n">improved</span>
<span class="n">throughput</span> <span class="n">at</span> <span class="n">the</span> <span class="n">expense</span> <span class="n">of</span> <span class="n">deterministic</span> <span class="n">low</span> <span class="n">latency</span><span class="o">.</span>

<span class="n">echo</span> <span class="mi">0</span> <span class="o">&gt;</span> <span class="o">/</span><span class="n">proc</span><span class="o">/</span><span class="n">sys</span><span class="o">/</span><span class="n">kernel</span><span class="o">/</span><span class="n">interactive</span>

<span class="n">Features</span> <span class="n">SCHED_IDLEPRIO</span> <span class="ow">and</span> <span class="n">SCHED_ISO</span> <span class="n">scheduling</span> <span class="n">policies</span> <span class="k">as</span> <span class="n">well</span><span class="o">.</span>
<span class="n">You</span> <span class="n">do</span> <span class="n">NOT</span> <span class="n">need</span> <span class="n">to</span> <span class="n">use</span> <span class="n">these</span> <span class="n">policies</span> <span class="k">for</span> <span class="n">good</span> <span class="n">performance</span><span class="p">,</span> <span class="n">they</span> <span class="n">are</span> <span class="n">purely</span>
<span class="n">optional</span> <span class="k">for</span> <span class="n">even</span> <span class="n">better</span> <span class="n">performance</span> <span class="ow">in</span> <span class="n">extreme</span> <span class="n">conditions</span><span class="o">.</span>
</pre></div>
</div>
<p>他にも色々とシステムのレスポンス向上やパフォーマンスアップが期待出来る項目変更の方法があります。</p>
<p><a class="reference external" href="http://ck-hack.blogspot.jp/2017/02/linux-410-ck1-muqss-version-0152-for.html#comment-form">http://ck-hack.blogspot.jp/2017/02/linux-410-ck1-muqss-version-0152-for.html#comment-form</a></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Actually</span><span class="p">,</span> <span class="n">I</span><span class="s1">&#39;m running rr_interval 1, interactive 1 and yield_type 2 and whereas one might expect that to hurt throughput, from some testing (both synthetic as well as real world) I&#39;</span><span class="n">ve</span> <span class="n">actually</span> <span class="n">found</span> <span class="n">that</span> <span class="n">throughput</span> <span class="n">seems</span> <span class="n">to</span> <span class="n">be</span> <span class="n">BETTER</span> <span class="n">than</span> <span class="k">with</span><span class="p">,</span> <span class="k">for</span> <span class="n">example</span><span class="p">,</span> <span class="n">rr_interval</span> <span class="mi">6</span><span class="p">,</span> <span class="n">interactive</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">yield_type</span> <span class="mi">1</span> <span class="p">(</span><span class="ow">or</span> <span class="mi">0</span><span class="p">)</span><span class="o">.</span>

<span class="n">I</span> <span class="n">suspect</span> <span class="n">this</span> <span class="n">has</span> <span class="n">to</span> <span class="n">do</span> <span class="k">with</span> <span class="n">more</span> <span class="ow">and</span> <span class="n">more</span> <span class="n">applications</span> <span class="k">as</span> <span class="n">well</span> <span class="k">as</span> <span class="n">OS</span> <span class="n">subsystems</span> <span class="n">becoming</span> <span class="n">increasingly</span> <span class="n">multithreaded</span> <span class="ow">and</span> <span class="n">the</span> <span class="n">overhead</span> <span class="n">of</span> <span class="n">the</span> <span class="n">context</span> <span class="n">switching</span> <span class="p">(</span><span class="k">yield</span> <span class="nb">type</span> <span class="mi">2</span> <span class="ow">and</span> <span class="n">rr_interval</span> <span class="mi">1</span><span class="p">)</span> <span class="n">being</span> <span class="n">less</span> <span class="n">than</span> <span class="n">the</span> <span class="n">overhead</span> <span class="n">of</span> <span class="n">threads</span> <span class="n">simply</span> <span class="n">waiting</span> <span class="k">for</span> <span class="n">other</span> <span class="n">threads</span> <span class="n">to</span> <span class="n">complete</span> <span class="n">their</span> <span class="n">tasks</span><span class="o">.</span>

<span class="n">Something</span> <span class="n">along</span> <span class="n">those</span> <span class="n">lines</span> <span class="n">anyhow</span><span class="o">.</span>

<span class="n">Just</span> <span class="n">to</span> <span class="n">give</span> <span class="n">you</span> <span class="n">an</span> <span class="n">idea</span> <span class="o">--</span> <span class="n">running</span> <span class="n">a</span> <span class="n">demoscene</span> <span class="n">demo</span> <span class="p">(</span><span class="n">synthetic</span> <span class="n">metric</span><span class="p">,</span> <span class="n">obviously</span><span class="p">)</span> <span class="ow">in</span> <span class="n">WINE</span> <span class="n">sees</span> <span class="n">a</span> <span class="mi">12</span><span class="o">%</span> <span class="n">difference</span> <span class="k">for</span> <span class="n">me</span> <span class="n">between</span> <span class="n">running</span> <span class="n">the</span> <span class="n">highly</span> <span class="n">cooperative</span> <span class="n">mode</span> <span class="p">(</span><span class="k">yield</span> <span class="mi">2</span><span class="p">,</span> <span class="n">interval</span> <span class="mi">1</span><span class="p">,</span> <span class="n">interactive</span> <span class="mi">1</span><span class="p">)</span> <span class="ow">and</span> <span class="n">the</span> <span class="n">highly</span> <span class="n">selfish</span> <span class="n">mode</span> <span class="p">(</span><span class="k">yield</span> <span class="mi">0</span><span class="p">,</span> <span class="n">interval</span> <span class="mi">6</span><span class="o">+</span><span class="p">,</span> <span class="n">interactive</span> <span class="mi">0</span><span class="p">)</span><span class="o">.</span> <span class="n">In</span> <span class="n">favour</span> <span class="n">of</span> <span class="n">the</span> <span class="n">cooperative</span> <span class="n">approach</span><span class="o">.</span>
</pre></div>
</div>
<p><a class="reference external" href="http://ck-hack.blogspot.jp/2016/10/linux-48-ck5-muqss-version-0120.html">http://ck-hack.blogspot.jp/2016/10/linux-48-ck5-muqss-version-0120.html</a></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">zcat</span> <span class="o">/</span><span class="n">proc</span><span class="o">/</span><span class="n">config</span><span class="o">.</span><span class="n">gz</span> <span class="o">|</span> <span class="n">grep</span> <span class="o">-</span><span class="n">i</span> <span class="n">NO_HZ</span>
<span class="n">CONFIG_NO_HZ_COMMON</span><span class="o">=</span><span class="n">y</span>
<span class="c1"># CONFIG_NO_HZ_IDLE is not set</span>
<span class="n">CONFIG_NO_HZ_FULL</span><span class="o">=</span><span class="n">y</span>
<span class="n">CONFIG_NO_HZ_FULL_ALL</span><span class="o">=</span><span class="n">y</span>
<span class="c1"># CONFIG_NO_HZ_FULL_SYSIDLE is not set</span>
<span class="n">CONFIG_NO_HZ</span><span class="o">=</span><span class="n">y</span>
<span class="c1"># CONFIG_RCU_FAST_NO_HZ is not set</span>

<span class="k">with</span>

<span class="n">CONFIG_HZ_100</span><span class="o">=</span><span class="n">y</span>
<span class="c1"># CONFIG_HZ_250 is not set</span>
<span class="c1"># CONFIG_HZ_300 is not set</span>
<span class="c1"># CONFIG_HZ_1000 is not set</span>
</pre></div>
</div>
</section>
<section id="timer-frequency">
<h2><span class="section-number">1.42. </span>使用用途で適切なTimer Frequencyはどの値にしたらいいのだろうか<a class="headerlink" href="#timer-frequency" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>Linuxカーネルを構築するのに迷う項目の一つがTimer Frequency。これは用途によって適切な値があるようです。</p>
<p>xconfigで.configを見ますと、該当箇所の説明には以下の事が書かれています。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">100</span> <span class="n">Hz</span> <span class="ow">is</span> <span class="n">a</span> <span class="n">typical</span> <span class="n">choice</span> <span class="k">for</span> <span class="n">servers</span><span class="p">,</span> <span class="n">SMP</span> <span class="ow">and</span> <span class="n">NUMA</span> <span class="n">systems</span>
<span class="k">with</span> <span class="n">lots</span> <span class="n">of</span> <span class="n">processors</span> <span class="n">that</span> <span class="n">may</span> <span class="n">show</span> <span class="n">reduced</span> <span class="n">performance</span> <span class="k">if</span>
<span class="n">too</span> <span class="n">many</span> <span class="n">timer</span> <span class="n">interrupts</span> <span class="n">are</span> <span class="n">occurring</span><span class="o">.</span>

<span class="mi">250</span> <span class="n">Hz</span> <span class="ow">is</span> <span class="n">a</span> <span class="n">good</span> <span class="n">compromise</span> <span class="n">choice</span> <span class="n">allowing</span> <span class="n">server</span> <span class="n">performance</span>
<span class="k">while</span> <span class="n">also</span> <span class="n">showing</span> <span class="n">good</span> <span class="n">interactive</span> <span class="n">responsiveness</span> <span class="n">even</span>
<span class="n">on</span> <span class="n">SMP</span> <span class="ow">and</span> <span class="n">NUMA</span> <span class="n">systems</span><span class="o">.</span> <span class="n">If</span> <span class="n">you</span> <span class="n">are</span> <span class="n">going</span> <span class="n">to</span> <span class="n">be</span> <span class="n">using</span> <span class="n">NTSC</span> <span class="n">video</span>
<span class="ow">or</span> <span class="n">multimedia</span><span class="p">,</span> <span class="n">selected</span> <span class="mi">300</span><span class="n">Hz</span> <span class="n">instead</span><span class="o">.</span>

<span class="mi">300</span> <span class="n">Hz</span> <span class="ow">is</span> <span class="n">a</span> <span class="n">good</span> <span class="n">compromise</span> <span class="n">choice</span> <span class="n">allowing</span> <span class="n">server</span> <span class="n">performance</span>
<span class="k">while</span> <span class="n">also</span> <span class="n">showing</span> <span class="n">good</span> <span class="n">interactive</span> <span class="n">responsiveness</span> <span class="n">even</span>
<span class="n">on</span> <span class="n">SMP</span> <span class="ow">and</span> <span class="n">NUMA</span> <span class="n">systems</span> <span class="ow">and</span> <span class="n">exactly</span> <span class="n">dividing</span> <span class="n">by</span> <span class="n">both</span> <span class="n">PAL</span> <span class="ow">and</span>
<span class="n">NTSC</span> <span class="n">frame</span> <span class="n">rates</span> <span class="k">for</span> <span class="n">video</span> <span class="ow">and</span> <span class="n">multimedia</span> <span class="n">work</span><span class="o">.</span>

<span class="mi">1000</span> <span class="n">Hz</span> <span class="ow">is</span> <span class="n">the</span> <span class="n">preferred</span> <span class="n">choice</span> <span class="k">for</span> <span class="n">desktop</span> <span class="n">systems</span> <span class="ow">and</span> <span class="n">other</span>
 <span class="n">systems</span> <span class="n">requiring</span> <span class="n">fast</span> <span class="n">interactive</span> <span class="n">responses</span> <span class="n">to</span> <span class="n">events</span><span class="o">.</span>
</pre></div>
</div>
<p>多くの場合、この説明通りに低レイテンシカーネルでのTimer Frequencyの設定は1000Hzとしている例が一般的です。</p>
<p>しかし、リアルタイムカーネルやMuQSSのようにリアルタイム性能を重視する場合には、カーネルオーバーヘッドを起こしてスループットが低下するようです。</p>
<p><a class="reference external" href="https://github.com/raspberrypi/linux/issues/1216">https://github.com/raspberrypi/linux/issues/1216</a></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Yes</span><span class="p">,</span> <span class="n">the</span> <span class="n">Low</span> <span class="n">Latency</span> <span class="n">Preemption</span> <span class="ow">is</span> <span class="n">enabled</span> <span class="k">while</span> <span class="n">the</span> <span class="n">rest</span> <span class="n">of</span> <span class="n">the</span> <span class="n">Kernel</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">so</span> <span class="n">realtime</span><span class="o">.</span>
<span class="n">Check</span> <span class="n">the</span> <span class="n">difference</span> <span class="n">between</span> <span class="n">PREEMPT_VOLUNTARY</span> <span class="ow">and</span> <span class="n">PREEMPT</span><span class="o">.</span>
<span class="n">For</span> <span class="n">example</span> <span class="n">Ubuntu</span> <span class="n">always</span> <span class="n">uses</span> <span class="n">PREEMPT_VOLUNTARY</span> <span class="k">for</span> <span class="n">Desktops</span> <span class="ow">and</span> <span class="n">Servers</span><span class="o">.</span>
<span class="n">Only</span> <span class="n">the</span> <span class="n">Low</span><span class="o">-</span><span class="n">Latency</span> <span class="n">Kernel</span> <span class="n">uses</span> <span class="n">PREEMPT</span> <span class="n">combined</span> <span class="k">with</span> <span class="mi">1000</span><span class="n">hz</span> <span class="ow">and</span> <span class="n">a</span> <span class="n">few</span> <span class="n">other</span> <span class="n">tweaks</span><span class="o">.</span>
<span class="n">Full</span> <span class="n">Preemption</span> <span class="n">causes</span> <span class="n">Kernel</span> <span class="n">overhead</span> <span class="ow">and</span> <span class="n">reduces</span> <span class="n">throughput</span><span class="o">.</span>
</pre></div>
</div>
<p><a class="reference external" href="https://forums.gentoo.org/viewtopic-t-789725-start-0.html">https://forums.gentoo.org/viewtopic-t-789725-start-0.html</a></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>1000hz is for single CPU, you should use 250 for dual core. I have seen some patches in ZEN? that have a better timer for dual core.

The hz rating is per core, so if you set 1000hz you are actually running 2000hz, IIRC that is.
</pre></div>
</div>
<p>カーネルオーバーヘッドを削減するには、プロセッサのコア数に応じて変更する必要があります。</p>
<p>・低レイテンシカーネルを使っていて、シングルプロセッサやシングルスレッドで音楽視聴や音楽制作でシステムを構築する場合</p>
<p>1000Hzを選択</p>
<p>・リアルタイムカーネル、あるいはMuQSSのようにリアルタイムカーネル的な動作をするCPUスケジューラを使い、サーバやNUMAシステム、マルチコアを使ったデスクトップ用途でシステムを構築する場合</p>
<p>100Hzから300Hzを選択。デュアルコアやクアッドコアであれば、100Hzか250Hzで良いでしょう。</p>
<p>デスクトップ用途でも、マルチコアマシンでレスポンスを重視するのであれば、サーバに近い設定の方が良いのかもしれません。</p>
<p>MuQSSの開発者のCon Kolivasは、MuQSSの最適なTimer Frequencyは100Hzとしています。</p>
<p><a class="reference external" href="http://ck-hack.blogspot.jp/2016/10/linux-48-ck5-muqss-version-0120.html">http://ck-hack.blogspot.jp/2016/10/linux-48-ck5-muqss-version-0120.html</a></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">-</span> <span class="n">MuQSS</span> <span class="ow">is</span> <span class="n">now</span> <span class="n">a</span> <span class="n">tickless</span> <span class="n">scheduler</span><span class="o">.</span> <span class="n">That</span> <span class="n">means</span> <span class="n">it</span> <span class="n">can</span> <span class="n">maintain</span> <span class="n">its</span> <span class="n">guaranteed</span> <span class="n">low</span> <span class="n">latency</span> <span class="n">even</span> <span class="ow">in</span> <span class="n">a</span> <span class="n">build</span> <span class="n">configured</span> <span class="k">with</span> <span class="n">a</span> <span class="n">low</span> <span class="n">Hz</span> <span class="n">tick</span> <span class="n">rate</span><span class="o">.</span> <span class="n">To</span> <span class="n">that</span> <span class="n">end</span><span class="p">,</span> <span class="n">it</span> <span class="ow">is</span> <span class="n">now</span> <span class="n">defaulting</span> <span class="n">to</span> <span class="mi">100</span><span class="n">Hz</span><span class="p">,</span> <span class="ow">and</span> <span class="n">it</span> <span class="ow">is</span> <span class="n">recommended</span> <span class="n">to</span> <span class="n">use</span> <span class="n">this</span> <span class="k">as</span> <span class="n">the</span> <span class="n">default</span> <span class="n">choice</span> <span class="k">for</span> <span class="n">it</span> <span class="n">leads</span> <span class="n">to</span> <span class="n">more</span> <span class="n">throughput</span> <span class="ow">and</span> <span class="n">power</span> <span class="n">savings</span> <span class="k">as</span> <span class="n">well</span><span class="o">.</span>
</pre></div>
</div>
</section>
<section id="ubuntuccache">
<h2><span class="section-number">1.43. </span>Ubuntu向けのカーネルを構築する時にccacheを使う<a class="headerlink" href="#ubuntuccache" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>Ubuntu向けのカーネルを構築する時に、少しでもビルド時間を短くするには、ccacheを使うのも効果的です。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$sudo apt-get install ccache

$sudo MAKEFLAGS=&quot;HOSTCC=/usr/lib/ccache/gcc HOSTCXX=/usr/lib/ccache/g++ CC=/usr/lib/ccache/gcc&quot; make-kpkg -j3 --initrd linux_image linux_headers
</pre></div>
</div>
<p>「MAKEFLAGS=&quot;HOSTCC=/usr/lib/ccache/gcc HOSTCXX=/usr/lib/ccache/g++ CC=/usr/lib/ccache/gcc&quot;」を追加する事で、ccacheを使ったビルドを行います。</p>
<p>あるいは、以下の文を.bashrcに追加しておけば、上記の文は必要ありません。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">export</span> <span class="n">USE_CCACHE</span><span class="o">=</span><span class="mi">1</span>
<span class="n">export</span> <span class="n">CCACHE_DIR</span><span class="o">=/</span><span class="n">root</span><span class="o">/.</span><span class="n">ccache</span>
<span class="n">export</span> <span class="n">CC</span><span class="o">=</span><span class="s1">&#39;ccache gcc&#39;</span>
<span class="n">export</span> <span class="n">CXX</span><span class="o">=</span><span class="s1">&#39;ccache g++&#39;</span>
</pre></div>
</div>
<p>ccacheの効果があるのは、2回目以降のビルドの時です。1回目は、ビルドと平行してキャッシュを実施しますので、ccache無しとビルド時間は変わりません。</p>
</section>
<section id="linux">
<h2><span class="section-number">1.44. </span>海外のクールなカスタムLinuxカーネル<a class="headerlink" href="#linux" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>Linux本家で公開されているLinuxのソースコードをベースに、独自の機能を追加して公開されているカーネルが世界中に存在します。その中でも、デスクトップ/サーバ向けのカスタムカーネルで注目されているのが、CK1 Kernel、Zen Kernel、Liquorix kernel、XanMod kernel、pf kernelです。</p>
<p>おすすめは、Zen kernelとCK1 kernelです。何れかを使えば、通常使用では十分なレスポンス性とパフォーマンス性を得られるはずです。</p>
<p>◇CK1 kernel</p>
<p><a class="reference external" href="http://ck-hack.blogspot.jp/">http://ck-hack.blogspot.jp/</a></p>
<p>CPUスケジューラ「MuQSS」「BFS」の開発者であるCon Kolivasが、MuQSSやPaolo Valenteが開発したI/Oスケジューラ <cite>「BFQ」 &lt;http://algo.ing.unimo.it/people/paolo/disk_sched/&gt;_</cite> などを含めた「CK1パッチ」と呼ばれる高レスポンスパッチを公開しています。バニラカーネルに、このCK1パッチを適用したのがCK1 kernelです。リアルタイムカーネル並のリアルタイム性を実現した画期的なパッチと言えます。</p>
<p>◇Zen kernel</p>
<p><a class="reference external" href="https://github.com/zen-kernel/zen-kernel">https://github.com/zen-kernel/zen-kernel</a></p>
<p>MuQSSやBFQの他に、grayskyが開発したKernel GCC patchなどカーネルハッカーの技術が結集したカスタムカーネルです。このカーネルの一番の特徴は、Zen Interactive Tuningという最適化手法を用いている事であり、Zenパッチと呼ばれています。パッチ単体で公開されていませんが、パッチが当たった状態でカーネルソースが公開されています。MuQSSやBFQ、RTパッチを導入したカーネルのパフォーマンスやレスポンス性を高めてくれます。</p>
<p>◇Liquorix kernel</p>
<p><a class="reference external" href="https://liquorix.net/">https://liquorix.net/</a></p>
<p>Zen kernelのソースをベースに、Debian向けのデスクトップ最適化コンフィグファイルを適用してビルドした物がLiquorix kernelです。Zen kernelを更にチューニングしており、デスクトップ用途やゲーミング用途に最適化されているのが特徴です。このパッチセットのメンテナである&lt;a href=&quot;<a class="reference external" href="https://github.com/damentz">https://github.com/damentz</a>&quot; target=&quot;_blank&quot;&gt;damentz&lt;/a&gt;は、Zenパッチセットの開発者です。Zen kernelでは、パッチを単独で公開していないようですが、LiquorixではZenパッチを含めたLiquorixパッチセットが単独で公開されているという不思議な状況になっています。</p>
<p>◇XanMod kernel</p>
<p><a class="reference external" href="https://xanmod.org/">https://xanmod.org/</a>&quot; target=&quot;_blank&quot;&gt;https://xanmod.org/</p>
<p>MuQSSやBFQなどを導入している点では、Zen kernelやLiquorix kernelと同じですが、独自のチューニングが施されており、常に最新のGCCを使ってコンパイルされているのが特徴です。</p>
<p>◇pf kernel</p>
<p><a class="reference external" href="https://pf.natalenko.name/">https://pf.natalenko.name/</a></p>
<p>このカーネルも、ZenやLiquorixやXanModと同様に、MuQSSやBFQなどが採用されています。かつては、UKMSやTuxOnIceなどのパッチが導入されていましたが、現在ではZenやLiquorixやXanModに近い仕様になっています。</p>
<p>他にも色々なカーネルが公開されています。Arch LinuxのWikiにカスタムカーネルが紹介されています。</p>
<p><a class="reference external" href="https://wiki.archlinuxjp.org/index.php/%E3%82%AB%E3%83%BC%E3%83%8D%E3%83%AB">https://wiki.archlinuxjp.org/index.php/%E3%82%AB%E3%83%BC%E3%83%8D%E3%83%AB</a></p>
</section>
<section id="id4">
<h2><span class="section-number">1.45. </span>Ubuntuにインテルのコンパイラをインストールする<a class="headerlink" href="#id4" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>Ubuntuで使えるCコンパイラとしてはGCCやLLVMがありますが、非商用目的でインテルのCコンパイラを使う事も出来ます。</p>
<p>1.ユーザー登録を行う。</p>
<p><a class="reference external" href="https://registrationcenter.intel.com/en/forms/?licensetype=2&amp;programID=opensource&amp;productid=2302">https://registrationcenter.intel.com/en/forms/?licensetype=2&amp;programID=opensource&amp;productid=2302</a></p>
<p>2.登録したメールアドレスに2営業日以内に返信が来るので、インストーラーのダウンロードをします。20数MBのオンラインインストールファイルを使えば、オンラインで必要な物だけをインストールする事が出来ますので、おすすめです。</p>
<p>3.ダウンロードしたファイルを解凍して、インストーラーを立ち上げる。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">./</span><span class="n">install_GUI</span><span class="o">.</span><span class="n">sh</span>
</pre></div>
</div>
<p>指示通りにインストールを進めていきます。途中で、ダウンロードするファイルをカスタマイズする事が出来ますので、必要な分のファイルをダウンロード出来るように選択をしておくと良いでしょう。</p>
<p>4.インストールが完了したら、iccのパスを通して完了です。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$source /opt/intel/bin/compilervars.sh intel64
</pre></div>
</div>
<p>5.iccのパスが通っているか確認します。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$icc -v
</pre></div>
</div>
</section>
<section id="audacious">
<h2><span class="section-number">1.46. </span>Audaciousで動画ファイルの音声部分だけを再生させる<a class="headerlink" href="#audacious" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>UbuntuなどのLinuxディストリビューションで動画ファイルを再生させる場合、SMPlayerやVLCなどの動画プレーヤーで再生させます。一方で、音楽を再生させたい場合には、Audaciousなどの音楽再生プレーヤーを使います。</p>
<p>しかし、動画ファイルは持っていても、音楽ファイルを持っていなくて動画ファイルから音声データを分離させるのが手間と感じているのであれば、動画ファイルから音声データを分離せずに、そのまま動画ファイルをAudaciousで再生させる事で可能です。つまり、MVをAudaciousで再生させれば、音楽を聴けます。ただし、動画ファイルによっては、MP3ファイルやAACファイルよりも容量が大きくなってしまうのがデメリットです。</p>
<p>UbuntuでのAudaciousのインストールは、Synapticパッケージマネージャーを使うか、端末で以下のコマンドを実行します。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$sudo apt-get install audacious
</pre></div>
</div>
</section>
<section id="id5">
<h2><span class="section-number">1.47. </span>ブラウザをアプリモードで使う<a class="headerlink" href="#id5" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>Google ChromeやChromium、FirefoxなどのWebブラウザを使用している人々は多いです。</p>
<p>V8 JavaScript Engineなどメーカーが独自に開発したり、オープンソースコミュニティで開発された物をフィードバックさせて使ったりして、JavaScriptなどで構築されたWebアプリケーションの動作が従来よりも快適になっています。</p>
<p>Googleのオンラインツール群など大手企業から個人まで様々な組織が、オンラインサービスやオンラインツールを公開しています。</p>
<p>このWebアプリケーションは、基本的にブラウザでそのアプリケーションがあるサイトへアクセスする必要があります。</p>
<p>ユーザーは、アドレスバーにアドレスを打ち込んだり、検索をしたり、ブックマークに登録したりしてアクセスしやすいように工夫しています。</p>
<p>Webアプリケーションをデスクトップアプリケーションのように使えるようになれば便利ではないでしょうか。</p>
<p>PeppermintというLinuxディストリビューションは、ブラウザなど必要最低限のデスクトップアプリケーションしか収録されていません。</p>
<p>その代わりにSSB(Site Specific Browser)と呼ばれる仕組みでWebアプリケーションをデスクトップアプリケーションのように扱えるようにしています。</p>
<p>SSBの仕組みは、単純にメニューバーやアドレスバーなどを非表示にして、ブラウザを起動させて特定のURLのページを表示させているだけです。</p>
<p>Chrome系のブラウザには、このSSBを実現する為の仕組みが用意されています。</p>
<p>それが、ブラウザの「アプリモード」と呼ばれるものです。</p>
<p>◇Chrome系ブラウザの場合:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">chromium</span><span class="o">-</span><span class="n">browser</span> <span class="o">--</span><span class="n">disk</span><span class="o">-</span><span class="n">cache</span><span class="o">-</span><span class="nb">dir</span><span class="o">=</span><span class="s2">&quot;/tmp&quot;</span> <span class="o">--</span><span class="n">app</span><span class="o">=</span><span class="s2">&quot;https://www.google.co.jp/chrome/browser/desktop/&quot;</span>
</pre></div>
</div>
<p>「--app」オプションを追加する事でアプリモードで起動出来ます。</p>
<p>--appオプションに入力するのは、開きたいページのURLです。</p>
<p>デスクトップのショートカットなどを作成する時に、--appオプションを追加してブラウザを起動させられるようにしておきます。</p>
<p>◇Firefoxの場合
新規に専用のプロファイルを作成しておきます。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$firefox -p
</pre></div>
</div>
<p>Firefoxを起動出来たら、メニューバーやツールバーなどを全て非表示にします。</p>
<p>後は、以下のコマンドで起動させます。</p>
<p>デスクトップのショートカットにコマンドを書いておけば、端末でコマンドを入力する手間を省けます。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$firefox -p　作成したプロファイル -new-instance 開きたいページのアドレス
</pre></div>
</div>
</section>
<section id="e-xxx">
<h2><span class="section-number">1.48. </span>「E: パッケージ xxx を再インストールする必要がありますが、そのためのアーカイブを見つけることができませんでした。」のメッセージが出た場合の対処法<a class="headerlink" href="#e-xxx" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$sudo dpkg -P --force-remove-reinstreq xxx
</pre></div>
</div>
</section>
<section id="xfceemacs">
<h2><span class="section-number">1.49. </span>xfceのターミナルからEmacsを起動させるコマンド<a class="headerlink" href="#xfceemacs" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$xfce4-terminal --hide-menubar -e emacs --title=emacs
</pre></div>
</div>
</section>
<section id="ubuntugoogle-driveonedrive">
<h2><span class="section-number">1.50. </span>UbuntuでGoogle DriveとOneDriveの同期を行う<a class="headerlink" href="#ubuntugoogle-driveonedrive" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>予め、Google DriveとOneDriveのアカウントを取得しておいてください。</p>
<p>◇Google Driveの同期方法</p>
<p>・以下のコマンドでgriveをインストールします。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$sudo apt-get -y install grive
</pre></div>
</div>
<p>指示通りに設定を行って下さい。</p>
<p>・設定終了後、同期したいフォルダ直下で以下のコマンドを実行します。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$grive -a
</pre></div>
</div>
<p>これで同期を開始します。</p>
<p>再度同期を行いたい時には、以下のコマンドを実行します。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$grive
</pre></div>
</div>
<p>◇OneDriveの同期方法</p>
<p>・Gitをインストールします:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$sudo apt-get -y install git
</pre></div>
</div>
<p>・onedrive-dをインストールしたい場所で以下のコマンドを実行します。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$git clone https://github.com/xybu92/onedrive-d.git
</pre></div>
</div>
<p>・onedrive-dフォルダが出来ているので移動し、install.shを実行します。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$cd onedrive-d

$./install.sh
</pre></div>
</div>
<p>後は、指示通りに設定を行っていきます。</p>
<p>設定が終われば、以下のコマンドで同期を開始します。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$onedrive-d start
</pre></div>
</div>
<p>その他の作業は以下のコマンドを実行します。</p>
<p>終了:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$onedrive-d stop
</pre></div>
</div>
<p>再起動:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$onedrive-d restart
</pre></div>
</div>
</section>
<section id="ubuntud">
<h2><span class="section-number">1.51. </span>Ubuntuでdアニメストアを観る方法<a class="headerlink" href="#ubuntud" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>◇Google Chromeで視聴する場合
dアニメストアをUbuntuで視聴するには、Google Chromeをインストールします。</p>
<p>dアニメストアでは、2016年4月頃からChromeとEdgeに対応するようになっており、HTML5プレーヤーを通して見る事が可能になりました。</p>
<p><a class="reference external" href="https://www.google.co.jp/chrome/browser/desktop/">https://www.google.co.jp/chrome/browser/desktop/</a></p>
<p>◇Chromium Browserで視聴する場合</p>
<p>＜注意＞Google ChromeとChromiumのバージョンが合っていないと使えません。</p>
<p>Google Chromeをインストールした方が楽でしょう。</p>
<p>dアニメストアをChromium Browserで視聴するには、Google ChromeからWidevineを移植する事で可能です。</p>
<dl class="simple">
<dt>1.Chromiumをインストール::</dt><dd><p>$sudo apt-get install chromium-browser</p>
</dd>
</dl>
<p>2.以下のコマンドを入力:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ wget https://dl.google.com/linux/direct/google-chrome-stable_current_amd64.deb
$ mkdir chrome-dir
$ dpkg-deb -x google-chrome-stable_current_amd64.deb chrome-dir
$ sudo cp -a chrome-dir/opt/google/chrome/WidevineCdm /usr/lib/chromium-browser
</pre></div>
</div>
<p>これで、Google Chromeを使わずにChromium BrowserだけでWidevineが使えます。</p>
<p>この作業をスクリプト化した物を以下のリンク先に置いておきます。</p>
<p><a class="reference external" href="https://drive.google.com/open?id=0B1CllnoLXtxZTm5VbW1jbTgwbDg">https://drive.google.com/open?id=0B1CllnoLXtxZTm5VbW1jbTgwbDg</a></p>
<p>beta版Chromiumで同期などをしたい時には、API keyが必要になります。手順は以下のリンクに記載されています。Chromium Devの参加とプロジェクトの作成が必要ですが、プロジェクト作成は適当な名前で作成すれば良いでしょう。</p>
<p><a class="reference external" href="http://www.chromium.org/developers/how-tos/api-keys">http://www.chromium.org/developers/how-tos/api-keys</a></p>
<p>.profileに取得した3つのAPIキーを追加します。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">export</span> <span class="n">GOOGLE_API_KEY</span><span class="o">=</span><span class="s2">&quot;api_key&quot;</span>
<span class="n">export</span> <span class="n">GOOGLE_DEFAULT_CLIENT_ID</span><span class="o">=</span><span class="s2">&quot;client_id&quot;</span>
<span class="n">export</span> <span class="n">GOOGLE_DEFAULT_CLIENT_SECRET</span><span class="o">=</span><span class="s2">&quot;client_secret&quot;</span>
</pre></div>
</div>
<p>システムに再ログインすれば、反映されてGoogleが提供するAPIが有効になります。</p>
</section>
<section id="ubuntujstest-gtk">
<h2><span class="section-number">1.52. </span>Ubuntuでjstest-gtkのプロファイルを保存してジョイパッドを使い易い環境にする<a class="headerlink" href="#ubuntujstest-gtk" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>Ubuntuでジョイパッドを使う場合、jstest-gtkを使って設定するのが良いです。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$sudo apt-get install jstest-gtk
</pre></div>
</div>
<p>jstest-gtkを起動させて設定をして、ユーザーの使い易いようにジョイパッドのキー割り当てを変更出来ますが、保存しても、次回PCを起動させた時に戻ってしまいます。
キー割り当て変更後に以下のコマンドを入力する事で、保存が出来るようになります。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$sudo jscal-store /dev/input/js0
</pre></div>
</div>
<p>なお、jstest-gtkのプロファイル保存機能は上手く保存する事が出来ませんので、キー割り当てを変更する毎に上記のコマンドだけを入力するようにしてください。</p>
</section>
<section id="xfce4-terminal">
<h2><span class="section-number">1.53. </span>xfce4-terminalを透過<a class="headerlink" href="#xfce4-terminal" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>コンポジットマネージャー「compton」を起動させた状態であれば、Openbox環境でもxfce4-terminalを透過させる事が出来ます。</p>
<p>設定は、xfce4-terminalの「編集」→「設定」→「外観」→「背景」から行います。 不透明度は、0.7に設定しました。 背景色や文字色の変更も可能ですので、自分好みのカスタマイズを施してみると良いでしょう。</p>
</section>
<section id="chromee-gov">
<h2><span class="section-number">1.54. </span>Chrome系ブラウザでe-Govを使う方法<a class="headerlink" href="#chromee-gov" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p><a class="reference external" href="http://www.gpki.go.jp/apca2/index.html">http://www.gpki.go.jp/apca2/index.html</a></p>
<p>1.「◆アプリケーション認証局２の証明書」→「アプリケーション認証局２(Root)の自己署名証明書 (DER)」でAPCA2Root.derをダウンロードして保存。</p>
<p>2.ブラウザの「設定」→「HTTPS/SSL」→「証明書マネージャー」→「認証局」→「インポート」でAPCA2Root.derをインポート</p>
<ol class="arabic simple" start="3">
<li><p><a class="reference external" href="https://www.e-gov.go.jp/policy/servlet/Propose">https://www.e-gov.go.jp/policy/servlet/Propose</a> が使えるようになります。</p></li>
</ol>
</section>
<section id="dmm">
<h2><span class="section-number">1.55. </span>クレジットカード無しでDMMのコンテンツを購入する方法<a class="headerlink" href="#dmm" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>AVやエロゲーや同人ソフトなどを購入する際に便利なDMM.com。でも、クレジットカードでここのコンテンツを買うのに抵抗があるという人が多いでしょう。
そのような人でも、DMMはコンテンツを買えるように複数の支払い方法を用意しています。その方法は、ヘルプページに書かれています。</p>
<p><a class="reference external" href="http://help.dmm.com/-/detail/=/qid=11108/">http://help.dmm.com/-/detail/=/qid=11108/</a></p>
<p>電子マネーや銀行振込やペイジー、DMMプリペイドカードやDMMギフト券などでポイントが買えるようになっています。</p>
<p>この中で便利なのはペイジーを使った方法です。</p>
<p>この方法は090番の電話番号の登録が必要になりますが、クレジットカードよりは安全かなと思います。</p>
<p>電話番号の登録が嫌な人は、コンビニで2000円から買えるプリペイドカードを購入しても良いです。</p>
<p>1000円程度の物を購入したい場合は、ペイジーを使う事になります。</p>
<p>ペイジーを使った支払い方法は以下の通りです。</p>
<p><a class="reference external" href="http://www.dmm.co.jp/regist/bank/payeasy_atm.html/=/navi=none/">http://www.dmm.co.jp/regist/bank/payeasy_atm.html/=/navi=none/</a></p>
<p>DMMでは光ディスクの製品版とダウンロード・ストリーミング販売に対応しています。
ダウンロードやストリーミングは、ADSLクラスの通信速度がある回線であれば、十分に視聴する事が出来ますが、プレーヤーはDMMプレーヤーと呼ばれるSilverlightベースの再生プレーヤーを使う事になりますので、Silverlightプラグインをインストールしてください。
Windowsはそれほど迷う事はありませんが、Linuxの場合はPipelightとFirefoxを使ってストリーミングで視聴する事になります。</p>
<p>Ubuntuであれば、以下のコマンドを端末で実行してください。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$sudo apt-add-repository ppa:pipelight/stable
$sudo apt-get update
$sudo apt-get install pipelight-multi pipelight
$sudo pipelight-plugin --enable silverlight
$sudo pipelight-plugin --create-mozilla-plugins
$pipelight-plugin --system-check
$sudo pipelight-plugin --enable widevine
</pre></div>
</div>
<p>DRMがかけられていますので、ダウンロードで購入しても対応プレーヤーが無ければ再生出来ませんので注意してください。
どんなプレーヤーでも観られるようにするには、DMMプレーヤーで動画を再生させながら、動画キャプチャーソフトを使って動画をキャプチャーしていけば良いです。
Linuxであれば、Record my desktopで出来ました。</p>
</section>
<section id="stagingwinecsmt">
<h2><span class="section-number">1.56. </span>staging版Wineにのみ搭載されている「CSMT」<a class="headerlink" href="#stagingwinecsmt" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>staging版Wineは、従来の開発版Wineであり、安定版では搭載されていない機能やバグフィクスなどを先行して採り入れています。このstaging版Wineには、マルチスレッドプロセッサ向けのパフォーマンスが向上する機能が搭載されており、それが「CSMT」です。</p>
<p><a class="reference external" href="https://github.com/wine-compholio/wine-staging/wiki/CSMT">https://github.com/wine-compholio/wine-staging/wiki/CSMT</a></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">When</span> <span class="n">an</span> <span class="n">application</span> <span class="n">makes</span> <span class="n">use</span> <span class="n">of</span> <span class="n">Direct3D</span> <span class="n">on</span> <span class="n">Windows</span><span class="p">,</span> <span class="n">DirectX</span> <span class="n">will</span> <span class="n">implicitly</span> <span class="n">create</span> <span class="n">threads</span> <span class="n">to</span> <span class="n">decouple</span> <span class="n">the</span> <span class="n">actual</span> <span class="n">drawing</span> <span class="kn">from</span> <span class="nn">the</span> <span class="n">rest</span> <span class="n">of</span> <span class="n">the</span> <span class="n">program</span><span class="o">.</span> <span class="n">Vanilla</span> <span class="n">Wine</span> <span class="n">does</span> <span class="ow">not</span> <span class="n">implement</span> <span class="n">such</span> <span class="n">a</span> <span class="n">logic</span> <span class="ow">and</span> <span class="n">instead</span> <span class="n">directly</span> <span class="n">executes</span> <span class="n">the</span> <span class="n">OpenGL</span> <span class="n">calls</span> <span class="n">without</span> <span class="n">waiting</span> <span class="k">for</span> <span class="n">the</span> <span class="n">call</span> <span class="n">to</span> <span class="n">be</span> <span class="n">executed</span> <span class="n">on</span> <span class="n">the</span> <span class="n">graphic</span> <span class="n">card</span><span class="o">.</span> <span class="n">This</span> <span class="n">provides</span> <span class="n">a</span> <span class="n">somewhat</span> <span class="n">similar</span> <span class="n">performance</span> <span class="n">but</span> <span class="n">has</span> <span class="n">the</span> <span class="n">disadvantage</span> <span class="n">that</span> <span class="n">the</span> <span class="n">order</span> <span class="n">of</span> <span class="n">drawing</span> <span class="n">commands</span> <span class="ow">is</span> <span class="n">no</span> <span class="n">longer</span> <span class="n">guaranteed</span> <span class="n">to</span> <span class="n">be</span> <span class="n">correct</span><span class="o">.</span>

<span class="n">In</span> <span class="n">most</span> <span class="n">of</span> <span class="n">the</span> <span class="n">games</span> <span class="ow">and</span> <span class="n">programs</span> <span class="n">you</span> <span class="n">won</span><span class="s1">&#39;t notice a difference between Windows and Wine, but in some applications you will encounter bugs like flickering geometry. This is caused by the changing drawing order in each frame. To solve this problem Stefan Dösinger worked on a feature called CSMT (command stream multi-threading) which implements the same logic as on Windows and additionally causes a performance boost. Wine Staging added this feature in version 1.7.33.</span>
</pre></div>
</div>
<p>4スレッド実行が出来るプロセッサであれば、このCSMTでかなりパフォーマンスアップが図れます。Pentium G 4600でも使えましたが、完全な2コア2スレッドCPUであるCeleron G3900では、大幅にパフォーマンスが落ちてしまいましたので注意が必要です。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>winecfg→stagingタブ→「Enable CSMT for better graphic performance」にチェックを入れて適用すれば、CSMTがオンになります。
</pre></div>
</div>
<img alt="_images/Screenshot20from202017-05-172002-55-55.png" src="_images/Screenshot20from202017-05-172002-55-55.png" />
</section>
<section id="chjdapi">
<h2><span class="section-number">1.57. </span>2chブラウザ「JD」で新APIを使う方法<a class="headerlink" href="#chjdapi" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>2chブラウザ「JD」を新APIでも使えるようにするには、以下の設定を行います。</p>
<p>JDを起動させて、メニューバーの「設定」→「<a class="reference external" href="about:config">about:config</a>」→「板一覧を取得するサーバ」を「<a class="reference external" href="http://kita.jikkyo.org/cbm/cbm.cgi/20.p0.m0.sc.op/-all/bbsmenu.html">http://kita.jikkyo.org/cbm/cbm.cgi/20.p0.m0.sc.op/-all/bbsmenu.html</a>」に変更するだけです。</p>
</section>
<section id="smarty-3-1">
<h2><span class="section-number">1.58. </span>Smarty 3.1ではプラグインの追加方法が変更されているので注意<a class="headerlink" href="#smarty-3-1" title="このヘッドラインへのパーマリンク">¶</a></h2>
<dl class="simple">
<dt>PHPテンプレートエンジン「Smarty」では、プラグインの自作が出来ますが、従来の方法は <a class="reference external" href="http://www.smarty.net/docs/ja/variable.plugins.dir.tpl">http://www.smarty.net/docs/ja/variable.plugins.dir.tpl</a> のように、 SMARTY_DIR 直下の pluginsや新規に作成したフォルダに自作プラグインを放り込む事で以下のように、plugins_dir[]メソッドを使ってパスを指定すれば使えました。::</dt><dd><p>&lt;?php
$smarty-&gt;plugins_dir[] = 'includes/my_smarty_plugins';
?&gt;</p>
</dd>
</dl>
<p>しかし、Smarty 3.1からは、自作プラグインの導入方法が変更されています。 上記の方法で追加してプログラムを動作させると、以下のようなエラーが表示されます。</p>
<p>Notice: Indirect modification of overloaded property Smarty::$plugins_dir has no effect</p>
<p>Smarty 3.1でのプラグインの追加は、setPluginsDirメソッドやaddPluginsDirメソッドを使います。</p>
<p>例えば、/var/www/xxxというディレクトリに自作プラグインを放り込みたい場合には、以下のようにパスを追加してあげれば、エラーメッセージが出なくなります。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$smarty-&gt;addPluginsDir(array(&#39;/var/www/xxxx&#39;));
</pre></div>
</div>
<p>以下のリファレンスページを参考にすれば良いです。</p>
<p><a class="reference external" href="http://www.smarty.net/docs/en/api.add.plugins.dir.tpl">http://www.smarty.net/docs/en/api.add.plugins.dir.tpl</a></p>
</section>
<section id="ubuntu-16-04apache2-wsgi">
<h2><span class="section-number">1.59. </span>Ubuntu 16.04にApache2+WSGI環境を構築する<a class="headerlink" href="#ubuntu-16-04apache2-wsgi" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>1.mod-wsgiをインストールする:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$sudo apt-get install -y libapache2-mod-wsgi
$sudo a2enmod mod-wsgi
</pre></div>
</div>
<p>2./etc/apache2/apache2.confの該当部分を以下のように編集する:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">Directory</span> <span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">www</span><span class="o">/&gt;</span>
<span class="n">Options</span> <span class="n">Indexes</span> <span class="n">FollowSymLinks</span> <span class="n">ExecCGI</span>
<span class="n">AddHandler</span> <span class="n">cgi</span><span class="o">-</span><span class="n">script</span> <span class="o">.</span><span class="n">cgi</span>
<span class="n">AddHandler</span> <span class="n">wsgi</span><span class="o">-</span><span class="n">script</span> <span class="o">.</span><span class="n">wsgi</span>
<span class="n">AddHandler</span> <span class="n">wsgi</span><span class="o">-</span><span class="n">script</span> <span class="o">.</span><span class="n">py</span>
<span class="n">AllowOverride</span> <span class="kc">None</span>
<span class="n">Order</span> <span class="n">allow</span><span class="p">,</span><span class="n">deny</span>
<span class="n">allow</span> <span class="kn">from</span> <span class="nn">all</span>
<span class="n">Require</span> <span class="nb">all</span> <span class="n">granted</span>
<span class="o">&lt;/</span><span class="n">Directory</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>3.Apache2を再起動させる:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$sudo service apache2 restart
</pre></div>
</div>
</section>
<section id="ppssppubuntu-16-04-lts">
<h2><span class="section-number">1.60. </span>PPSSPPをUbuntu 16.04 LTSにインストールする<a class="headerlink" href="#ppssppubuntu-16-04-lts" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>PSPエミュレーター「PPSSPP」はUbuntu 16.04 LTSにもインストールする事が出来ますが、全体的にライブラリのバージョンが上がっていますので、そのままでは依存関係の問題が発生してインストールする事が出来ません。
<a class="reference external" href="https://launchpad.net/ubuntu/xenial/amd64/libglew1.10/1.10.0-3">https://launchpad.net/ubuntu/xenial/amd64/libglew1.10/1.10.0-3</a> からlibglew1.10をダウンロードしてインストールします。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$sudo dpkg -i libglew1.10_1.10.0-3_amd64.deb
</pre></div>
</div>
<p>後はPPSSPPをインストールしていきます。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$sudo add-apt-repository ppa:noobslab/apps
$sudo apt-get update
$sudo apt-get install ppsspp
</pre></div>
</div>
</section>
<section id="ubuntu-14-04cups">
<h2><span class="section-number">1.61. </span>Ubuntu 14.04でプリンターを使う時にはCUPSを使うと楽に設定できる<a class="headerlink" href="#ubuntu-14-04cups" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>Ubuntu 14.04でプリンターを使う時にはCUPSを使うと楽に設定出来ます。</p>
<p>APTなどでCUPSをインストール後に、パソコンにプリンターを接続して電源を入れた状態でブラウザを起動させ、「 <a class="reference external" href="http://localhost:631">http://localhost:631</a> 」にアクセスして、指示通りに設定していくだけでプリンターを使うことが可能となります。</p>
<p>Ubuntuではメニュー→システム→プリンターでプリンターの設定が出来ますが、環境によっては途中で止まってしまったりしますので、ブラウザでCUPSにアクセスした方が確実にプリンターの設定が可能です。</p>
</section>
<section id="playonlinux">
<h2><span class="section-number">1.62. </span>PlayOnLinuxのバージョンを固定してエラーを防ぐ<a class="headerlink" href="#playonlinux" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>Windows APIレイヤーのWineを視覚的に操作することが出来るソフトウェアであるPlayOnLinuxは、Linuxユーザーがよく利用しているソフトウェアです。
環境によって最新版の4.2.5は、アプリケーションインストールの画面で矢印が回転して作業が進まなかったり、32bitのOpenGLのライブラリが足りないなど様々なエラーに遭遇することが多々あります。
このような時には、旧バージョンを利用すると問題が解決します。</p>
<p>Synapticパッケージマネージャーを使っている場合は、PlayOnLinuxの項目の色をクリックで反転させて、メニュー→「パッケージ」→「バージョンの強制」を選択して、旧バージョンのPlayOnLinuxを選択します。
インストール後は、メニュー→「パッケージ」→「バージョンの固定」を行なうとSynapticでアップグレード作業を行っても更新されずに済みます。
また、ターミナルでapt-get upgradeなどを行なうことが多い場合には、PlayOnLinuxのリポジトリを選択しないようにSynapticパッケージマネージャーなどで設定しておくと良いでしょう。</p>
</section>
<section id="id6">
<h2><span class="section-number">1.63. </span>Ubuntuでファイアウォールを設定する<a class="headerlink" href="#id6" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>１．ufwのインストール:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$sudo apt-get install ufw
</pre></div>
</div>
<p>２．ufwの現在の状況の確認:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$sudo ufw status
</pre></div>
</div>
<p>３．SSHとHTTPだけ許可する設定</p>
<p>全てを拒否する設定:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ sudo ufw default deny
</pre></div>
</div>
<p>SSHを通す。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ sudo ufw allow 22
</pre></div>
</div>
<p>HTTPを許可する。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ sudo ufw allow 80
</pre></div>
</div>
<p>ポートの範囲してUDPの60000から610000を開ける場合:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$sudo ufw allow 60000:61000/udp
</pre></div>
</div>
<p>ufwを有効にする。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ sudo ufw enable
</pre></div>
</div>
</section>
<section id="id7">
<h2><span class="section-number">1.64. </span>Linuxディストリビューションのリマスターでデータ容量が肥大化しやすい箇所に注意して制作を行う<a class="headerlink" href="#id7" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>Ubuntuなどをベースにして、リマスターを行い、オリジナルのディストリビューションを制作することが出来ます。
その際に、データ容量が肥大化しやすい箇所を意識しながら、制作を行っていきますと、最終的なISO容量を抑えることが出来ます。</p>
<p>1./usr/share/iconsは、各アイコンのキャッシュデータ（icon-theme.cache）が結構容量が大きいですので、インストールするアイコンを絞って入れると良いでしょう。</p>
<p>2./usr/share/backgroundsなどの背景画像データも肥大化の原因になりますので、必要最低限に抑えます。</p>
<p>3./optには、ユーザー独自のアプリケーションやサードパーティー製のアプリケーションが置かれます。
容量に注意することが必要です。</p>
<p>4./etc/skelは、システム初回起動時にホームディレクトリに置くファイルを設置することが出来ます。
特にLiveCDを起動させた時に、ここに置いているファイル群が大容量ですと読み込みに時間が掛かりますので注意してください。</p>
<p>5./var/lib/apt/listsは、PPAを追加してアップデートを行った時に作成されるアプリケーションリストファイルが保管される所です。PPAを追加すればするほど、ここに作成されるファイル容量が増えます。</p>
<p>容量を減らす方法としては、SynapticパッケージマネージャーなどでPPAのチェックを外して、apt-get updateを行います。</p>
</section>
<section id="mksquashfslinuxiso">
<h2><span class="section-number">1.65. </span>mksquashfsのオプションでLinuxディストリビューションのISO容量を削減する<a class="headerlink" href="#mksquashfslinuxiso" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>Linuxディストリビューションの多くは、ISOファイルの形式で配布されていますが、SquashFSをLiveCDのファイルシステムとして活用しているケースが多いです。
その為、SquashFSの使い方によってISOの容量が大きく変わってきます。</p>
<p>・元のファイルサイズを2.4GBとします。$FSPATHは元のフォルダ、filesystem.squashfsが出力されるSquashFSファイルです。</p>
<p>1.gzipで圧縮:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$mksquashfs $FSPATH filesystem.squashfs -noappend -no-recovery
</pre></div>
</div>
<p>930MBのfilesystem.squashfsが完成</p>
<p>2.gzip圧縮でブロックサイズを指定:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$mksquashfs $FSPATH $ISOPATH/casper/filesystem.squashfs -noappend -no-recovery -b 1048576
</pre></div>
</div>
<p>900MBのfilesystem.squashfsが完成</p>
<p>3.LZO圧縮:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$mksquashfs $FSPATH $ISOPATH/casper/filesystem.squashfs -noappend -no-recovery -comp lzo
</pre></div>
</div>
<p>960MBのfilesystem.squashfsが完成</p>
<p>4.XZ圧縮:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$mksquashfs $FSPATH $ISOPATH/casper/filesystem.squashfs -noappend -no-recovery -comp xz
</pre></div>
</div>
<p>830MBのfilesystem.squashfsが完成</p>
<p>5.XZ圧縮でブロックサイズ指定:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$mksquashfs $FSPATH $ISOPATH/casper/filesystem.squashfs -noappend -no-recovery -b 1048576 -comp xz
</pre></div>
</div>
<p>800MBのfilesystem.squashfsが完成</p>
<p>6.XZ圧縮でブロックサイズを指定し、X-dictを設定:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$mksquashfs $FSPATH $ISOPATH/casper/filesystem.squashfs -noappend -no-recovery -b 1048576 -comp xz -Xdict-size 100%
</pre></div>
</div>
<p>750MBのfilesystem.squashfsが完成</p>
<p>XZ圧縮を行いますと、圧縮が大幅に時間が掛かりますが、オプションを付けることでかなりの圧縮が出来ます。
どのようなシステムを想定しているかによって、圧縮方式を変更していくと良いでしょう。</p>
</section>
<section id="ubuntuhdduefi">
<h2><span class="section-number">1.66. </span>リマスターしたUbuntuでHDDにインストールしてもUEFIで起動出来ない場合の対処法<a class="headerlink" href="#ubuntuhdduefi" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>Ubuntuをリマスターして、成果物をHDDにインストールした時に、UEFIモードでgrubプロンプトに落ちる事が多々あります。これを対処するには、リマスター時のLiveCDのホームディレクトリをubuntuにしておくだけで、LiveCDでもHDDインストールでもUEFIブート出来るようになります。</p>
<p>LiveCDは、ERIディレクトリにあるファイル群を読み込んで、起動し、カーネルはvmlinuz.efiが使われます。UEFIモードでHDDインストールを行なう時には、EFIパーティション(GPT)を作っておく必要があります。
UEFIブート用の特殊なFAT32のパーティションであり、起動ドライブにおいて最優先で読み込みます。これが無いと、HDDインストールしたUbuntuは動作しませんので、BIOSとの一番の違いと言えます。</p>
<p>EFIパーティションを作成するには、UEFIモードで対応しているLiveCDで起動させる必要があり、この状態でUbiquityをパーティション変更の部分まで進める事で、作成出来るようになります。
ファイルシステム選択欄に「EFIパーティション」という項目が増えていますので、これを指定してください。 EFIパーティションのサイズは、250MBぐらいで構いません。</p>
<p>xfceのターミナルからEmacsを起動させるコマンド:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$xfce4-terminal --hide-menubar -e emacs --title=emacs
</pre></div>
</div>
</section>
<section id="boot-repairuefi">
<h2><span class="section-number">1.67. </span>Boot Repairを使ったUEFI対応ポータブルドライブの作成<a class="headerlink" href="#boot-repairuefi" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>UEFI環境において、BIOS時代の方法でポータルHDDやUSBメモリにフルインストールしますと、先に作成したドライブのGRUBがgrub rescueなどに落ちてしまいます。この現象を避ける為には、Boot Repairというソフトウェアを導入するのが有効です。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ sudo add-apt-repository ppa:yannubuntu/boot-repair
$ sudo apt-get update
$ sudo apt-get install -y boot-repair
</pre></div>
</div>
<p>1.LiveCDを使って、デスクトップ環境を起動させた状態からUbuntuのインストーラーを起動させます。</p>
<p>2.インストールは、通常のUEFI向けのインストールで構いません。</p>
<p>3.インストール後、そのまま、LiveCDのデスクトップ環境上でGpartedを起動させます。</p>
<p>4.Gpartedで先ほどポータブルドライブにインストールしたEFIパーティションを削除し、FAT32にフォーマットした後、右クリックでフラグ編集を選び、「boot」の項目にチェックを入れます。</p>
<p>5.Boot Repairを起動させ、「高度なオプション」をクリックします。</p>
<p>セキュアブートの項目は必ず外す必要があります。設定が終わったら、適用ボタンを押して、GRUBの再インストールと設定を項目通りに行います。</p>
<p>再起動を行って、UEFIで起動するドライブを設定して保存、再起動させれば完了です。</p>
</section>
<section id="windows-10pclinux">
<h2><span class="section-number">1.68. </span>Windows 10に仮想PCを設置してLinuxのパワーを活かす<a class="headerlink" href="#windows-10pclinux" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>Windows 10を搭載したパソコンが大手家電量販店などで販売されています。</p>
<p>UbuntuなどのLinuxディストリビューションは、最新のBIOSシステムであるUEFIとセキュアブートに対応しています。しかし、BaytrailなどのAtom系Socを搭載したWindowsタブレットは、独自のドライバを使っている各種チップを搭載しているケースが多く、32bit UEFIを採用しているケースもありますので、スムーズにLinuxディストリビューションをインストール出来ず、無線LANが使えなかったり、タッチパネルが使えなかったりします。
Windowsとのデュアルブートが行いにくいといって欠点もあります。その為、WindowsタブレットでLinuxを使う方法としては、Virtualboxなどの仮想化ソフトウェアを使って仮想PCを構築し、そこにLinuxディストリビューションをインストールして使うというのが最も現実的です。</p>
<p><a class="reference external" href="https://www.virtualbox.org/wiki/Downloads">https://www.virtualbox.org/wiki/Downloads</a></p>
<p>1.WindowsにVirtualboxをインストールします。</p>
<p>2.タブレットの他に、仮想環境を構築する為のマシンを用意してください。Windowsタブレットは、メモリが1GBの物も存在し、ストレージもそれほど高速ではありませんので、WindowsタブレットにPC環境を構築してインストールすると非常に時間が掛かりますので、予め、マシンパワーのあるパソコンでLinuxが入っている仮想PCを構築してしまうのがオススメです。</p>
<p>3.Virtualboxには、構築した仮想環境を他のマシンに移行させる仕組みが用意されています。
「ファイル」→「仮想アプライアンスのエクスポート」で仮想環境を出力します。ファイル容量を３分の1にしてくれます。</p>
<p>完成したファイルをmicroSDやUSBメモリに保存して、Windowsタブレットにストレージを挿入します。</p>
<p>4.WindowsタブレットにインストールしているVirtualboxを起動させ、「ファイル」→「仮想アプライアンスのインポート」でovaファイルやovfファイルを選択します。
この後は、自動的にインポート作業が行われますので、完了するまで待って下さい。</p>
<p>後は、Windowsタブレットのスペックに合わせて、仮想マシンの環境を調整しておけば、Windows 10でLinuxを使える環境が整えます。</p>
<p>例えば、ゲームやWebブラウジングはWindowsで行い、EmacsやGIMPなどは仮想環境のLinuxで行うといった事も可能になります。共有フォルダを作っておけば、LinuxのEmacsでWindowsの共有フォルダにあるテキストファイルを編集するといった事も出来るでしょう。
仮想環境のLinuxに使うデスクトップ環境は、LXDEやOpenboxなど軽量な物にしておいた方が軽快に動作します。</p>
</section>
<section id="linuxfirefoxwindowsflash">
<h2><span class="section-number">1.69. </span>Linux版FirefoxでWindows用のFlashを使用する<a class="headerlink" href="#linuxfirefoxwindowsflash" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>Pipelightは、Windows用のブラウザープラグインをLinux上で動かす為のプラグインです。</p>
<p>UbuntuではPPAが用意されていますので、以下の方法で入れていきます。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ sudo add-apt-repository ppa:pipelight/stable
$ sudo apt update
$ sudo apt install pipelight-multi
$ sudo pipelight-plugin --update
$ sudo pipelight-plugin --enable flash
</pre></div>
</div>
</section>
<section id="pulseaudio">
<h2><span class="section-number">1.70. </span>PulseAudioを切る<a class="headerlink" href="#pulseaudio" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>Jackなどの他のサウンドサーバを使用したり、直接Alsaドライバーを各音楽ソフトウェアなどで使う場合にはPulseAudioを切る必要があります。</p>
<p>1.管理者権限で「/etc/pulse/client.conf」をテキストエディタで開く</p>
<p>2.「autospawn=no」「daemon-binary=/bin/true」を追記して保存し、システムを再起動させます。</p>
<p>3.端末を使って手動で「pulseaudio --start」でPulseAudioを起動させ、「pulseaudio --kill」でPulseAudioを切ることができ、spwanが起きません。</p>
</section>
<section id="ubuntu-14-04">
<h2><span class="section-number">1.71. </span>Ubuntu 14.04にゲームエミュレーターをインストールする<a class="headerlink" href="#ubuntu-14-04" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>◇Wii/ゲームキューブ(Dolphin):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ sudo add-apt-repository ppa:glennric/dolphin-emu
$ sudo apt-get update
$ sudo apt-get install dolphin-emu-master
</pre></div>
</div>
<p>◇PSP(PPSSPP):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ sudo add-apt-repository ppa:ppsspp/stable
$ sudo apt-get update
$ sudo apt-get install ppsspp-qt
</pre></div>
</div>
<p>◇PS2(PCSX2・要BIOS):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ sudo add-apt-repository ppa:noobslab/pcsx2
$ sudo apt-get update
$ sudo apt-get install pcsx2
</pre></div>
</div>
<p>◇PS(PCSX Reloaded・ゲームに応じてBIOSが必要):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ sudo apt-get install pcsxr
</pre></div>
</div>
</section>
<section id="ubuntu-14-04-12-04-ltsnginx-php-fpm">
<h2><span class="section-number">1.72. </span>Ubuntu 14.04/12.04 LTSにnginx＋PHP FPMをインストール<a class="headerlink" href="#ubuntu-14-04-12-04-ltsnginx-php-fpm" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>WebサーバのApache2を使う代わりに、nginxを使うことが出来ます。nginxでPHPを使用する場合にはPHP FPMが必要になります。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$sudo apt-get install python-software-properties
$sudo add-apt-repository ppa:nginx/stable
$sudo add-apt-repository ppa:ondrej/php5
$sudo apt-get update
$sudo apt-get install nginx php5-fpm
</pre></div>
</div>
<p>◇/etc/nginx/sites-available/defaultの編集(PHP FPMをデフォルトで使えるようにする）:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>location ~ \.php$ {
fastcgi_split_path_info ^(.+\.php)(/.+)$;
# NOTE: You should have &quot;cgi.fix_pathinfo = 0;&quot; in php.ini
# With php5-cgi alone:
# fastcgi_pass 127.0.0.1:9000;
# With php5-fpm:
fastcgi_pass unix:/var/run/php5-fpm.sock;
fastcgi_index index.php;
include /etc/nginx/fastcgi_params;
}
</pre></div>
</div>
<p>◇/etc/php5/fpm/php.iniの編集:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>; cgi.fix_pathinfo provides *real* PATH_INFO/PATH_TRANSLATED support for CGI. $
; previous behaviour was to set PATH_TRANSLATED to SCRIPT_FILENAME, and to not $
; what PATH_INFO is. For more information on PATH_INFO, see the cgi specs. Se$
; this to 1 will cause PHP CGI to fix its paths to conform to the spec. A sett$
; of zero causes PHP to behave as before. Default is 1. You should fix your s$
; to use SCRIPT_FILENAME rather than PATH_TRANSLATED.
; http://php.net/cgi.fix-pathinfo
cgi.fix_pathinfo=0
</pre></div>
</div>
<p>◇nginx再起動:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$sudo service php5-fpm reload
$sudo service nginx reload
</pre></div>
</div>
</section>
<section id="gzipsquashfs">
<h2><span class="section-number">1.73. </span>Gzip以外でSquashFSを使う<a class="headerlink" href="#gzipsquashfs" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>SquashFSは読み込み専用のファイルシステムの一種です。
デフォルトでは圧縮プログラムにGzipが使われており、デフォルトの状態でも高圧縮が出来る仕掛けになっています。Ubuntu 14.04 LTS/12.04 LTSには、Squash Tools 4.2が搭載されており、XZやLZOといった圧縮プログラムを利用出来ます。また、Squash Tools 4.3のソースコードからビルドを行なうことでLZ4圧縮を使用することも可能です。
XZ圧縮を行なうことでGzip圧縮よりもさらにファイル容量を小さくすることが出来ます。 mksquashコマンドを以下のように使うとXZ圧縮を使えます。</p>
<p><a class="reference external" href="http://techoverflow.net/blog/2013/01/11/create-highly-compressed-squashfs-from-folder/">http://techoverflow.net/blog/2013/01/11/create-highly-compressed-squashfs-from-folder/</a></p>
<dl class="simple">
<dt>::</dt><dd><p>$mksquashfs [source folder] [SquashFS target file] -b 1048576 -comp xz -Xdict-size 100%</p>
</dd>
</dl>
<p>出来上がったファイルのマウント方法は以下のコマンドを使います。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$mount -o loop -t squashfs [SquashFS file] [folder you want to mount it in]
</pre></div>
</div>
<p>/etc/fstabに以下の内容を追加すると、システム起動時に自動的にマウントします。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">SquashFS</span> <span class="n">file</span><span class="p">]</span> <span class="p">[</span><span class="n">folder</span> <span class="n">you</span> <span class="n">want</span> <span class="n">to</span> <span class="n">mount</span> <span class="n">it</span> <span class="ow">in</span><span class="p">]</span> <span class="n">squashfs</span> <span class="n">auto</span><span class="p">,</span><span class="n">defaults</span> <span class="mi">0</span> <span class="mi">0</span>
</pre></div>
</div>
</section>
<section id="portablelinuxapps">
<h2><span class="section-number">1.74. </span>ワンクリックで起動出来るPortableLinuxAppsで公開されているアプリケーション<a class="headerlink" href="#portablelinuxapps" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p><a class="reference external" href="http://www.portablelinuxapps.org/">http://www.portablelinuxapps.org/</a></p>
<p>PortableLinuxAppsは、UbuntuやCent OSやRHELなどのLinuxディストリビューションでワンクリックで使うことが出来るアプリケーションです。Windowsでは、USBメモリに入れて持ち運びが出来るポータブルアプリケーションと呼ばれる物がありますが、PortableLinuxAppsで公開されているアプリケーションはそのような類の物です。各ディストリビューションのインストール方法を使用すると、多くの依存関係のあるソフトウェアがまとめてインストールされてしまいます。</p>
<p>PortableLinuxAppsのアプリを使用すると、余計なアプリがインストールされることがありません。
また、USBメモリに入れておくとメインシステムの外部記憶装置の容量が圧迫されることから解放されるという利点があります。</p>
</section>
<section id="ubuntuubuntuupdates-org">
<h2><span class="section-number">1.75. </span>Ubuntuを大幅に強化したい時に役に立つUbuntuUpdates.org<a class="headerlink" href="#ubuntuubuntuupdates-org" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p><a class="reference external" href="http://www.ubuntuupdates.org/ppas">http://www.ubuntuupdates.org/ppas</a></p>
<p>Ubuntuの主要なアプリケーションを最新のLinux環境に近づける為に使うと役に立つPPAが集まっているサイトです。 特にUbuntu 12.04 LTSはPPAを使うと、Linuxカーネル3.16やPython 3.4やLLVM 3.4やPHP 5.5などの最新のバージョンが使えるようになります。</p>
</section>
<section id="id8">
<h2><span class="section-number">1.76. </span>Ubuntuのアプリケーションのバージョンを固定する<a class="headerlink" href="#id8" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>UbuntuはAPTなどでアップデートをすると基本的に最新のバージョンが入るようになっています。しかし、場合によっては旧バージョンの方が使いやすかったり、安定していたりするケースは多々あります。
その為、アップデートをしたくないという場合には、バージョンを固定するのが有効な手段です。</p>
<p>Synapticパッケージマネージャーを起動し、バージョンを固定したいアプリケーションを選択し、メニューの「パッケージ」⇛「バージョンを固定」を選択すると、バージョン固定が可能になります。</p>
</section>
<section id="nautilus-dropboxdropbox">
<h2><span class="section-number">1.77. </span>nautilus-dropboxを使わない安定したDropboxのインストール方法<a class="headerlink" href="#nautilus-dropboxdropbox" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p><a class="reference external" href="https://www.dropbox.com/install-linux">https://www.dropbox.com/install-linux</a></p>
<p>UbuntuなどのLinuxディストリビューションにDropboxのクライアントを導入する場合、APTなどのパッケージ管理ソフトウェアなどを使ってインストールを行いますが、環境によってはエラーが出ます。
より安定してインストールするには、コマンドラインで直接クライアントをダウンロードして起動させることです。</p>
<p>自動起動を確実に行いたい場合には、デスクトップ環境の自動設定用のフォルダ（.config/autostartなど）に「dropbox.desktop」というファイルを作り、「Exec=/home/(user)/.dropbox-dist/dropboxd」（(user)はユーザー名)の一文を書いておいて、再ログインすると出来るようになります。</p>
</section>
<section id="kvm">
<h2><span class="section-number">1.78. </span>KVMで音を鳴らす<a class="headerlink" href="#kvm" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>Linuxに標準で搭載されている仮想化システムKVMではSpiceを使って音を鳴らすことが可能です。</p>
<p>Spiceをインストールする:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$sudo apt-get install qemu-kvm-spice
$sudo apt-get install spice-client spice-client-gtk
$sudo apt-get install python-spice-client-gtk
</pre></div>
</div>
<p>KVMでOSを起動させる:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$kvm -cdrom xxx.iso -m 512 -showhd all
</pre></div>
</div>
</section>
<section id="ubuntuskydrivegoogle-drive">
<h2><span class="section-number">1.79. </span>Ubuntu系ディストリビューションでSkyDriveやGoogle Driveなどをネットワークドライブにする方法<a class="headerlink" href="#ubuntuskydrivegoogle-drive" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>1.http://otixo.com/でアカウントを作成する</p>
<p>2.otixo.comにSkyDriveなどのオンラインストレージを登録する</p>
<p>3.davfs2をインストールする:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$sudo apt-get install davfs2
</pre></div>
</div>
<p>4.適当なフォルダを作成する（ここではotixoフォルダを作成しました)</p>
<p>5.otixoフォルダ内でターミナルを起動させ、otixo.comのWevDAVを登録する:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$sudo mount -t davfs https://dav.otixo.com .
</pre></div>
</div>
<p>6.otixo.comのアカウントとパスワードを入力する</p>
<p>7.otixoフォルダ内にotixo.comに登録したオンラインストレージのシンボリックリンクが作成される。
これでオンラインストレージをネットワークドライブとして使える</p>
</section>
<section id="macopix">
<h2><span class="section-number">1.80. </span>デスクトップマスコット「MaCoPix」<a class="headerlink" href="#macopix" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>MaCoPixはLinuxなどで動作するデスクトップマスコットエンジンです。UbuntuではAPTでインストール出来ます。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$sudo su
#apt-get install macopix-gtk2
</pre></div>
</div>
<p>起動方法はターミナルで「macopix ファイル名」で起動出来ます。</p>
</section>
<section id="openjtalk">
<h2><span class="section-number">1.81. </span>OpenJTalk<a class="headerlink" href="#openjtalk" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>OpenJtalkは、テキストデータなどを解析して読み上げるソフトウェアです。音声解析ソフトウェアと併用すると、コンピュータと「会話」することが出来るようになります。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$sudo apt-get install open-jtalk open-jtalk-mecab-naist-jdic htsengine libhtsengine-dev hts-voice-nitech-jp-atr503-m001
</pre></div>
</div>
<p>辞書は/var/lib/mecab/dic/open-jtalk/naist-jdic、音声は /usr/share/hts-voice/nitech-jp-atr503-m001にインストールされています。MMDAgentのMeiの声をインストールするには以下の通りの作業を行います。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$mkdir ~/tmp/src
$cd ~/tmp/src
$wget http://downloads.sourceforge.net/project/mmdagent/MMDAgent_Example/MMDAgent_Example-1.1/MMDAgent_Example-1.1.zip
$unzip MMDAgent_Example-1.1.zip
$sudo cp -R MMDAgent_Example-1.1/Voice/* /usr/share/hts-voice/
</pre></div>
</div>
<p>◇OpenJTalkの主なパラメータ:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">-</span><span class="n">s</span> <span class="nb">int</span> <span class="n">sampling</span> <span class="n">frequency</span> <span class="mi">16000</span> <span class="p">[</span> <span class="mi">1</span><span class="o">--</span><span class="mi">48000</span><span class="p">]</span>
<span class="o">-</span><span class="n">z</span> <span class="nb">int</span> <span class="n">audio</span> <span class="n">buffer</span> <span class="n">size</span> <span class="mi">1600</span> <span class="p">[</span> <span class="mi">0</span><span class="o">--</span><span class="mi">48000</span><span class="p">]</span>
<span class="o">-</span><span class="n">p</span> <span class="nb">int</span> <span class="n">frame</span> <span class="n">period</span> <span class="p">(</span><span class="n">point</span><span class="p">)</span> <span class="n">話速</span> <span class="mi">80</span> <span class="p">[</span> <span class="mi">1</span><span class="o">--</span><span class="p">]</span>
<span class="o">-</span><span class="n">a</span> <span class="nb">float</span> <span class="nb">all</span><span class="o">-</span><span class="k">pass</span> <span class="n">constant</span> <span class="n">声質</span> <span class="mf">0.42</span> <span class="p">[</span> <span class="mf">0.0</span><span class="o">--</span><span class="mf">1.0</span><span class="p">],</span><span class="n">br</span><span class="o">/&gt;</span> <span class="o">-</span><span class="n">b</span> <span class="nb">float</span> <span class="n">postfiltering</span> <span class="n">coefficient</span> <span class="mf">0.0</span> <span class="p">[</span><span class="o">-</span><span class="mf">0.8</span><span class="o">--</span><span class="mf">0.8</span><span class="p">]</span>
<span class="o">-</span><span class="n">g</span> <span class="nb">int</span> <span class="n">gamma</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span> <span class="o">/</span> <span class="n">i</span> <span class="p">(</span><span class="k">if</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span> <span class="n">then</span> <span class="n">gamma</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span> <span class="mi">0</span> <span class="p">[</span> <span class="mi">0</span><span class="o">--</span> <span class="p">]</span>
<span class="o">-</span><span class="n">u</span> <span class="nb">float</span> <span class="n">voiced</span><span class="o">/</span><span class="n">unvoiced</span> <span class="n">threshold</span> <span class="mf">0.5</span> <span class="p">[</span> <span class="mf">0.0</span><span class="o">--</span><span class="mf">1.0</span><span class="p">]</span>
<span class="o">-</span><span class="n">jm</span> <span class="nb">float</span> <span class="n">weight</span> <span class="n">of</span> <span class="n">GV</span> <span class="k">for</span> <span class="n">spectrum</span> <span class="n">音量</span> <span class="mf">1.0</span> <span class="p">[</span> <span class="mf">0.0</span><span class="o">--</span><span class="mf">2.0</span><span class="p">]</span>
<span class="o">-</span><span class="n">jf</span> <span class="nb">float</span> <span class="n">weight</span> <span class="n">of</span> <span class="n">GV</span> <span class="k">for</span> <span class="n">Log</span> <span class="n">F0</span> <span class="n">抑揚</span> <span class="mf">1.0</span> <span class="p">[</span> <span class="mf">0.0</span><span class="o">--</span><span class="mf">2.0</span><span class="p">]</span>
<span class="o">-</span><span class="n">jl</span> <span class="nb">float</span> <span class="n">weight</span> <span class="n">of</span> <span class="n">GV</span> <span class="k">for</span> <span class="n">low</span><span class="o">-</span><span class="k">pass</span> <span class="nb">filter</span> <span class="mf">1.0</span> <span class="p">[</span> <span class="mf">0.0</span><span class="o">--</span><span class="mf">2.0</span><span class="p">]</span>
<span class="o">-</span><span class="n">l</span> <span class="n">regard</span> <span class="nb">input</span> <span class="k">as</span> <span class="n">log</span> <span class="n">gain</span> <span class="ow">and</span> <span class="n">output</span> <span class="n">linear</span> <span class="n">one</span> <span class="p">(</span><span class="n">LSP</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="xubuntu-12-04">
<h2><span class="section-number">1.82. </span>Xubuntu 12.04以降でシステム効果音を鳴らす<a class="headerlink" href="#xubuntu-12-04" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>Xubuntu 12.04以降ではデフォルトでシステム効果音が鳴らないように設定されています。</p>
<p>Xubuntuの場合はシステムサウンドをONにしてから、gnome-session-canberraをSynapticパッケージマネージャーなどから導入します。</p>
<p>・デスクトップ環境がXfceの場合は「設定マネージャー」→「設定エディター」→「xsettings」→「EnableEventSounds」にチェックを入れると、再ログオン時に音が鳴るようになります。また、SoundThemeNameでサウンドテーマを変更することが出来ます。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$sudo su
#apt-get gnome-session-canberra
</pre></div>
</div>
<p>gnome-session-canberraを使う方法以外にはGUI表示させずに起動時に音楽プレイヤーで起動音を再生させるという方法があります。ここではogg123というOGG再生プレーヤーを利用しています。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$sudo su
#apt-get install voribis-tools
</pre></div>
</div>
<p>「設定マネージャー」→「セッションと起動」→「自動開始アプリケーション」の追加ボタンを押して以下の様に設定後、システムを再起動させます。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>名前:システム起動音（任意の名称を付けてください）
説明：（分かりやすい説明を書いておくと便利です）
コマンド:/usr/bin/ogg123 /usr/share/sounds/（サウンドテーマ名）/stereo/desktop-login.ogg
</pre></div>
</div>
<p>この設定は「~/.config/autostart」に保存されています。</p>
</section>
<section id="androidubuntu-12-04">
<h2><span class="section-number">1.83. </span>リモートデスクトップを使ってAndroidタブレットにUbuntu 12.04のデスクトップを表示させる<a class="headerlink" href="#androidubuntu-12-04" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>リモートデスクトップを使ってAndroidタブレットにUbuntu 12.04のデスクトップを表示させることが出来ます。これはAndoridoタブレットを仮想的なディスプレイとして利用出来ることを指しています。</p>
<p>1.Google Playで「VNC」で検索して、AndroidタブレットにVNCアプリをインストールし、接続したいPCのユーザー名・パスワード・マシンのIPアドレス・ポートなどの必要な情報を登録しておきます。</p>
<p>2.Wi-Fi接続出来るUbuntu 12.04マシンにAPTなどで「X11VNC」というGUIでVNC設定が出来るソフトウェアをインストールします。X11VNCを起動させて必要な情報を入力します。Sharedのチェックを入れると多人数でリモートデスクトップが利用出来るようになります。</p>
<p>3.Ubuntu12.04マシンのVNCサーバが動作している状態で、AndroidタブレットのVNCビューアから接続すれば、Ubuntu12.04のデスクトップ画面を見ることが出来ます。</p>
<p>4.コマンドでは以下のように設定していきます。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$x11vnc -storepasswd
#x11vnc -rfbauth /root/.vnc/passwd
</pre></div>
</div>
<p>常駐させたい場合は、/etc/rc.localに「/usr/bin/x11vnc -rfbauth /root/.vnc/passwd -forever -xkb」と記述して再起動する</p>
<p>その他の自動起動は以下の通りです。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ x11vnc -storepasswd（パスワードをセットする）
# su
# vi /etc/xinetd.d/x11vnc

service x11vnc
{
port = 5900
type = UNLISTED
socket_type = stream
protocol = tcp
wait = no
user = root
server = /usr/bin/x11vnc
server_args = -inetd -o /var/log/x11vnc.log -display :0 -auth /var/lib/gdm/:0.Xauth -rfbauth /home/ユーザーネーム/.vnc/passwd -forever
disable = no
}

# vi /etc/services

x11vnc 5900/tcp # VNC server（最下行に付け足す）

# /etc/init.d/xinetd restart
# reboot
$ x11vnc -storepasswd
</pre></div>
</div>
<p>次に自動起動用のショートカットを保存するために、/home/nnnn/.config内にフォルダautostartを作成する。</p>
<p>自動起動用のショートカットを作成する:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ lxshortcut -o .config/autostart/x11vnc-start.desktop
</pre></div>
</div>
<p>ショートカットを登録する画面が表示されたら、分かりやすい「名前」（x11vnc自動起動）と次の「コマンド」を登録する。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$/usr/bin/sudo -u nnnn x11vnc -forever -nossl -noncache -nolookup -bg -usepw
</pre></div>
</div>
<p>設定→デスクトップセッションの設定で「x11vnc自動起動」にチェックが入っているのを確認</p>
</section>
<section id="vo3-avi">
<h2><span class="section-number">1.84. </span>音声コーデック「VO3+」を使ったAVI動画の修正方法<a class="headerlink" href="#vo3-avi" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>Ogg Vorbis系の音声コーデック「VO3+」を使っている動画は、動画プレーヤー「VLC」などでは再生出来ません。コーデックを入れれば再生できますが、MP3やAACに変換した方が使い勝手がいいでしょう。</p>
<p>1.Avidemuxで読み込む。音声の再生は出来ないが、音声の保存は出来るので、「音声」→「保存」で拡張子を「.ogg」にして音声を保存します。</p>
<p>2.音声編集ソフトウェア「Audacity」で1で保存した音声を読み込み、「ファイル」→「書き出し」でWAVE（拡張子wav)ファイルとして保存します。</p>
<p>3.Avidemuxで1の映像を読み込み、「音声」→「主トラック」で3のWAVEファイルを読み込み、映像コーデックは「コピー」、音声コーデックはCBRでMP3、AACなどに設定して、音声部分だけエンコードして完了です。これでVLCでも音声が聞けるようになります。</p>
</section>
<section id="gstreamerrequired-gstreamer-element-audioconvert">
<h2><span class="section-number">1.85. </span>Gstreamerを使ったアプリケーションを起動させた時に「required: GStreamer element audioconvert」というエラーが出た時の対処法<a class="headerlink" href="#gstreamerrequired-gstreamer-element-audioconvert" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>Gstreamerを使ったアプリケーションを起動させた時に「required: GStreamer element audioconvert」というエラーが出ることがあります。 これを解消するには~/.gstreamerフォルダを削除して、Gstreamerを使ったアプリケーションを再起動させるだけです。</p>
</section>
<section id="upstart">
<h2><span class="section-number">1.86. </span>Upstartの起動速度が遅くなる原因となるモジュール、サービス<a class="headerlink" href="#upstart" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>1.VMWare Player - VMWare Playerの起動に必要なモジュールをOS起動段階で読み込むので、OSの起動が遅くなる。約10秒ほど遅くなる。</p>
<p>2.Winbind - OS起動時に読み込む。約数秒遅くなる。</p>
<p>3.cups - OS起動時に読み込む。約数秒遅くなる。</p>
<p>4.bluetooth関連 - OS起動時に読み込む。約数秒遅くなる。</p>
</section>
<section id="id9">
<h2><span class="section-number">1.87. </span>Upstartの起動スクリプトを並列処理する<a class="headerlink" href="#id9" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>/etc/init.d/rcの「CONCURRENCY=makefile」を「CONCURRENCY=shell」に変更。OSの起動速度が速くなる。</p>
</section>
<section id="id10">
<h2><span class="section-number">1.88. </span>自動起動するデーモンを切る<a class="headerlink" href="#id10" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>sysv-rc-confを使う場合:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#sudo apt-get install sysv-rc-conf</span>
<span class="c1">#sudo sysv-rc-conf</span>
</pre></div>
</div>
<p>Boot-Up-Managerを使う場合:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#sudo apt-get install bum</span>
<span class="c1">#sudo bum</span>
</pre></div>
</div>
<p>スワップの使用を抑える</p>
<p>/etc/sysctl.confに「vm.swappiness = 0」と書くと、メモリを使い切ってから、スワップを使う。</p>
</section>
<section id="wine1-4windowslivecd">
<h2><span class="section-number">1.89. </span>Wine1.4を使ってWindows環境入りのLiveCDをつくる<a class="headerlink" href="#wine1-4windowslivecd" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>Windows APIレイヤー「Wine1.4」を使って、Windows環境を構築し、それが動作するLiveCDを作成します。</p>
<p>1.UbuntuをHDDにインストール。</p>
<p>2.Ubuntu Builder(<a class="reference external" href="http://code.google.com/p/ubuntu-builder/">http://code.google.com/p/ubuntu-builder/</a>)をインストール</p>
<p>3.Ubuntu BuilderでUbuntu Mini Remixをダウンロード</p>
<p>4.Ubuntu Mini RemixをUbuntu Builderで展開する</p>
<p>5.Ubuntu BuilderのSynapticパッケージマネージャでOpenbox,obconf,obmenu,Wine1.4,nm-manager,xfce4-mixerをインストール</p>
<p>6.Ubuntu Builderのターミナルを起動し、作成中のLiveCDのrootディレクトリ(/home/ubuntu-builder/FileSystem/root)のパーミッションを「777」に変更</p>
<p>7.「winecfg」コマンドで作成中のLiveCDのrootディレクトリ直下に.wineディレクトリを作成</p>
<p>8./home/ubuntu-builder/FileSystem/root/.wine/drive_c/Program Files直下にWineで動かしたいWindowsのアプリケーションを置きます。</p>
<p>9.WineでWindowsアプリケーションを動かすコマンドは「wine start /Unix &quot;/root/.wine/drive_c/Program Files/アプリケーション.exe&quot;」</p>
<p>/etc/xdg/autostartの直下にコマンドの欄に先ほどのコマンドを書き込んだdesktopファイルを作成すると、OS起動後に自動でアプリケーションが起動します。</p>
<p>/etc/xdg/openbox/menu.xmlに先ほどのコマンドを追加すると、Openboxのメニュー項目に追加することも出来ます。</p>
<p>10.作業が完了すれば、Ubuntu BuilderのBuildボタンを押して、LiveCDを完成させます。後はUSBメモリにインストールしたり、CD-Rなどに焼きこんだりして使うだけです。2D格闘ゲームエンジン「M.U.G.E.N1.0」を使って「格闘ゲーム専用LiveCD」を作って遊んでみました。Windowsが無くてもWindowsをPCにインストールしなくてもM.U.G.E.Nをどこでも持ち運べるのはなかなか面白いものです。
Wine1.4はDirectX 9が無くてもアプリケーションが動作するほどよく出来ているソフトウェアですが、万能ではありません。.NET Frameworkで作成されたアプリケーションは.NET Framework 2.0ぐらいまでのものしか動作しません。Visual C++などWindowsネイティブなアプリケーションの方が動作する確率は高いです。
動作するWindowsアプリケーションを組み合わせて「擬似Windows LiveCD」を作ってみてもいいのではないでしょうか。</p>
</section>
<section id="compiz-fusion-iconxmonad">
<h2><span class="section-number">1.90. </span>Compiz Fusion IconでXmonadと他のウィンドウマネージャを切り替える<a class="headerlink" href="#compiz-fusion-iconxmonad" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>GPUで多彩なエフェクトを使うことが出来るウィンドウマネージャ「Compiz」にはパネルのトレイに常駐させることが出来る設定ソフトウェア「Compiz Fusion Icon」があります。これはUbuntuの場合、Synapticパッケージマネージャーなどで簡単にインストール出来ます。Comipz Fusion Iconには、Compiz以外のウィンドウマネージャに切り替える機能があります。これを使えば、Xmonadの環境からCompizなどのウィンドウマネージャへ切り替えることができます。</p>
<p>1.Xmonadを終了させる(Mod(デフォルトではAltキー）+Shift+q)</p>
<p>2.パネルのシステムトレイにあるCompiz Fusion Iconを右クリックして、「Select Window Manager」で切り替えたいウィンドウマネージャに切り替えます。Compizを使う場合、xcompmgr及びtranssetを使わないでください。</p>
<p>3.Xmonadに戻したい場合は、現在使っているウィンドウマネージャをkillした後にターミナルで「xmonad &amp;」でXmonadを起動させます。以下のようなスクリプトを書いておくと便利です。</p>
<dl class="simple">
<dt>◇xmonad-start.py::</dt><dd><p>#!/usr/bin/env python
#-<em>- coding:utf-8 -</em>-
import os
import sys
desktop_session = sys.argv[1]
os.system(&quot;skill -KILL %s&quot; % (desktop_session))
os.system(&quot;xmonad &amp;&quot;)</p>
</dd>
</dl>
<p>使い方はターミナルで「python xmonad-start.py 現在起動しているウィンドウマネージャ名」です。</p>
</section>
<section id="zipcomix">
<h2><span class="section-number">1.91. </span>zipで固めた画像を閲覧できるソフトウェア「Comix」<a class="headerlink" href="#zipcomix" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>本来は漫画を読むためのコミックビューアですが、zipで固めた画像を閲覧することも出来ます。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$sudo apt-get install comix
</pre></div>
</div>
</section>
<section id="id11">
<h2><span class="section-number">1.92. </span>Ubuntuでの動画キャプチャー<a class="headerlink" href="#id11" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>Ubuntuでも動画キャプチャーを行うことができます。「recordMyDesktop」というソフトウェアをインストールします。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$sudo apt-get install recordmydesktop
</pre></div>
</div>
<p>recordMyDesktopは、メニューには「Desctop recorder」という名前で登録されています。操作は簡単で設定で詳しい設定をすることが出来ます。「ウィンドウ選択」ボタンを押して録画したいウィンドウをクリックすると、そのウィンドウで動くソフトウェアの映像だけを記録することができます。録画の開始は「録音（なぜか日本語表示がそうなっている）」ボタンをクリックします。録画の停止はパネル上に表示されている赤い四角ボタンをクリックするとメニューが表れ、ここで出来ます。映像コーデック、音声コーデック、コンテナはそれぞれOGV,OGG,OVMとなっています。ライン端子などを使わずにPCの内部音源だけで録音するには、「サウンドの設定」→「入力」タブでサウンドカードの設定を出力だけにする必要があります。</p>
</section>
<section id="livecd">
<h2><span class="section-number">1.93. </span>LiveCDで書き込み機能を有効にする<a class="headerlink" href="#livecd" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>LiveCDで書き込み機能を有効にするにはPesistence機能を有効にします。</p>
<p>1.ext2/3/4でパーティションをフォーマットする</p>
<p>2.ラベルを付けます。Persistence機能はLinuxの構成で書き込んだ部分を差分として記憶します。この書き込みが出来る領域のパーティションのラベルを「casper-rw」と書きます。homeディレクトリを別に記憶したい場合はラベルに「home-rw」と記述します。つまり、homeディレクトリを分けたい場合、Persistent機能で使う領域はcasper-rwとhome-rwの2つが必要になります。</p>
<p>3.LiveCDを起動させるときには「persistent」オプションを付ける必要があります。grub2の場合は以下のような感じで書きます。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">menuentry</span> <span class="s2">&quot;Linuxディストリビューション名&quot;</span> <span class="p">{</span>
<span class="n">loopback</span> <span class="n">loop</span> <span class="p">(</span><span class="n">hd0</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span><span class="o">/</span><span class="n">Linuxディストリビューション</span><span class="o">.</span><span class="n">iso</span>
<span class="n">linux</span> <span class="p">(</span><span class="n">loop</span><span class="p">)</span><span class="o">/</span><span class="n">casper</span><span class="o">/</span><span class="n">vmlinuz</span> <span class="n">boot</span><span class="o">=</span><span class="n">casper</span> <span class="n">iso</span><span class="o">-</span><span class="n">scan</span><span class="o">/</span><span class="n">filename</span><span class="o">=/</span><span class="n">Linuxディストリビューション</span><span class="o">.</span><span class="n">iso</span> <span class="n">persistent</span> <span class="o">--</span>
<span class="n">initrd</span> <span class="p">(</span><span class="n">loop</span><span class="p">)</span><span class="o">/</span><span class="n">casper</span><span class="o">/</span><span class="n">initrd</span><span class="o">.</span><span class="n">lz</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="id12">
<h2><span class="section-number">1.94. </span>メニューからアプリケーションが起動できない場合の対処法<a class="headerlink" href="#id12" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>Synapticパッケージマネージャーなどのように管理者権限から起動させるタイプのアプリケーションはメニューから起動出来ない場合があります。その場合はhomeディレクトリにある「.gconf/apps/gksu/%gconf.xml」をテキストエディタで開き、以下のように変更してください。これでgksuをsudoモードで動かすことが出来ます。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">entry</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;sudo-mode&quot;</span> <span class="n">mtime</span><span class="o">=</span><span class="s2">&quot;1298474650&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;bool&quot;</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;true&quot;</span><span class="o">/&gt;</span>
</pre></div>
</div>
</section>
<section id="ramdisk">
<h2><span class="section-number">1.95. </span>RAMDISK設定<a class="headerlink" href="#ramdisk" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$sudo su
#gedit /etc/fstab
</pre></div>
</div>
<p>fstabに「tmpfs /tmp tmpfs default 0 0」を追記して、システムを再起動すると使えるようになります。</p>
</section>
<section id="hdd">
<h2><span class="section-number">1.96. </span>HDD修復方法<a class="headerlink" href="#hdd" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>LiveCDを起動し、ターミナルで以下のコマンドを入力します。ここではファイルシステムをext4、デバイス名を/dev/sda2とします。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#fsck.ext4 -y /dev/sda2</span>
</pre></div>
</div>
</section>
<section id="ubuntu-10-04-mtu">
<h2><span class="section-number">1.97. </span>Ubuntu 10.04+ブロードバンドで回線速度が遅いと感じたら、MTUを調整<a class="headerlink" href="#ubuntu-10-04-mtu" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>Ubuntu 10.04をインストールして、いざネットを使ったときに遅く感じることがないでしょうか？これはネットワーク接続のMTUの設定が自動になっているからです。これを回線に合わせて変更しておきます。フレッツ光プレミアムの場合は「1438」、フレッツADSLを使っている場合は「1454」にしておくといいでしょう。ちなみにRWINはLinuxの場合、自動で調整してくれます。</p>
</section>
<section id="ipv6">
<h2><span class="section-number">1.98. </span>IPv6を無効にする方法<a class="headerlink" href="#ipv6" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>IPv6を無効にすると、無線LANなどが安定することがあります。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$sudo gedit /etc/modprobe.d/aliases
</pre></div>
</div>
<p>以下の文を追加し、再起動します。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">alias</span> <span class="n">net</span><span class="o">-</span><span class="n">pf</span><span class="o">-</span><span class="mi">10</span> <span class="n">off</span>
</pre></div>
</div>
</section>
<section id="id13">
<h2><span class="section-number">1.99. </span>パッケージキャッシュを消す<a class="headerlink" href="#id13" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>パッケージキャッシュを消すと、ディスクスペースを増やすことが出来ます。アプリケーションをインストールした後は不要になるので定期的に消しておきましょう。</p>
<p>◇パッケージキャッシュ容量を確認:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$du -sh /var/cache/apt/archives/
</pre></div>
</div>
<p>◇パッケージキャッシュを削除:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$sudo apt-get clean
</pre></div>
</div>
</section>
<section id="wicd">
<h2><span class="section-number">1.100. </span>ネットワークマネージャーをWicdに変更<a class="headerlink" href="#wicd" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>Ubuntuのウィンドウマネージャーの中にはGNOMEのネットワーク設定を引き継がないものがあるので、安定しているWicdに変更するといいでしょう。</p>
<p>1.APTなどでWicdをインストール:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$sudo apt-get install wicd
</pre></div>
</div>
<p>2.Wicdと競合するnetwork-manager、network-manager-gnomeを削除:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$sudo apt-get --purge remove network-manager network-manager-gnome
</pre></div>
</div>
<p>3.再ログインする</p>
</section>
<section id="id14">
<h2><span class="section-number">1.101. </span>グラフィックドライバの情報を得る<a class="headerlink" href="#id14" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">glxinfo</span> <span class="o">|</span><span class="n">grep</span> <span class="n">vendor</span>
<span class="n">dmesg</span> <span class="o">|</span> <span class="n">grep</span> <span class="n">drm</span>
</pre></div>
</div>
</section>
<section id="id15">
<h2><span class="section-number">1.102. </span>グラフィックドライバをカーネルに入っているオープンソースドライバに戻す<a class="headerlink" href="#id15" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>1.xorg.conf を削除:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$sudo rm /etc/X11/xorg.conf
</pre></div>
</div>
<p>2.オープンソースの選択肢（/usr/lib/mesa/ld.so.conf）を選択</p>
<blockquote>
<div><p>$sudo update-alternatives --config gl_conf</p>
</div></blockquote>
<p>3.ld キャッシュと initramfs を更新</p>
<blockquote>
<div><p>$sudo ldconfig
$sudo update-initramfs -u</p>
</div></blockquote>
<p>4.コンピュータを再起動</p>
</section>
<section id="mesa">
<h2><span class="section-number">1.103. </span>MESAドライバをインストール<a class="headerlink" href="#mesa" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$sudo apt-get install --reinstall libgl1-mesa-glx libgl1-mesa-dri
</pre></div>
</div>
</section>
<section id="fglrx">
<h2><span class="section-number">1.104. </span>fglrxをアンインストール<a class="headerlink" href="#fglrx" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$sudo apt-get remove --purge xorg-driver-fglrx
</pre></div>
</div>
</section>
<section id="id16">
<h2><span class="section-number">1.105. </span>ウィンドウが消えた場合の対処法<a class="headerlink" href="#id16" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>GPUドライバを入れ替えた場合、再起動時にウィンドウマネージャーが起動せずにウィンドウが表示されないことがあります。</p>
<p>これはウィンドウマネージャーが起動していないだけなので、端末でウィンドウマネージャーを起動すれば直ります。例えば、Openboxを使っている場合は「openbox」と端末に入力します。</p>
<p>起動時にウィンドウマネージャーを確実に起動させたい場合は自動起動に登録しておくといいでしょう。</p>
</section>
<section id="gnome">
<h2><span class="section-number">1.106. </span>「GNOMEの電源管理」関連でログイン出来ない場合の対処方法<a class="headerlink" href="#gnome" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>Ubuntuを起動させ、ログインしようとすると右上に「GNOMEの電源管理の設定のデフォルトが正しくインストールされていません。あなたのコンピュータの管理者にお問い合わせください」というメッセージが出てログイン出来ないことがあります。これはHDDの容量が足りなくて、GNOMEの電源管理の設定ファイルをインストール出来ないことが原因で起こります。つまり、システムHDDの容量を増やしてあげればいいのです。 方法はいくつかありますが、Live CDを使って、任意のファイルを削除して容量を増やしてください。再起動させれば、通常通りにUbuntuのログインが出来るようになっています。</p>
</section>
<section id="ubuntuflex3python">
<h2><span class="section-number">1.107. </span>UbuntuでFlex3のパスやPythonのモジュールのパスを通す<a class="headerlink" href="#ubuntuflex3python" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>Windowsでは、スクリプト言語やライブラリ、フレームワークなどのパスを通すには「システムのプロパティ」の環境変数のPathの項目で出来ますが、Ubuntuではより簡単にこれらのパスを通すことが出来ます。 「home」フォルダのファイル表示をすべて表示出来るように設定（「表示」→「隠しファイルを表示する」にチェックを入れる）し、「.profile」というファイルがあるので任意のテキストエディタで表示します。以下をファイルに追加して保存します。</p>
<p>◇環境変数にパスを通す方法</p>
<p>・Flex3の場合（ダウンロードしたFlex3のフォルダのある場所を指定してください）:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>export PATH=$PATH:/opt/lampp/htdocs/Website/flex_sdk_3.4/bin
</pre></div>
</div>
<p>・Pythonのモジュールを通す場合（Pythonに加えたいモジュールのパスを記述してください）:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">PYTHONPATH</span><span class="o">=/</span><span class="n">opt</span><span class="o">/</span><span class="n">lampp</span><span class="o">/</span><span class="n">htdocs</span><span class="o">/</span><span class="n">Website</span><span class="o">/</span><span class="n">Spider</span><span class="o">/</span><span class="n">viper</span> <span class="n">export</span> <span class="n">PYTHONPATH</span>
</pre></div>
</div>
<p>再ログインするとパスが通っています。</p>
</section>
<section id="thunar">
<h2><span class="section-number">1.108. </span>Thunarのコンテキストメニューに各種アクションを追加する<a class="headerlink" href="#thunar" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>Thunarは軽量化のために機能を必要最低限に抑えています。しかし、Thunarには「アクション」と呼ばれるコンテキストメニューの機能を追加する仕組みがあります。設定の仕方はGNOMEのメインメニューと同じで名前とコマンドを入力します。Thunarのメニューバーの「アクション設定」、あるいはhomeフォルダにある「.config/Thunar/uca.xml」で機能を追加することが出来ます。</p>
</section>
<section id="thunarntfs">
<h2><span class="section-number">1.109. </span>Thunarで自動的にNTFSのドライブをマウントする方法<a class="headerlink" href="#thunarntfs" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>Nautilusは半自動的にNTFSのドライブをマウント出来ますが、Thunarはデフォルトでは出来ません。そこで、fstabにマウントしたいドライブを設定して、Ubuntu起動時にマウントさせるようにします。 ドライブの構成を知りたい場合は以下のコマンドを実行してください。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$sudo fdisk -l
</pre></div>
</div>
<p>1.homeフォルダに適当なフォルダを作成します。ここでは「disk_sda3」というフォルダを作ったとします。geditでfstabを開きます。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$sudo gedit /etc/fstab
</pre></div>
</div>
<p>2.fstabに次の行を追加します。マウントしたいドライブをここでは「sda3」とします。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">sda3</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">ユーザー名</span><span class="o">/</span><span class="n">disk_sda3</span> <span class="n">ntfs</span> <span class="n">defaults</span> <span class="mi">0</span> <span class="mi">0</span>
</pre></div>
</div>
<p>fstabを閉じて、端末で「sudo mount -a」でドライブをマウントさせて、エラーが出なければ成功しています。 homeフォルダにあるdisk_sda3フォルダの中にマウントさせたsda3の中身が表示されます。以後再起動させてもThunarでsda3のドライブの読み書きが出来ます。</p>
</section>
<section id="dpkg-post-installation-script-1">
<h2><span class="section-number">1.110. </span>dpkg: サブプロセス post-installation script はエラー終了ステータス 1 を返しました」からの復帰方法<a class="headerlink" href="#dpkg-post-installation-script-1" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>「/var/lib/dpkg/info」ディレクトリの*.postinst、<em>.preinst、</em>.prerm、<em>.postrmを削除すると復帰出来ます。</em>.deb ファイルを消す必要はありません 。また、UCKなどのリマスターツールでアプリケーションの更新を行うときに、この作業を行わないとLive CDのビルドに失敗したり、HDDインストール時にエラーが出る原因になります。</p>
</section>
<section id="ubuntu-10-04-lts">
<h2><span class="section-number">1.111. </span>Ubuntu 10.04 LTSにおけるログイン画面の背景画像変更<a class="headerlink" href="#ubuntu-10-04-lts" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$sudo cp /usr/share/applications/gnome-appearance-properties.desktop /usr/share/gdm/autostart/LoginWindow
</pre></div>
</div>
<p>ログオフして再ログインするときに、背景画像を変更出来ます。変更したら、ログインし、以下のコマンドでコピーしたgnome-appearance-properties.desktopを消します。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$sudo rm /usr/share/gdm/autostart/LoginWindow/gnome-appearance-properties.desktop
</pre></div>
</div>
</section>
<section id="id17">
<h2><span class="section-number">1.112. </span>Ubuntu 10.04 LTSのスプラッシュ画像を変更する<a class="headerlink" href="#id17" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>Ubuntu 10.04 LTSからスプラッシュ画面の変更アプリケーションが「Plymouth」に変更されています。画像を変更するだけなら、以下の箇所を変更するだけです。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">plymouth</span><span class="o">/</span><span class="n">ubuntu</span><span class="o">-</span><span class="n">logo</span><span class="o">.</span><span class="n">png</span>
</pre></div>
</div>
<p>/lib/plymouth/themes以下の各テーマのフォルダ内にある「<em>_logo.png」あるいは「</em>-logo.png」</p>
</section>
<section id="plymouth">
<h2><span class="section-number">1.113. </span>Plymouthでオリジナルスプラッシュテーマを作成する<a class="headerlink" href="#plymouth" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>Ubuntuではplymouthに加え、plymouth-x11もインストールします。</p>
<p>1.ベースになるテーマをダウンロード:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$wget -O /tmp/mytheme.tar.gz http://brej.org/blog/wp-content/uploads/2009/12/mytheme.tar.gz
</pre></div>
</div>
<p>2.ダウンロードしたテーマをコピー、解凍、インストール:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$sudo cp -a /tmp/mytheme.tar.gz /usr/share/plymouth/themes/
$tar xzf /usr/share/plymouth/themes/mytheme.tar.gz
$sudo update-alternatives --install /lib/plymouth/themes/default.plymouth default.plymouth /lib/plymouth/themes/mytheme/mytheme.plymouth 10
</pre></div>
</div>
<p>3.テーマの切り替えは以下のコマンドを使います。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$sudo update-alternatives --config default.plymouth
</pre></div>
</div>
<p>mythme.plymouthを選択</p>
<p>4.テストしたい場合は以下のコマンドを使います。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$sudo plymouthd --debug --debug-file=/tmp/plymouth-debug-out ; sudo plymouth --show-splash ; for ((I=0;I&lt;10;I++)); do sleep 1 ; plymouth --update=event$I ; done ; sudo plymouth --quit
</pre></div>
</div>
<p>5.より詳しいPlymouthのカスタマイズ法やPlymouthスクリプトの作成の仕方は以下でまとめられています。</p>
<p><a class="reference external" href="https://wiki.ubuntu.com/Artwork/Documentation/Plymouth">https://wiki.ubuntu.com/Artwork/Documentation/Plymouth</a></p>
</section>
<section id="ubuntu-9-10">
<h2><span class="section-number">1.114. </span>Ubuntu 9.10のスプラッシュ画面を変更する<a class="headerlink" href="#ubuntu-9-10" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>Ubuntu 9.10には2種類のスプラッシュ画面があります。一つはGRUB起動後に表示されるアニメーションスプラッシュの「usplash」、もう一つはログイン画面で表示される「xsplash」です。xsplashの変更は簡単で管理者権限で「/usr/share/images/xsplash」の画像を変更するだけです。サイズは決まっているようなので、元からある画像に合わせて作ってください。usplashの方はやや面倒です。作成方法は以下の通りです。</p>
<p>◇USplash作成方法 1.gcc、libbogl-devをインストール:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$sudo apt-get install gcc libbogl-dev
</pre></div>
</div>
<p>2.libusplash-devをインストール:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$sudo apt-get install libusplash-dev
</pre></div>
</div>
<p>3.usplash作成用のフォルダを作成:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$mkdir ~/usplash
</pre></div>
</div>
<p>4.examplesをコピー:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$cp -rp /usr/share/doc/libusplash-dev/examples/ ~/usplash/
</pre></div>
</div>
<ol class="arabic" start="5">
<li><p>~/usplash/examplesへ移動:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$cd ~/usplash/examples
</pre></div>
</div>
</li>
</ol>
<p>6.examplesには以下のファイルが入っています。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>・eft_800_600.png
・eft_1024_576.png
・eft_1024_576_cropped.png
・eft_1024_768.png
・eft-theme.c
・helvB10.bdf
・Makefile
・README
・throbber_back.png
・throbber_fore.png
</pre></div>
</div>
<p>「eft_*.png」のファイルを変更していきます。GIMPなどを使って同じサイズのPNGファイルを作成します。この時、usplash用に使える画像は「256色のインデックスカラーのPNG」なので、GIMPの画像モードをインデックスカラーモードにして作業する必要があります。つまり、GIFを作るような形でPNGを作ることになります。
「throbber_*.png」はプログレスバーの画像を置きます。ここも任意で変えることが出来るので256色のインデックスカラーのPNGファイルを作成しておいてください。</p>
<p>7.端末で「make」すると、eft-theme.soが完成します。make installでeft-thme.soをインストール出来ます。</p>
<p>8.StartStartUp-Managerをインストール:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$sudo apt-get install startupmanager
</pre></div>
</div>
<p>9.StartStartUp-Managerで先ほどのeft-thme.soを指定して再起動すると作成したusplashが起動します。</p>
</section>
<section id="id18">
<h2><span class="section-number">1.115. </span>Ubuntuのパッケージリストの作成と適用<a class="headerlink" href="#id18" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>1.パッケージリストを作成します。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ dpkg --get-selections &gt; packagelist
</pre></div>
</div>
<p>2.パッケージリストを適用します。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># dpkg --set-selections &lt; packagelist</span>
<span class="c1"># apt-get dselect-upgrade</span>
</pre></div>
</div>
<p>これでクリーンインストールしたときにも楽に以前使っていたアプリケーションをインストール出来ます。</p>
</section>
<section id="id19">
<h2><span class="section-number">1.116. </span>Ubuntuでキーボードの「半角/全角」キーが動作しなくなった時の対処<a class="headerlink" href="#id19" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>Ubuntuで設定をいじっていると、たまに「半角/全角」きーが動作しなくなることがあります。その時には以下のように対処すると直ります。
「設定」→「キーボードの設定」の「レイアウト」タブをクリックし、「レイアウトの選択」で「日本語」以外を削除</p>
</section>
<section id="winem-u-g-e-n">
<h2><span class="section-number">1.117. </span>Wine上で大量のキャラクターを搭載したM.U.G.E.Nが落ちる際の対処法<a class="headerlink" href="#winem-u-g-e-n" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>Wine上で大量のキャラクターを搭載したM.U.G.E.Nが落ちる事がありますので、その対処法としては以下のように書き換えます。</p>
<p>◇/etc/sysctl.conf:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">fs</span><span class="o">.</span><span class="n">file</span><span class="o">-</span><span class="nb">max</span> <span class="o">=</span> <span class="mi">204708</span>
</pre></div>
</div>
</section>
<section id="firefoxsilverlight">
<h2><span class="section-number">1.118. </span>FirefoxでSilverlightを使う<a class="headerlink" href="#firefoxsilverlight" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>Linuxでは、Silverlightプラグインを使えませんが、特殊なパッチが追加されたWindows APIレイヤー「Wine」である「Wine Staging」であれば、Firefox上でSilverlightを使えるようになります。
以下の方法があります。</p>
<p>◇FirefoxにPipelightを導入する</p>
<p>以下のコマンドを端末に入力して実行します。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$sudo apt-add-repository ppa:pipelight/stable
$sudo apt-get update
$sudo apt-get install pipelight-multi pipelight
$sudo pipelight-plugin --enable silverlight
$sudo pipelight-plugin --create-mozilla-plugins
$pipelight-plugin --system-check
$sudo pipelight-plugin --enable widevine
$sudo apt-get install winehq-staging
$export WINEARCH=win32 winecfg
</pre></div>
</div>
<p>最後の2行は、Wine StagingをデフォルトのWine環境に設定するものです。これを行なう事でLinux版FirefoxをWindows版のFirefoxのように見せる事ができ、DMMでダウンロード購入したコンテンツの再生やダウンロードが出来るようになります。</p>
</section>
<section id="mmd-mmdai-mmdagent">
<h2><span class="section-number">1.119. </span>MMD/MMDAI/MMDAgentまとめサイト<a class="headerlink" href="#mmd-mmdai-mmdagent" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p><a class="reference external" href="http://www6.atwiki.jp/vpvpwiki/pages/187.html">http://www6.atwiki.jp/vpvpwiki/pages/187.html</a></p>
<p>MMDの使い方、モデルデータ作成用のツールの紹介、PMDファイル・Xファイルなどのリンクなどがまとめられています。</p>
<p><a class="reference external" href="http://hkrn.github.io/MMDAI/">http://hkrn.github.io/MMDAI/</a></p>
<p>LinuxやMac OS Xでネイティブに動作するMMD互換ソフトウェアの配布サイトです。MMDのモデリングデータやモーションデータ、アクセサリデータなどを使うことが可能です。Linuxの場合、Ubuntu 12.04のバイナリが配布されています。その他のディストリビューションの場合はソースコードからビルドすることになります。</p>
<p><a class="reference external" href="http://www.mmdagent.jp/">http://www.mmdagent.jp/</a></p>
<p>MMDのキャラクターに話しかけることが出来るソフトウェア。バイナリはWindows版だけ配布されています。UbuntuではPPA経由でバイナリを使うことが出来ます。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$sudo su
#apt-add-repository ppa:irie/mmdagent
#apt-get update
#apt-get install mmdagent
</pre></div>
</div>
</section>
<section id="mmdagent">
<h2><span class="section-number">1.120. </span>MMDAgentを動作させる<a class="headerlink" href="#mmdagent" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>MMDAIで動作する3Dモデルを音声で反応させるように動かすことが出来るソフトウェアです。Ubuntu 12.04ではPPAが公開されています。</p>
<p>1.MMDAgentをインストール:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$sudo su
#apt-add-repository ppa:irie/mmdagent
#apt-get update
#apt-get upgrade
#apt-get install mmdagent
</pre></div>
</div>
<p>2.mdfファイルが動作させる3Dモデルの本体であり、これをMMDAgentで立ち上がるように右クリックメニューを設定しておく</p>
</section>
<section id="id20">
<h2><span class="section-number">1.121. </span>MMDAgentのモデルを初音ミクに変更<a class="headerlink" href="#id20" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>MMDAgentのデフォルトの3Dモデルはメイですが、MMDのモデルなどを使うことが出来るので、初音ミクなどのボーカロイドに変更することが可能です。ここではUbuntu 12.04を使った方法を解説します。</p>
<p><a class="reference external" href="http://sourceforge.net/projects/mmdagent/files/MMDAgent_Example/MMDAgent_Example-1.3.1/MMDAgent_Example-1.3.1.zip/download">http://sourceforge.net/projects/mmdagent/files/MMDAgent_Example/MMDAgent_Example-1.3.1/MMDAgent_Example-1.3.1.zip/download</a> でサンプルスクリプトをダウンロードします。</p>
<p>このZIPファイルを解凍します。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Accesoryフォルダ ー MMDのアクセサリデータを入れます。
Modelフォルダ ー MMDのモデルデータを入れます。
Motionフォルダ ー MMDのモーションデータを入れます。
Voiceフォルダ ー 音声データを入れます。
MMDAgent_Example.fst ー MMDAgentの設定ファイルです。ここで使いたいMMDモデルなどを指定します。
</pre></div>
</div>
<p>サンプルスクリプトの「MMDAgent_Example」の名前が付いているファイルを全て「MMDAgent」の名前にリネームします。MMDAgent.fstのファイルをテキストエディタなどで開き、以下のように使いたいMMDモデルがあるファイルを指定します。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>11 12 MODEL_EVENT_ADD|bootscreen MODEL_ADD|mei|Model\＜使いたいMMDモデルのフォルダ・ファイル名（.pmd)＞|0.0,0.0,-14.0
</pre></div>
</div>
<p>この変更したサンプルスクリプトフォルダの中身をroot権限で「/etc/MMDAgent」にコピーします。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$sudo su
#cp -a ~/MMDAgent_Example-1.3.1/* /etc/MMDAgent
</pre></div>
</div>
<p>MMDAgentを起動させるとMMDモデルに変わっています。</p>
</section>
<section id="mmdai">
<h2><span class="section-number">1.122. </span>MMDAIを動作させる<a class="headerlink" href="#mmdai" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>MMDAIはボーカロイド初音ミクの3Dモデルを踊らせることが出来るソフトウェア「MMD」のデータを使って、MMDと同じようなことを行うことが出来るソフトウェアです。</p>
<p>1.http://hkrn.github.io/MMDAI/でMMDAIをダウンロード</p>
<p>2.https://developer.nvidia.com/cg-toolkit-downloadでNvidia Cg Toolkitをダウンロードし、解凍します。</p>
<p>/usr/libの下にあるsoファイルをMMDAIのフォルダに入れます。</p>
<p>3.MMDAIのフォルダに移動し、ターミナルで以下のコマンドを打って、MMDAIを起動させます。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$./MMDAI2
</pre></div>
</div>
<p>4.MMDAIを起動させたら、新規プロジェクトを作り、「ファイル」→「モデルの追加」でCGモデルを取り込むことが出来ます。</p>
<p>5.「ファイル」→「モーションを全てのモデルに追加」などでモーションデータを取り込む事が出来ます。</p>
</section>
<section id="gimp2-6-photoshop">
<h2><span class="section-number">1.123. </span>GIMP2.6で使えるフラクタル＆アブストラクト系Photoshopブラシ<a class="headerlink" href="#gimp2-6-photoshop" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>最近のバージョンのGIMPでは、Photoshopのブラシ(拡張子abr)を直接使用できるようになっています。abrファイルをGIMPがインストールされているフォルダの下にある「sharegimp2.0brushes」フォルダ以下に置いて、GIMPを起動させるとPhotoshopのブラシを使用できるようになります。以下のブラシは炎や光などの表現を作り出したい時に便利なブラシです。</p>
<p><a class="reference external" href="http://www.brusheezy.com/brush/442-Rise-Brushes">http://www.brusheezy.com/brush/442-Rise-Brushes</a></p>
<p><a class="reference external" href="http://www.brusheezy.com/brush/311-Green-Lotus-Brushes">http://www.brusheezy.com/brush/311-Green-Lotus-Brushes</a></p>
<p><a class="reference external" href="http://www.brusheezy.com/brush/444-Mystcart-Brushset-IV">http://www.brusheezy.com/brush/444-Mystcart-Brushset-IV</a></p>
<p><a class="reference external" href="http://www.brusheezy.com/brush/445-Mystcart-Brushset-III">http://www.brusheezy.com/brush/445-Mystcart-Brushset-III</a></p>
<p><a class="reference external" href="http://www.brusheezy.com/brush/389-Inner-Universe-Brushes">http://www.brusheezy.com/brush/389-Inner-Universe-Brushes</a></p>
<p><a class="reference external" href="http://www.brusheezy.com/brush/248-Winter-Breeze">http://www.brusheezy.com/brush/248-Winter-Breeze</a></p>
<p><a class="reference external" href="http://www.brusheezy.com/brush/399-Abstract-Brushset-X">http://www.brusheezy.com/brush/399-Abstract-Brushset-X</a></p>
<p><a class="reference external" href="http://www.brusheezy.com/brush/283-50-Ultimate-Fractals">http://www.brusheezy.com/brush/283-50-Ultimate-Fractals</a></p>
<p><a class="reference external" href="http://www.brusheezy.com/brush/244-Psionic-Storm">http://www.brusheezy.com/brush/244-Psionic-Storm</a></p>
<p><a class="reference external" href="http://www.brusheezy.com/brush/247-Trance-Brushes">http://www.brusheezy.com/brush/247-Trance-Brushes</a></p>
<p><a class="reference external" href="http://www.brusheezy.com/brush/571-Genisis-Brushes">http://www.brusheezy.com/brush/571-Genisis-Brushes</a></p>
<p><a class="reference external" href="http://www.brusheezy.com/brush/289-Nova-Equinox">http://www.brusheezy.com/brush/289-Nova-Equinox</a></p>
<p><a class="reference external" href="http://www.brusheezy.com/brush/288-S-O-L-E-X-Brushes">http://www.brusheezy.com/brush/288-S-O-L-E-X-Brushes</a></p>
<p><a class="reference external" href="http://www.brusheezy.com/brush/287-Odysee-Brushes">http://www.brusheezy.com/brush/287-Odysee-Brushes</a></p>
<p><a class="reference external" href="http://www.brusheezy.com/brush/279-Stormy-Fractals">http://www.brusheezy.com/brush/279-Stormy-Fractals</a></p>
<p><a class="reference external" href="http://www.brusheezy.com/brush/246-Universal">http://www.brusheezy.com/brush/246-Universal</a></p>
<p><a class="reference external" href="http://www.brusheezy.com/brush/243-Maiden-Voyage">http://www.brusheezy.com/brush/243-Maiden-Voyage</a></p>
<p><a class="reference external" href="http://www.brusheezy.com/brush/242-Radon-Brushes">http://www.brusheezy.com/brush/242-Radon-Brushes</a></p>
<p><a class="reference external" href="http://www.brusheezy.com/brush/238-13-Abstract">http://www.brusheezy.com/brush/238-13-Abstract</a></p>
<p><a class="reference external" href="http://www.brusheezy.com/brush/83-Stardust">http://www.brusheezy.com/brush/83-Stardust</a></p>
</section>
<section id="gimp2-4gimp2-6">
<h2><span class="section-number">1.124. </span>GIMP2.4→GIMP2.6へ移行する方法<a class="headerlink" href="#gimp2-4gimp2-6" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p><a class="reference external" href="http://gimp-win.sourceforge.net/stable.html">http://gimp-win.sourceforge.net/stable.html</a></p>
<p>オープンソースフォトレタッチソフト「GIMP」の安定版「2.6」がリリースされました。ダウンロード、インストールをした後に、2.4で使っていたプ ラグインを2.6の方に移します。2.6に入っていないプラグインだけを入れてください。特にPhotoshop Pluginを使う場合は「2.6」には「pspi.exe」が入っていないので、入れてください。</p>
<p>・プラグインフォルダの場所</p>
<p>「GIMP-2.6libgimp2.0plug-ins」</p>
<p>・ブラシ、パターン、グラデーション、Script-Fuのフォルダの場所</p>
<p>「GIMP-2.6sharegimp2.0」直下の各フォルダ</p>
<p>ただし、「menus」フォルダにPhotoshopメニュー化用のファイルに上書きすると、2.6のメニューが一部消えてしまうので、ここはまだ触らないようにした方がいいと思います。</p>
<p>PhotoShop Pluginを使うにはGIMP起動後にPhotoshop Pluginフォルダのパスを指定する必要があります。2.4までのGIMPはツールボックスのメニューから設定出来ましたが、2.6からはメイン画面の方に移されています。メイン画面のメニューの「フィルタ」→「Photoshop Plug-in Setting」をクリックし、新規アイコンをクリックし、Photoshoのプラグインのフォルダを指定します。GIMPを再起動すると Photoshop Plugu-Inを使うことが出来るようになります。</p>
<p>2.6からはたくさんのバグ修正と共に新描画システム「GEGL」が一部で使われ、Python-Fuが標準装備されています。</p>
</section>
<section id="gimp-2-3-14-photoshop-plugin">
<h2><span class="section-number">1.125. </span>GIMP 2.3.14 + Photoshop-Pluginで無料強力画像生成環境をつくる<a class="headerlink" href="#gimp-2-3-14-photoshop-plugin" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>Linux、Windosws、Mac OS XなどのPC用OS上で動作し、豊富なフィルタで写真加工ができるフリーソフトウェア「GIMP」（<a class="reference external" href="http://www.gimp.org/">http://www.gimp.org/</a>）。 Script-Fuと呼ばれるSchemeベースのスクリプト言語で書かれたプログラムで機能拡張できる。あるいは、世界中で配布されているGIMPプラグインを使うことで、標準装備されていない機能 を追加することができる。もうひとつのGIMPの拡張機能として、「pspi」 （<a class="reference external" href="http://www.gimp.org/~tml/gimp/win32/pspi.html">http://www.gimp.org/~tml/gimp/win32/pspi.html</a>）というGIMPプラグインを使うことで、Photoshop-Plug-Inをも使用することができる。日本語版のプラグインには対応していないが、海外製のものは配布・販売されているものに関わらず、使用できる。ここでは、フリーで使用できる非常に強力なプラグインを紹介する。</p>
<p>１．pspiをGIMPにインストールする。</p>
<p><a class="reference external" href="http://www.gimp.org/~tml/gimp/win32/pspi">http://www.gimp.org/~tml/gimp/win32/pspi</a>.htmlからpspiをダウンロード、解凍し、「pspi.exe」をGIMP-2.3.14libgimp2.0plug-insへ手動でインストール する。GIMP本体→拡張→PhotoshopPlug-inを選び、一番左側のアイコンで新規プラグインを設定する。「OK」をクリックするとプラグインを使用できるようになる。</p>
<p>２．プラグイン「RedFieldPlugin」http://www.redfieldplugins.com/ds.htDownloam</p>
<p>様々な波紋を作ることのできる「Water Ripples」、パターンを組み合わせて幾何学的な画像の変換ができる「Lattice Composer」「Jama 3D」など非常に強力なフィルタを追加できる。GIMP標準のフィルタよりも綺麗な仕上がりを期待できる。</p>
<p>3.プラグイン「Harry's Filters」（ <a class="reference external" href="http://thepluginsite.com/products/harrysfilters/index.htm">http://thepluginsite.com/products/harrysfilters/index.htm</a> ）</p>
<p>自動で69ものパターンをつくる「VideoRave」が強力なフィルタプラグイン。GIMPのグラデーションや下塗りフィルタでは表現できない「下地」作りに適する。</p>
</section>
<section id="gimp2-4">
<h2><span class="section-number">1.126. </span>GIMP2.4のドックを本体に格納する<a class="headerlink" href="#gimp2-4" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>オープンソースウェア「GIMP2.4」は、使っているうちにウィンドウがたくさん散らばってしまいがちです。作業ウィンドウを除くウィンドウをGIMP本体にまとめてしまうと、非常に快適な環境が出来ます。</p>
<p>GIMP本体→「ファイル」→「ウィンドウ」→「新規ドック作成」→「レイヤー・チャンネルとパス」「ブラシ・パターンとグラデーション」「その他いろいろ」のドックを表示します。各ドックのタブになっているアイコンをドラッグ&amp;ドロップでGIMP本体のドックに移動させると、ドックがGIMP本体に格納されます。</p>
<p>また、「ファイル」→「ウィンドウ」→「ツールアイコン」ではGIMP本体のアイコンを表示・非表示させることが出来ます。デフォルトでは表示されていないものもあるので、ここで設定しておくとGIMP本体だけでほぼ全ての作業が出来るようになります。</p>
</section>
<section id="inkscapejpegsvg">
<h2><span class="section-number">1.127. </span>inkscapeでJPEGなどの画像ファイルをSVGへ変換する<a class="headerlink" href="#inkscapejpegsvg" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p><a class="reference external" href="http://www.inkscape.org/">http://www.inkscape.org/</a></p>
<p>Illustlatorライクな高機能ベクタグラフィックソフト「Inkscape」。GIMP同様、GTKをベースにしたマルチプラットフォームフリー ウェアです。基本機能はIllustlator並の機能を持ってますので、Illustlatorを買うお金が貯まるまでのつなぎとしても便利かもしれま せん。本来は絵を描くためのソフトですが、Webサイトを構築する人にも便利な機能があります。それは、「JPEGなどの画像ファイルをSVGとして保 存」できることです。</p>
<p>1．「ファイル」→「インポート」でSVGにしたい画像ファイルをInkscapeへインポートします。</p>
<p>2．「ファイル」→「ドキュメント設定」でカスタムページの囲みの中の「ページを選択オブジェクトにフィット」ボタンをクリックすると、ドキュメントのサ イズが自動的にインポートした画像ファイルサイズに調整されます。</p>
<p>3．「エフェクト」→「画像」→「すべての画像を埋め込む」で画像ファイルを統合します。</p>
<p>4．「ファイル」→「保存」でSVGで保存できます。</p>
<p>InkscapeによるSVG変換ではファイルのデータ容量が少し大きくなります。SVGのデメリットは対応ブラウザかプラグインを使わなければ見るこ とが出来ないことです。しかし、これもFirefoxやOperaなどでは対応していて、IEでもAdobeのSVGプラグインを使えば閲覧することが出 来ます。ブラウザを限定すれば、InkscapeによるSVG変換は使える方法だと思います。また、SVGはXMLをベースにしたベクタグラフィック フォーマットです。よって、Java Scriptと併用すれば、さらに用途は広がると思います。</p>
</section>
<section id="osunetbootinliveusb-biosuefi">
<h2><span class="section-number">1.128. </span>OSをUNetbootinでLiveUSBを作って運用する(BIOS、UEFIモード対応）<a class="headerlink" href="#osunetbootinliveusb-biosuefi" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p><a class="reference external" href="https://wiki.ubuntulinux.jp/UbuntuTips/Install/CreateSeparateHomePartition">https://wiki.ubuntulinux.jp/UbuntuTips/Install/CreateSeparateHomePartition</a></p>
<p>最近ではSSDにOSを入れて、データをHDDに入れて運用するPCの構成が一般的になってきましたが、 UbuntuとUSBメモリを使って、より低価格でシステムを運用する方法です。</p>
<p>・Live USBを作る為の容量は16GB程度で構いません。</p>
<p>Live USB部分は、Squash FSで高圧縮していますので、Linuxディストリビューションをフルインストールするより容量が少なくて済みます。</p>
<p>USBメモリのパーティションをGpartedなどのツールで分けます。</p>
<p>Live USB部分は、使うOSのISO容量以上を確保し、その他に、運用時に変更点を保存する領域であるcasper-rwとhome-rwのラベル名を持った２つのパーティションを作ります。</p>
<p>casper-rwとhome-rwのファイルシステムは、ext4などLinuxでデフォルトで使われているファイルシステムでフォーマットしてください。</p>
<p>casper-rwは、システム部分の変更を保存します。</p>
<p>home-rwは、ユーザーディレクトリの変更を保存する仕組みになっています。</p>
<p>・LIve USB化したいLinuxディストリビューションをダウンロードして、 UNetbootin(<a class="reference external" href="http://unetbootin.sourceforge.net/">http://unetbootin.sourceforge.net/</a>)を使って、 UbuntuのLiveUSBを用意します。UNetbootinは、Windows版やLinux版などがありますので、LiveUSBが作りやすいです。</p>
<p>・Live USB化したUSBメモリをPCに接続します。</p>
<p>・Live USBの/boot/grub/grub.cfgは、Live USBのメニューです。</p>
<p>「linux  /casper/vmlinuz.efi file=/cdrom/preseed/ubuntu.seed boot=casper persistent -- debian-installer/language=ja keyboard-configuration/layoutcode?=jp keyboard-configuration/modelcode?=jp106」というように persistentオプションを追加する事で、Live USBメモリはPersistenceモードとして起動でき、casper-rwやhome-rwに変更点を保存出来ます。</p>
<p>Persistenceモードで動作させるLIve USBは、USBメモリにフルインストールするよりも高速にアクセス出来ますので、快適に使えます。</p>
<p>以下のような使い方も出来ます。</p>
<p>・homeフォルダに他のパーティション（ext4,ext3などでフォーマットしたもの）にあるフォルダのシンボリックリンクを作成しておきます。
このようにする事で、他のストレージにバックアップしたデータを使いたい時に使う事が出来ます。</p>
<p>さらに発展させたバージョンはDropboxと同期させることです。</p>
<p>・Dropboxが使える状態にする</p>
<p>・homeフォルダに出来たDropboxフォルダの中に同期させたいものをまとめておきます。ここではhome_backupフォルダを作成し、この中に.mozillaなどのフォルダを入れておきます。</p>
<p>・後はこれらのシンボリックリンクを作成すれば、設定を引き継ぐことが出来ます。バックアップはDropboxとつながっている限りDropboxがバックアップしてくれます。あまりにも大きいファイルがある場合はHDDからシンボリックリンクを引っ張ってくればいいと思います。homeフォルダの中はリンクだらけになります(^_^;)が、結構便利です。</p>
<p>USBメモリへのアクセスを減らす有効な方法はRAMディスクを使うことです。RAMディスクはHDDにアクセスするよりも速いというメリットと同時に、電源を切るとデータが消えるというデメリットがあります。対策としては、キャッシュだけを置く方法と「/etc/init.d/umountfs」を利用してRAMからバックアップ先に書き込む方法がありますが、個人的にはキュッシュだけを置く方法がおすすめです。</p>
<p>tmpfs RAMディスクにしたいディレクトリ名 tmpfs defaults 0 0</p>
<p>/tmpをtmpfsに載せて、.cache,.thumbnailにシンボリックリンクを作成して、Firefoxのキャッシュもtmpfsに載せています。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ln -s /tmp /home/user_name/.cache
$ln -s /tmp /home/user_name/.thumbnail
</pre></div>
</div>
<p>Firefoxのキャッシュの設定はuser.jsを使っています。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">user_pref</span><span class="p">(</span><span class="s2">&quot;browser.cache.disk.parent_directory&quot;</span><span class="p">,</span><span class="s2">&quot;/tmp&quot;</span><span class="p">);</span>
</pre></div>
</div>
<p>　すでに複数の同じ名前のユーザーディレクトリがあるとすると、/etc/fstabの編集して再起動するだけでhomeディレクトリを変更することが出来ます。 変更したいhomeフォルダのあるパーティションを/dev/sda2とすると、/etc/fstabに以下のように付け加えます。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">UUID</span><span class="o">=</span><span class="mi">79110</span><span class="n">aad</span><span class="o">-</span><span class="n">f5fd</span><span class="o">-</span><span class="mi">4</span><span class="n">fa5</span><span class="o">-</span><span class="mi">9399</span><span class="o">-</span><span class="mi">76979</span><span class="n">d650a58</span>      <span class="o">/</span><span class="n">home</span>   <span class="n">ext4</span>    <span class="n">defaults</span>        <span class="mi">0</span>       <span class="mi">0</span>
</pre></div>
</div>
<p>　UUIDの調べ方は以下のコマンドを使います。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">blkid</span> <span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">sda2</span>
</pre></div>
</div>
</section>
<section id="grub2-iso-persistencelinux-bios">
<h2><span class="section-number">1.129. </span>GRUB2+ISO+Persistence機能で構成したLinuxシステム(BIOSモード対応)<a class="headerlink" href="#grub2-iso-persistencelinux-bios" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>　Linuxをハードディスクにフルインストールせずに使う方法にLiveCDやLiveUSBという方法があります。USBメモリにフルインストールすれば、HDDやSSDにインストールするのと変わりませんが、LiveUSBはGRUB2やSyslinuxからISOを直接起動させることが出来るのでシステムの入れ替えはISOを入れ替えるだけで済むというメリットもあります。そこでUSBメモリでLinuxを運用する場合、「GRUB2+ISO+Persistence機能」の方がフルインストールよりもスマートなシステムを作ることが出来ます。</p>
<p>1.3つのパーティションを作成します。
　・FAT32でフォーマットし、GRUB2とLiveCDのISOを入れるパーティション</p>
<p>　・ext2/3/4でフォーマットし、ラベルを「casper-rw」とし、Persistence機能で読み書きするパーティション</p>
<p>　・ext2/3/4でフォーマットし、ラベルを「home-rw」とし、homeディレクトリとして使うパーティション</p>
<p>2.FAT32でフォーマットしたパーティションにGRUB2をインストールします。</p>
<p>　mountコマンドやGpartedを使ったり、デバイスをマウントした状態でファイルマネージャーで/mediaディレクトリを確認することでパーティションのデバイスファイル名を調べることが出来ます。</p>
<p>ここでは、マウントしたUSBメモリを「/dev/sdb」、そのデバイスファイル名を「/media/919B-EF43」としておきます。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">grub</span><span class="o">-</span><span class="n">install</span> <span class="o">--</span><span class="n">no</span><span class="o">-</span><span class="n">floppy</span> <span class="o">--</span><span class="n">root</span><span class="o">-</span><span class="n">directory</span><span class="o">=/</span><span class="n">media</span><span class="o">/</span><span class="mi">919</span><span class="n">B</span><span class="o">-</span><span class="n">EF43</span> <span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">sdb</span>
</pre></div>
</div>
<p>./boot/grubにgrub.cfgを作成します。これはGRUBのブートメニューの各項目を設定するものです。 LinuxディストリビューションのISOを「linux.iso」とします。</p>
<section id="ubuntu-debian">
<h3><span class="section-number">1.129.1. </span>Ubuntu/Debian系ディストリビューションの場合<a class="headerlink" href="#ubuntu-debian" title="このヘッドラインへのパーマリンク">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">menuentry</span> <span class="s2">&quot;linux.iso&quot;</span> <span class="p">{</span>
<span class="n">loopback</span> <span class="n">loop</span> <span class="p">(</span><span class="n">hd0</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span><span class="o">/</span><span class="n">iso</span><span class="o">/</span><span class="n">linux</span><span class="o">.</span><span class="n">iso</span>
<span class="n">linux</span> <span class="p">(</span><span class="n">loop</span><span class="p">)</span><span class="o">/</span><span class="n">casper</span><span class="o">/</span><span class="n">vmlinuz</span> <span class="n">boot</span><span class="o">=</span><span class="n">casper</span> <span class="n">iso</span><span class="o">-</span><span class="n">scan</span><span class="o">/</span><span class="n">filename</span><span class="o">=/</span><span class="n">iso</span><span class="o">/</span><span class="n">linux</span><span class="o">.</span><span class="n">iso</span> <span class="n">persistent</span> <span class="o">--</span>
<span class="n">initrd</span> <span class="p">(</span><span class="n">loop</span><span class="p">)</span><span class="o">/</span><span class="n">casper</span><span class="o">/</span><span class="n">initrd</span><span class="o">.</span><span class="n">lz</span>
<span class="p">}</span>
</pre></div>
</div>
<p>3.FAT32のパーティションにisoフォルダを新規作成し、linux.isoを入れます。</p>
<p>4.PCを再起動させて、BIOSでUSBメモリを第一ドライブに指定してPCを再起動</p>
<p>5.GRUB2経由でlinux.isoをLiveCDとして起動させることが出来ます。出来無い場合はGURB2のインストール方法、grub.cfgの項目の書き方が間違っていないか確認してください。</p>
<p>6.Persistence機能が有効になっているLiveCDはcasper-rwやhome-rwのラベル名のパーティションにユーザーが変更したり、書き込んだりした内容が記憶出来るようになります。casper-rwのパーティションの構成はLinuxディストリビューションの「　/　」以下の構成と同じです。home-rwのパーティションはhomeディレクトリそのものです。</p>
<p>　「GRUB2+ISO+Persistence機能で構成したLinuxシステム」の利点は、「使い勝手はHDDフルインストールしたシステムに非常に近く、ISOの入れ替えだけで新しいシステムを作ることが出来る」ということです。Ubuntuにはたくさんのフレーバーがあるので、複数のフレーバーのISOを入れておけば、様々なフレーバーを手軽に試すことが出来るようになります。</p>
</section>
</section>
<section id="grububuntu-puppy-linux-fedraliveusb">
<h2><span class="section-number">1.130. </span>GRUBを使ったUbuntu/Puppy Linux/FedraトリプルブートLiveUSBの作成方法<a class="headerlink" href="#grububuntu-puppy-linux-fedraliveusb" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>　USBメモリに入れたUbuntuのLiveCDのISOに直接アクセスして起動させるには、GRUBをインストール設定するだけで出来ます。</p>
<p>1.USBメモリに入れる場合は、USBメモリをFAT32でフォーマットしてください。Windowsを使ってもいいですし、Gpartedを使っても構いません。ターミナルを使う場合は以下のようになります(USBメモリが/dev/sdbとしてマウントされている場合):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">fdisk</span> <span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">sdb</span>
<span class="n">sudo</span> <span class="n">makedosfs</span> <span class="o">-</span><span class="n">F</span> <span class="mi">32</span> <span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">sdb1</span>
</pre></div>
</div>
<p>2.パーティションを作成します。ここでは以下の構成にしています。</p>
<p>/dev/sdb1 - GRUB用(FAT32)</p>
<p>/dev/sdb2 - Ubuntu/Debian系ディストリビューション用(FAT32)</p>
<p>/dev/sdb3 - Puppy Linux用(FAT32)</p>
<p>/dev/sdb4 - Fedra用（ext3/ext4)</p>
<p>3.USBメモリにGRUBをインストールします。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">mkdir</span> <span class="o">/</span><span class="n">mnt</span><span class="o">/</span><span class="n">sdb1</span>
<span class="n">sudo</span> <span class="n">mount</span> <span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">sdb1</span> <span class="o">/</span><span class="n">mnt</span><span class="o">/</span><span class="n">sdb1</span>
<span class="n">sudo</span> <span class="n">grub</span><span class="o">-</span><span class="n">install</span> <span class="o">--</span><span class="n">no</span><span class="o">-</span><span class="n">floppy</span> <span class="o">--</span><span class="n">root</span><span class="o">-</span><span class="n">directory</span><span class="o">=/</span><span class="n">mnt</span><span class="o">/</span><span class="n">sdb1</span> <span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">sdb</span>
</pre></div>
</div>
<p>4./dev/sdb2にUbuntu/Debian系のディストリビューションを入れます。ISOをそのまま入れることが出来ますし、UNetBootInを使ってインストールすることも出来ます。(ここではvalkyrie-spec2.5.isoとします）。</p>
<p>5./boot/grubにgrub.cfgを作成します。これはGRUBのブートメニューの各項目を設定するものです。</p>
<p>◇Ubuntu/Debian系ディストリビューションの場合:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">menuentry</span> <span class="s2">&quot;valkyrie-spec2.5.iso&quot;</span> <span class="p">{</span>
<span class="n">loopback</span> <span class="n">loop</span> <span class="p">(</span><span class="n">hd0</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span><span class="o">/</span><span class="n">boot</span><span class="o">/</span><span class="n">iso</span><span class="o">/</span><span class="n">valkyrie</span><span class="o">-</span><span class="n">spec2</span><span class="mf">.5</span><span class="o">.</span><span class="n">iso</span>
<span class="n">linux</span> <span class="p">(</span><span class="n">loop</span><span class="p">)</span><span class="o">/</span><span class="n">casper</span><span class="o">/</span><span class="n">vmlinuz</span> <span class="n">boot</span><span class="o">=</span><span class="n">casper</span> <span class="n">iso</span><span class="o">-</span><span class="n">scan</span><span class="o">/</span><span class="n">filename</span><span class="o">=/</span><span class="n">boot</span><span class="o">/</span><span class="n">iso</span><span class="o">/</span><span class="n">valkyrie</span><span class="o">-</span><span class="n">spec2</span><span class="mf">.5</span><span class="o">.</span><span class="n">iso</span> <span class="n">noeject</span> <span class="n">noprompt</span> <span class="n">quiet</span> <span class="n">splash</span> <span class="o">--</span>
<span class="n">initrd</span> <span class="p">(</span><span class="n">loop</span><span class="p">)</span><span class="o">/</span><span class="n">casper</span><span class="o">/</span><span class="n">initrd</span><span class="o">.</span><span class="n">lz</span>
<span class="p">}</span>
</pre></div>
</div>
<p>UNetBootInでインストールしている場合はchainloaderでsyslinuxと接続することが出来ます。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">menuentry</span> <span class="s2">&quot;valkyrie-spec2.5&quot;</span> <span class="p">{</span>
<span class="nb">set</span> <span class="n">root</span><span class="o">=</span><span class="p">(</span><span class="n">hd0</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="n">chainloader</span> <span class="o">+</span><span class="mi">1</span>
<span class="p">}</span>
</pre></div>
</div>
<p>◇Puppy Linuxの場合</p>
<p>/dev/sdb3にPuppyのISOの内容をコピーします。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">menuentry</span> <span class="s2">&quot;puppy-4.31&quot;</span> <span class="p">{</span>
<span class="nb">set</span> <span class="n">root</span><span class="o">=</span><span class="p">(</span><span class="n">hd0</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="n">linux</span> <span class="o">/</span><span class="n">vmlinuz</span>
<span class="n">initrd</span> <span class="o">/</span><span class="n">initrd</span><span class="o">.</span><span class="n">gz</span>
<span class="p">}</span>
</pre></div>
</div>
<p>◇Fedraの場合</p>
<p>/dev/sdb4にFedraのISOの内容をコピーします。</p>
<p>UUIDはblkidコマンドで調べてください。</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">menuentry</span> <span class="s2">&quot;Fedra 15&quot;</span> <span class="p">{</span>
<span class="nb">set</span> <span class="n">root</span><span class="o">=</span><span class="p">(</span><span class="n">hd0</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span>
<span class="n">linux</span> <span class="o">/</span><span class="n">isolinux</span><span class="o">/</span><span class="n">vmlinuz0</span> <span class="n">root</span><span class="o">=</span><span class="n">live</span><span class="p">:</span><span class="n">UUID</span><span class="o">=</span><span class="mi">2</span><span class="n">f0cd3e5</span><span class="o">-</span><span class="mi">7279</span><span class="o">-</span><span class="mi">4</span><span class="n">b8a</span><span class="o">-</span><span class="n">af9f</span><span class="o">-</span><span class="n">ca89b19a84c2</span>
<span class="n">rootfstype</span><span class="o">=</span><span class="n">auto</span> <span class="n">ro</span> <span class="n">liveimg</span>
<span class="n">initrd</span> <span class="o">/</span><span class="n">isolinux</span><span class="o">/</span><span class="n">initrd0</span><span class="o">.</span><span class="n">img</span>
<span class="p">}</span>
</pre></div>
</div>
<p>シャットダウンや再起動の項目を追加したい場合は以下のようにします。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">menuentry</span> <span class="s2">&quot;Reboot&quot;</span><span class="p">{</span>
<span class="n">reboot</span>
<span class="p">}</span>
<span class="n">menuentry</span> <span class="s2">&quot;Shutdown&quot;</span><span class="p">{</span>
<span class="n">halt</span>
<span class="p">}</span>
</pre></div>
</div>
<p>これで再起動させてUSBメモリからブートさせれば、GRUBメニューが現れ、該当する項目を選べば、ISOを起動させることが出来ます。</p>
<p>isoディレクトリに複数のLiveCDを入れておき、grub.cfgの項目を増やしていけば、マルチブート可能なUSBメモリが出来ます。</p>
<p>6./mnt/sdb1をアンマウントする:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">umount</span> <span class="o">/</span><span class="n">mnt</span><span class="o">/</span><span class="n">sdb1</span>
</pre></div>
</div>
<p>7.Gpartedなどで/dev/sdb2のラベル編集でbootのチェックを外します。bootにチェックが入っていると、/dev/sdb2のUNetBootinでインストールしたUbuntuが起動してしまうからです。</p>
</section>
<section id="ram">
<h2><span class="section-number">1.131. </span>RAMキャッシュの設定方法<a class="headerlink" href="#ram" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>Chromium系ブラウザにおけるRAMキャッシュの設定方法は以下のようになります。</p>
<p>ここではChromiumベースのブラウザ「SRWare Iron」を使っています。他のChromium系ブラウザでも設定方法は基本的に同じです。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>◇Windowsの場合
・ショートカットを右クリック→プロパティを開く
・リンク先を「C:\Program Files\SRWare Iron\iron.exe --disk-cache-dir=&quot;◯:\Chromium Disk Cache&quot;」(◯はRAMディスクのドライブレター）とする。
◇LinuxなどのUNIX系OSの場合
・/usr/share/applicationsなどにあるSRWare Iron.desktopファイルをテキストエディタ（ユーザーディレクトリ以外にあるファイルはroot権限で開く）で開く。
・execの箇所に「iron --disk-cache-dir=&quot;/tmp&quot;」（tmpfsを/tmpに設定している場合）と記述する
</pre></div>
</div>
</section>
<section id="firefox">
<h2><span class="section-number">1.132. </span>Firefoxのプルダウンメニューの項目が消えた場合の対処法<a class="headerlink" href="#firefox" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>Firefoxのプルダウンメニューの項目の文字が消えることがあります。これはシステム側のデフォルトフォント設定とFirefoxのフォント設定が競合しているからです。対処するには、Linuxの場合「.gtkrc-2.0」ファイルをテキストエディタで開き、フォントに関する設定を削除して保存することで対処することが出来ます。</p>
</section>
<section id="firefox-google-chrome-internet-exploror-operaxmarks">
<h2><span class="section-number">1.133. </span>Firefox,Google Chrome,Internet Exploror,Operaなどのブックマークを同期出来るサービス「XMarks」<a class="headerlink" href="#firefox-google-chrome-internet-exploror-operaxmarks" title="このヘッドラインへのパーマリンク">¶</a></h2>
<blockquote>
<div><p><a class="reference external" href="http://www.xmarks.com/">Xmarks</a></p>
</div></blockquote>
<p>複数のブラウザのブックマークや履歴を同期・バックアップ出来るクラウドサービスです。Xmarksでアカウントを取得後、各ブラウザにアドオンやエクステンションを追加することで同期出来るようになります。</p>
</section>
<section id="firefoxdeb">
<h2><span class="section-number">1.134. </span>Firefoxをソースコードからビルドして、debパッケージを作成、インストールする方法<a class="headerlink" href="#firefoxdeb" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>1.$sudo add-apt-repository ppa:mozillateam/firefox-stable &amp;&amp; sudo apt-get update
2.$apt-get source firefox
3.ダウンロードしたファイルを解凍
4.出来たフォルダの下にDebianフォルダがあるので移動
5.Firefox,debパッケージに必要なツールをインストール
    $sudo apt-get build-dep firefox
6.changelogでバージョン名を変更することが可能。mozconfigのテンプレートはmozconfig.iniなので、Firefoxのビルドコンフィグを変更したい場合はここにオプションを記述します。
7.ビルドします。ユーザーディレクトリにdebファイルが大量に出来ます。
    $sudo su
    #debuild -us -uc
8.debファイルを全て新規フォルダを作成して移動し、インストールすれば完成です。
    $sudo dpkg -i *.deb
</pre></div>
</div>
</section>
<section id="firefox-3-6-user-js">
<h2><span class="section-number">1.135. </span>Firefox 3.6 高速化　user.js<a class="headerlink" href="#firefox-3-6-user-js" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">user_pref</span><span class="p">(</span><span class="s2">&quot;general.useragent.extra.firefox&quot;</span><span class="p">,</span><span class="s2">&quot;Firefox/3.6.10&quot;</span><span class="p">);</span>
<span class="n">user_pref</span><span class="p">(</span><span class="s2">&quot;browser.cache.disk.parent_directory&quot;</span><span class="p">,</span><span class="s2">&quot;/mnt/ramdisk&quot;</span><span class="p">);</span>
<span class="n">user_pref</span><span class="p">(</span><span class="s2">&quot;browser.cache.disk.enable&quot;</span><span class="p">,</span><span class="n">false</span><span class="p">);</span>
<span class="n">user_pref</span><span class="p">(</span><span class="s2">&quot;browser.cache.memory.enable&quot;</span><span class="p">,</span><span class="n">true</span><span class="p">);</span>
<span class="n">user_pref</span><span class="p">(</span><span class="s2">&quot;browser.cache.memory.capacity&quot;</span><span class="p">,</span><span class="mi">1024</span><span class="p">);</span>
<span class="n">user_pref</span><span class="p">(</span><span class="s2">&quot;browser.cache.disk_cache_ssl&quot;</span><span class="p">,</span><span class="n">true</span><span class="p">);</span>
<span class="n">user_pref</span><span class="p">(</span><span class="s2">&quot;browser.sessionhistory.max_total_viewers&quot;</span><span class="p">,</span><span class="mi">0</span><span class="p">);</span>
<span class="n">user_pref</span><span class="p">(</span><span class="s2">&quot;browser.tabs.showSingleWindowModePrefs&quot;</span><span class="p">,</span><span class="n">true</span><span class="p">);</span>
<span class="n">user_pref</span><span class="p">(</span><span class="s2">&quot;browser.history_expire_days&quot;</span><span class="p">,</span><span class="mi">7</span><span class="p">);</span>
<span class="n">user_pref</span><span class="p">(</span><span class="s2">&quot;browser.history_expire_days_min&quot;</span><span class="p">,</span><span class="mi">7</span><span class="p">);</span>
<span class="n">user_pref</span><span class="p">(</span><span class="s2">&quot;browser.history_expire_sites&quot;</span><span class="p">,</span><span class="mi">5</span><span class="p">);</span>
<span class="n">user_pref</span><span class="p">(</span><span class="s2">&quot;browser.xul.error_pages.enabled&quot;</span><span class="p">,</span><span class="n">true</span><span class="p">);</span>
<span class="n">user_pref</span><span class="p">(</span><span class="s2">&quot;content.interrupt.parsing&quot;</span><span class="p">,</span><span class="n">true</span><span class="p">);</span>
<span class="n">user_pref</span><span class="p">(</span><span class="s2">&quot;content.max.tokenizing.time&quot;</span><span class="p">,</span><span class="mi">3000000</span><span class="p">);</span>
<span class="n">user_pref</span><span class="p">(</span><span class="s2">&quot;content.notify.interval&quot;</span><span class="p">,</span><span class="mi">750000</span><span class="p">);</span>
<span class="n">user_pref</span><span class="p">(</span><span class="s2">&quot;content.notify.ontimer&quot;</span><span class="p">,</span><span class="n">true</span><span class="p">);</span>
<span class="n">user_pref</span><span class="p">(</span><span class="s2">&quot;content.maxtextrun&quot;</span><span class="p">,</span><span class="mi">8191</span><span class="p">);</span>
<span class="n">user_pref</span><span class="p">(</span><span class="s2">&quot;content.switch.threshold&quot;</span><span class="p">,</span><span class="mi">100000</span><span class="p">);</span>
<span class="n">user_pref</span><span class="p">(</span><span class="s2">&quot;config.trim_on_minimize&quot;</span><span class="p">,</span><span class="n">true</span><span class="p">);</span>
<span class="n">user_pref</span><span class="p">(</span><span class="s2">&quot;content.notify.backoffcount&quot;</span><span class="p">,</span><span class="mi">5</span><span class="p">);</span>
<span class="n">user_pref</span><span class="p">(</span><span class="s2">&quot;javascript.options.jit.chrome&quot;</span><span class="p">,</span><span class="n">true</span><span class="p">);</span>
<span class="n">user_pref</span><span class="p">(</span><span class="s2">&quot;javascript.options.jit.content&quot;</span><span class="p">,</span><span class="n">true</span><span class="p">);</span>
<span class="n">user_pref</span><span class="p">(</span><span class="s2">&quot;network.http.pipelining&quot;</span><span class="p">,</span><span class="n">true</span><span class="p">);</span>
<span class="n">user_pref</span><span class="p">(</span><span class="s2">&quot;network.http.pipelining.firstrequest&quot;</span><span class="p">,</span><span class="n">true</span><span class="p">);</span>
<span class="n">user_pref</span><span class="p">(</span><span class="s2">&quot;network.http.pipelining.maxrequests&quot;</span><span class="p">,</span><span class="mi">8</span><span class="p">);</span>
<span class="n">user_pref</span><span class="p">(</span><span class="s2">&quot;network.http.proxy.pipelining&quot;</span><span class="p">,</span><span class="n">true</span><span class="p">);</span>
<span class="n">user_pref</span><span class="p">(</span><span class="s2">&quot;network.http.max-connections&quot;</span><span class="p">,</span><span class="mi">32</span><span class="p">);</span>
<span class="n">user_pref</span><span class="p">(</span><span class="s2">&quot;network.http.max-connections-per-server&quot;</span><span class="p">,</span><span class="mi">8</span><span class="p">);</span>
<span class="n">user_pref</span><span class="p">(</span><span class="s2">&quot;network.http.max-persistent-connections-per-proxy&quot;</span><span class="p">,</span><span class="mi">8</span><span class="p">);</span>
<span class="n">user_pref</span><span class="p">(</span><span class="s2">&quot;network.http.max-persistent-connections-per-server&quot;</span><span class="p">,</span><span class="mi">4</span><span class="p">);</span>
<span class="n">user_pref</span><span class="p">(</span><span class="s2">&quot;network.http.request.timeout&quot;</span><span class="p">,</span><span class="mi">300</span><span class="p">);</span>
<span class="n">user_pref</span><span class="p">(</span><span class="s2">&quot;network.dns.disableIPv6&quot;</span><span class="p">,</span><span class="n">true</span><span class="p">);</span>
<span class="n">user_pref</span><span class="p">(</span><span class="s2">&quot;nglayout.initialpaint.delay&quot;</span><span class="p">,</span><span class="mi">0</span><span class="p">);</span>
<span class="n">user_pref</span><span class="p">(</span><span class="s2">&quot;plugin.expose_full_path&quot;</span><span class="p">,</span><span class="n">true</span><span class="p">);</span>
<span class="n">user_pref</span><span class="p">(</span><span class="s2">&quot;singed.applets.codebase_principal_support&quot;</span><span class="p">,</span><span class="n">true</span><span class="p">);</span>
<span class="n">user_pref</span><span class="p">(</span><span class="s2">&quot;ui.submenuDelay&quot;</span><span class="p">,</span><span class="mi">0</span><span class="p">);</span>
</pre></div>
</div>
<p>Ubuntuの場合、user.jsを「/home/ユーザー/.mozilla/firefox/xxxxxxxx.default」に移動させ、Firefoxを起動させれば、高速化されます。</p>
</section>
<section id="bitubuntu-9-10firefox">
<h2><span class="section-number">1.136. </span>64bit版Ubuntu 9.10用のFirefoxを最適化ビルドする<a class="headerlink" href="#bitubuntu-9-10firefox" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>　64bit版Ubuntu 9.10用にFirefoxをプロセッサやOSに最適化してビルドします。</p>
<p>1.Mozilla FirefoxソースでFirefoxのソースをダウンロードし、homeフォルダに解凍すると、「mozilla-バージョン名」といったフォルダが出来ます。ここでは「mozilla-1.9.2」としておきます。</p>
<p>2.mozilla-1.9.2フォルダに移動し、「.mozconfig」というファイルを作成します。.mozconfigの詳細はMDCにあります。僕の.mozconfigの設定は以下のようになっています。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">.</span> <span class="o">~/</span><span class="n">mozilla</span><span class="o">-</span><span class="n">xxx</span><span class="o">/</span><span class="n">browser</span><span class="o">/</span><span class="n">config</span><span class="o">/</span><span class="n">mozconfig</span>
<span class="n">mk_add_options</span> <span class="n">MOZ_OBJDIR</span><span class="o">=</span><span class="nd">@TOPSRCDIR</span><span class="o">@/</span><span class="n">firefox_build</span>
 <span class="n">ac_add_options</span> <span class="o">--</span><span class="n">enable</span><span class="o">-</span><span class="n">optimaize</span><span class="o">=</span><span class="s2">&quot;-O3 -msse3 -m3dnow -m64&quot;</span>
</pre></div>
</div>
<p>これで64bitかつSSE3、3D NOW!を利用した最適化が行われ、通常のFirefoxよりも描画が速くなります。「ac_add_options --enable-optimaize」はgccの最適化オプションに準拠しているので、gccのビルドオプションを参考にするといいでしょう。</p>
<p>3.「make -f client.mk build」を実行するとMakeファイルを自動的に作り、makeしてくれます。configure時にエラーが出たら、ビルドに必要なツールが足りないということなので、メッセージに合わせて随時ツールをインストールしてください。ITMEDIAに必要なツールの一覧があるので参考にしてください。ビルドにはしばらく時間がかかります。Phenom II X3 720 BEマシンで15分くらいかかりました。</p>
<p>4.完成したFirefoxは「mozilla-1.9.2/firefox_build/dist/bin」の中にあります。パッケージしたい場合は「firefox_build/browser/installer」へ移動し、「make」すると先ほどのdistフォルダに言語パックと共に生成されています。</p>
</section>
<section id="firefoxvacuum">
<h2><span class="section-number">1.137. </span>FirefoxのデータベースをVACUUMして動作を軽くする<a class="headerlink" href="#firefoxvacuum" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>Firefoxは各種データベースをSQLiteで管理しています。使い続けると、「places.sqlite」が肥大化し、Firefoxの動作が緩慢になる原因になります。SQLiteには「VACUUM」というデータベースを最適化する方法があります。これを使うことでFirefoxのデータベースを最適化することが出来ます。</p>
<p>◇コマンド編</p>
<p>1.「ツール」⇒「エラーコンソール」を開きます</p>
<p>2.コード欄に以下を記述します:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Components</span><span class="o">.</span><span class="n">classes</span><span class="p">[</span><span class="s2">&quot;@mozilla.org/browser/nav-history-service;1&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">getService</span><span class="p">(</span><span class="n">Components</span><span class="o">.</span><span class="n">interfaces</span><span class="o">.</span><span class="n">nsPIPlacesDatabase</span><span class="p">)</span>
</pre></div>
</div>
<p>3.「コードを評価する」ボタンをクリックするか、Enterキーを押すとVACUUMを開始します。以下のメッセージが出たら、成功です。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">xpconnect</span> <span class="n">wrapped</span> <span class="p">(</span><span class="n">nsISupports</span><span class="p">,</span> <span class="n">nsINavHistoryService</span><span class="p">,</span> <span class="n">nsIGlobalHistory3</span><span class="p">,</span> <span class="n">nsIGlobalHistory2</span><span class="p">,</span> <span class="n">nsIDownloadHistory</span><span class="p">,</span> <span class="n">nsIBrowserHistory</span><span class="p">,</span> <span class="n">nsIBrowserHistory_MOZILLA_1_9_1_ADDITIONS</span><span class="p">,</span> <span class="n">nsPIPlacesDatabase</span><span class="p">)]</span>
</pre></div>
</div>
<p>◇アドオン編</p>
<p>以下のアドオンでも同様のことが出来ます。</p>
<p>・Vacuum Places</p>
<p>・SQLite Optimizer 0.6</p>
<p>・PlacesCleaner</p>
</section>
<section id="firefox3web">
<h2><span class="section-number">1.138. </span>Firefox3のブックマークデータをWebサイトに埋め込む方法<a class="headerlink" href="#firefox3web" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>Firefox3のブックマークはJSONで保存することが出来ます。つまり、スクリプト言語やJSONパーサなどを使えば、ブックマークのデータをWebサイトに埋め込むことが出来ます。一番簡単にブックマークデータにアクセスする方法はJavaScriptを使うことです。</p>
<p>1.Firefox3のブックマークJSONファイルに「var bookmarks = 」を追加し、HTMLのscriptエレメントでロードする</p>
<p>2.「bookmarks.children[0].children[0].children[0].title;」などとすると、ブックマークの対象のサイトのタイトルを取得することが出来ます。これをinnerHTMLなどでHTMLに取り込むとサイトに表示出来る様になります。</p>
<p>もっと安全にJSONを取得したい場合はJSONパーサを使うのですが、同一ドメインで使うだけなら、上記の方法で十分でしょう。ちなみにJSONPにしたい場合は元のブックマークデータをコールバック関数で括って、読み込む際にコールバック関数を定義して、scriptエレメントでブックマークデータを読み込んでください。</p>
<p>◇JSONデータをWebサイトに埋め込む関数の例</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">function</span> <span class="n">importFirefoxBookmarks</span><span class="p">(</span><span class="nb">id</span><span class="p">,</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">){</span>
          <span class="n">var</span> <span class="n">bm_root</span> <span class="o">=</span> <span class="n">bookmarks</span><span class="o">.</span><span class="n">children</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
          <span class="n">var</span> <span class="n">bma</span> <span class="o">=</span> <span class="p">[];</span>
          <span class="k">for</span><span class="p">(</span><span class="n">var</span> <span class="n">i</span><span class="o">=</span><span class="mi">2</span><span class="p">;</span><span class="n">i</span><span class="o">&lt;</span><span class="mi">20</span><span class="p">;</span><span class="n">i</span><span class="o">++</span><span class="p">){</span>
                    <span class="n">bma</span><span class="o">.</span><span class="n">push</span><span class="p">(</span><span class="n">bm_root</span><span class="o">.</span><span class="n">children</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
          <span class="p">}</span>
          <span class="n">var</span> <span class="n">bmb</span> <span class="o">=</span> <span class="p">[];</span>
          <span class="k">for</span><span class="p">(</span><span class="n">var</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">i</span><span class="o">&lt;</span><span class="n">bma</span><span class="p">[</span><span class="n">x</span><span class="p">]</span><span class="o">.</span><span class="n">children</span><span class="o">.</span><span class="n">length</span><span class="p">;</span><span class="n">i</span><span class="o">++</span><span class="p">){</span>
                    <span class="n">bmb</span><span class="o">.</span><span class="n">push</span><span class="p">(</span><span class="n">bma</span><span class="p">[</span><span class="n">x</span><span class="p">]</span><span class="o">.</span><span class="n">children</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
          <span class="p">}</span>
          <span class="n">var</span> <span class="n">bmc</span> <span class="o">=</span> <span class="p">[];</span>
          <span class="k">for</span><span class="p">(</span><span class="n">var</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">i</span><span class="o">&lt;</span><span class="n">bmb</span><span class="p">[</span><span class="n">y</span><span class="p">]</span><span class="o">.</span><span class="n">children</span><span class="o">.</span><span class="n">length</span><span class="p">;</span><span class="n">i</span><span class="o">++</span><span class="p">){</span>
                    <span class="n">bmc</span><span class="o">.</span><span class="n">push</span><span class="p">(</span><span class="n">bmb</span><span class="p">[</span><span class="n">y</span><span class="p">]</span><span class="o">.</span><span class="n">children</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
          <span class="p">}</span>
          <span class="k">for</span><span class="p">(</span><span class="n">var</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">i</span><span class="o">&lt;</span><span class="n">bmc</span><span class="o">.</span><span class="n">length</span><span class="p">;</span><span class="n">i</span><span class="o">++</span><span class="p">){</span>
                    <span class="n">document</span><span class="o">.</span><span class="n">getElementById</span><span class="p">(</span><span class="nb">id</span><span class="p">)</span><span class="o">.</span><span class="n">innerHTML</span> <span class="o">+=</span> <span class="n">bmc</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">title</span> <span class="o">+</span> <span class="s2">&quot;&lt;br /&gt;&quot;</span>
                             <span class="o">+</span> <span class="s1">&#39;&lt;a href=&quot;&#39;</span> <span class="o">+</span> <span class="n">bmc</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">uri</span> <span class="o">+</span> <span class="s1">&#39;&quot; target=&quot;_blank&quot;&gt;&#39;</span> <span class="o">+</span> <span class="n">bmc</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">uri</span> <span class="o">+</span> <span class="s1">&#39;&lt;/a&gt;&lt;br /&gt;&#39;</span><span class="p">;</span>
         <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="web">
<h2><span class="section-number">1.139. </span>Webサイトやブログの表示速度を向上させる<a class="headerlink" href="#web" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>Webサイトやブログなどを公開している企業や個人は多いですが、最近、運営しているWebサイトやブログの表示が重いと感じる事があるのではないでしょうか。アフィリエイトサービスを使う事で、個人サイトでも企業やマスコミなどと似たような広告収入を得られる機会が増加している為、ASPと契約をしてネット広告をサイトやブログに貼っている人々は多いです。また、動画共有サイトで気になった動画を見つけたり、自分で投稿した動画を紹介したりする場合には、埋め込みコードを記事に貼り付けて投稿する事があるでしょう。</p>
<p>サイトやブログの表示が重くなる原因は、テキストよりも容量が遥かに大きい画像や動画をたくさん貼り付けるからです。アクセスしてきた人は、そのページに貼られている動画の埋め込みコードなどを通して動画や画像を全て読み込む形になってしまいます。その為、同時に複数のトランザクションが発生してネット回線をそれぞれの処理で分けあってしまう為、ページの表示が遅くなってしまいます。近年のネット広告は、Flashベースの物以外に画像とJavaScriptの組み合せで出来ている物、動画を再生する物などがあります。これらがたくさん貼り付けられていれば、サーバへの問い合わせが多くなってしまいます。</p>
<p>このような状況を簡単に解決する方法としては、画像や動画の数を減らし、代わりにそれらがある場所のリンクを掲載しておくというものです。特にYouTubeやDailyMotionなどの動画共有サイトやInstagramなどの写真投稿サイトの写真や動画をブログ記事に掲載したい時に効果的です。
ASPが提供するアフィリエイトプログラムの中には、テキストリンクを使えるようになっている事があります。バナー広告は派手に宣伝するのに便利ですが、画像や動画が使われていたり、自動的に広告を表示するようにスクリプトが組まれていたりしますので、どうしてもページが重くなる原因になります。テキスト広告は工夫をすれば、文言を変えずに宣伝する事が可能です。</p>
<p>画像コンテンツや動画コンテンツをリンクに変更する際には、それがどのような内容のリンクであるのかを明示しておきますと、アクセスしてきたユーザーは理解してコンテンツを見る事が出来ます。どうしても表現しにくい場合には、画像や動画を使えば効果的でしょう。</p>
<p>◇サイトやブログの表示高速化</p>
<p>・ブログパーツを減らす。</p>
<p>・アフィリエイト広告をテキスト広告に変更する。</p>
<p>・動画共有サイトや写真投稿サイトなどで気になった物を見つけた場合は、分かりやすいようにテキストを考えて、画像や動画を減らす。</p>
<p>・JavaScriptはBody要素の最下部に設置すると、ブロックされずにページが表示される。</p>
<p>・CSSは、head要素の中に記述する。</p>
<p>・JavaScriptやCSSは、外部ファイル化してページから呼び出す。</p>
<p>・HTMLで構築したページの要素が過剰に入れ子にならないように気をつける。</p>
</section>
<section id="ubuntulinux">
<h2><span class="section-number">1.140. </span>Ubuntu系Linuxディストリビューション向けの音質向上テクニックのまとめ<a class="headerlink" href="#ubuntulinux" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>◇Ubuntu系情報</p>
<p><a class="reference external" href="https://wiki.ubuntulinux.jp/UbuntuStudioTips">https://wiki.ubuntulinux.jp/UbuntuStudioTips</a></p>
<p><a class="reference external" href="https://wiki.ubuntulinux.jp/UbuntuStudioTips/Application/JACK-PulseAudio">https://wiki.ubuntulinux.jp/UbuntuStudioTips/Application/JACK-PulseAudio</a></p>
<p><a class="reference external" href="http://web1.kcn.jp/haruem/Ubuntu_audio_OS.html">http://web1.kcn.jp/haruem/Ubuntu_audio_OS.html</a></p>
<p><a class="reference external" href="http://oka-ats.blogspot.jp/2016/02/oka01-rxqbidhqglvaownc.html">ＵｂｕｎｔｕでＪＡＣＫとＰｕｌｓｅＡｕｄｉｏを同時に使う</a></p>
<p><a class="reference external" href="http://lugia.hatenablog.com/entry/20120422/1335099252">最強の Linux サウンドシステム (多分)</a>
<a class="reference external" href="http://wikiwiki.jp/tetsuya/?asoundrc">ALSA の設定ファイル .asoundrc の解説（和訳）</a></p>
<p>◇ArchLinux系情報</p>
<p><a class="reference external" href="https://wiki.archlinuxjp.org/index.php/JACK_Audio_Connection_Kit">https://wiki.archlinuxjp.org/index.php/JACK_Audio_Connection_Kit</a></p>
<p><a class="reference external" href="https://wiki.archlinuxjp.org/index.php/PulseAudio/%E3%83%88%E3%83%A9%E3%83%96%E3%83%AB%E3%82%B7%E3%83%A5%E3%83%BC%E3%83%86%E3%82%A3%E3%83%B3%E3%82%B0">PulseAudioトラブルシューティング</a></p>
<p><a class="reference external" href="https://wiki.archlinuxjp.org/index.php/%E3%83%97%E3%83%AD%E3%82%AA%E3%83%BC%E3%83%87%E3%82%A3%E3%82%AA">プロオーディオ</a></p>
<p>コマンドでJackとPulseの連携は出来るようになっていますが、ALSAを直接使うアプリケーションではまだ音が出ていません。</p>
<p>Qjackctlで予めpulseaudio-module-jackの設定を行っておきます。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$sudo apt-get install pulseaudio-module-jack
</pre></div>
</div>
<p>Qjackctlの「Setup...」→「Options」→「Execute script after Startup」に以下のコマンドを記述する。:</p>
<p>pactl set-default-sink jack_out</p>
<p>Ubuntu 16.04 LTS以降であれば、PulseAudioのdefault.daにモジュールを追加する記述は不要です。これを入れるとPulseAudioとJack共に起動後何秒かして落ちました。</p>
<p>この状態でPulseAudio起動状態で、Qjackctlを起動すれば、PulseAudioとJackとALSAが併用出来るようになります。</p>
<p>Qjackctlの代わりに、jack_cotrolを使えば、D-Bus経由でPulseAudioとの連携が出来ますが、ALSAを直接使うソフトウェアではALSAが使えなくなってしまいます。また、.asoundrcを使った場合、Ubuntu 16.04 LTS以降ではPulseAudioやALSAでの再生が出来ませんでした。</p>
<p>jack_controlを使ったコマンド例は以下の通りです。ALSAを直接利用するアプリケーションを使わなければ、これでもJackとPulseAudioの連携は可能です。自動起動するようにしておくと良いでしょう。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>(sleep 5s &amp;&amp; jack_control start &amp;&amp; sudo schedtool -R -p 20 `pidof jackdbus`&amp;&amp; jack_control eps realtime true &amp;&amp; jack_control ds alsa &amp;&amp; jack_control dps device hw:0 &amp;&amp; jack_control dps rate 44100 &amp;&amp; jack_control dps nperiods 2 &amp;&amp; jack_control dps period 64 &amp;&amp; sleep 5s &amp;&amp; /usr/bin/a2jmidid -e &amp;&amp; sleep 5 &amp;&amp; pactl load-module module-jack-sink channels=2 &amp;&amp; pactl load-module module-jack-source channels=2 &amp;&amp;  sleep 3s &amp;&amp; pacmd set-default-sink jack_out &amp;&amp; pacmd set-default-source jack_in &amp;&amp; sleep 3s &amp;&amp; jack_wait -w &amp;&amp; sleep 1s) &amp;
</pre></div>
</div>
<p>◇amixerの設定コマンド:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ミュートの切り替え</span>
<span class="n">amixer</span> <span class="n">sset</span> <span class="n">Master</span> <span class="n">on</span>
<span class="n">amixer</span> <span class="n">sset</span> <span class="n">Master</span> <span class="n">off</span>

<span class="n">音量変更</span>
<span class="n">amixer</span> <span class="n">sset</span> <span class="n">Master</span> <span class="mi">10</span><span class="o">%+</span>
<span class="n">amixer</span> <span class="n">sset</span> <span class="n">Master</span> <span class="mi">10</span><span class="o">%-</span>
<span class="n">amixer</span> <span class="n">sset</span> <span class="n">Master</span> <span class="mi">60</span><span class="o">%</span>

<span class="n">現在の音量の取得</span>

<span class="n">amixer</span> <span class="n">sget</span> <span class="n">Master</span> <span class="o">|</span> <span class="n">egrep</span> <span class="s1">&#39;\[.*%\]</span>
</pre></div>
</div>
</section>
<section id="xmonad">
<h2><span class="section-number">1.141. </span>xmonad用設定ファイル<a class="headerlink" href="#xmonad" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>レイアウトは、ミラー＋タイルの構成がメインになっていて、マスターウィンドウを２つに分割し、ウィンドウが水平方向にレイアウトされるように設定しています。
mod+スペースの切り替えでタブ型のレイアウトに変更することができ、タブ型レイアウトはフルスクリーンレイアウトより利便性が高く、便利です。</p>
<p>◇xmonad.hs</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>import XMonad
import Data.Monoid
import System.Exit
import qualified XMonad.StackSet as W
import qualified Data.Map        as M
import XMonad.Config.Gnome
import System.IO
import XMonad.Actions.WithAll
import XMonad.Actions.CycleWS
import XMonad.Actions.Volume
import XMonad.Hooks.ManageDocks
import XMonad.Hooks.ManageHelpers
import XMonad.Hooks.EwmhDesktops
import XMonad.Hooks.UrgencyHook
import XMonad.Hooks.SetWMName
import XMonad.Hooks.FadeInactive
import XMonad.Layout.LayoutHints
import XMonad.Layout.ResizableTile
import XMonad.Layout.ToggleLayouts
import XMonad.Layout.Spiral
import XMonad.Layout.DragPane
import XMonad.Layout.Circle
import XMonad.Layout.Cross
import XMonad.Layout.Grid
import XMonad.Layout.Magnifier
import XMonad.Layout.ThreeColumns
import XMonad.Layout.Accordion
import XMonad.Layout.StackTile
import XMonad.Layout.Spacing
import XMonad.Layout.OneBig
import XMonad.Layout.Tabbed
import XMonad.Util.EZConfig
import XMonad.Config.Desktop(desktopLayoutModifiers)
import XMonad.Layout.Named
import XMonad.Util.Run(spawnPipe)
import XMonad.Actions.CopyWindow
import Control.Monad (liftM2)
import XMonad.Hooks.DynamicLog

myFocusFollowsMouse :: Bool
myFocusFollowsMouse = True
myKeys conf@(XConfig {XMonad.modMask = modm}) = M.fromList $
   [ ((modm .|. shiftMask, xK_Return), spawn $ XMonad.terminal conf)
   , ((modm,               xK_p     ), spawn &quot;kupfer&quot;)
   , ((modm .|. shiftMask, xK_p     ), spawn &quot;gmrun&quot;)
   , ((modm .|. shiftMask, xK_c     ), kill)
   , ((modm,               xK_space ), sendMessage NextLayout)
   , ((modm .|. shiftMask, xK_space ), setLayout $ XMonad.layoutHook conf)
   , ((modm,               xK_n     ), refresh)
   , ((modm,               xK_Tab   ), windows W.focusDown)
   , ((modm,               xK_j     ), windows W.focusDown)
   , ((modm,               xK_k     ), windows W.focusUp  )
   , ((modm,               xK_m     ), windows W.focusMaster  )
   , ((modm,               xK_Return), windows W.swapMaster)
   , ((modm .|. shiftMask, xK_j     ), windows W.swapDown  )
   , ((modm .|. shiftMask, xK_k     ), windows W.swapUp    )
   , ((modm,               xK_h     ), sendMessage Shrink)
   , ((modm,               xK_l     ), sendMessage Expand)
   , ((modm,                  xK_b       ), sendMessage ToggleStruts)
   , ((modm,               xK_t     ), withFocused $ windows . W.sink)
   , ((modm              , xK_comma ), sendMessage (IncMasterN 1))
   , ((modm              , xK_period), sendMessage (IncMasterN (-1)))
   , ((modm .|. shiftMask, xK_q     ), io (exitWith ExitSuccess))
   , ((modm              , xK_q     ), spawn &quot;xmonad --recompile; xmonad --restart&quot;)
   , ((modm              , xK_f     ), spawn &quot;killall -USR1 fbpanel&quot;)
   , ((modm              , xK_g    ), spawn &quot;pkill tint2 &amp;amp;&amp;amp; tint2&quot;)
   , ((modm,xK_F8),lowerVolume 3 &amp;gt;&amp;gt; return())
   , ((modm,xK_F9),raiseVolume 3 &amp;gt;&amp;gt;return())
   ]
   ++
   [((m .|. modm, k), windows $ f i)
       | (i, k) &amp;lt;- zip (XMonad.workspaces conf) [xK_1 .. xK_9]
       , (f, m) &amp;lt;- [(W.greedyView, 0), (W.shift, shiftMask)]]
   ++
   [((m .|. modm, key), screenWorkspace sc &amp;gt;&amp;gt;= flip whenJust (windows . f))
       | (key, sc) &amp;lt;- zip [xK_w, xK_e, xK_r] [0..]
       , (f, m) &amp;lt;- [(W.view, 0), (W.shift, shiftMask)]]
myMouseBindings (XConfig {XMonad.modMask = modm}) = M.fromList $
   [((modm, button1), (\w -&amp;gt; focus w &amp;gt;&amp;gt; windows W.swapMaster))
    ,((modm .|. shiftMask, button1), (\w -&amp;gt; focus w &amp;gt;&amp;gt; kill))
   ]
myLayout = desktopLayoutModifiers(mirtiled ||| tab)
where
    full = Full
    tiled   = spacing 3 $ Tall nmaster delta ratio
    mirtiled   = spacing 3 $ Mirror(Tall nmaster delta ratio)
    tab = tabbed shrinkText defaultTheme
    threec = ThreeColMid nmaster delta ratio
    st = StackTile nmaster delta ratio
    cross = simpleCross
    nmaster = 2
    ratio   = 5/7
    delta   = 3/100
myManageHook = composeAll
   [ className =? &quot;Filezilla&quot; --&amp;gt; viewShift &quot;6&quot;
   ]
 where viewShift = doF . liftM2 (.) W.greedyView W.shift
main = do
       xmproc &amp;lt;- spawnPipe &quot;xmobar ~/.xmobarrc&quot;
       xmproc &amp;lt;- spawnPipe &quot;/opt/start_applications&quot;
       xmonad  $ gnomeConfig
               { terminal          = &quot;xfce4-terminal&quot;
       ,focusFollowsMouse  = myFocusFollowsMouse
       ,borderWidth        = 2
       ,modMask            = mod4Mask
       ,workspaces         = [&quot;1&quot;,&quot;2&quot;,&quot;3&quot;,&quot;4&quot;,&quot;5&quot;,&quot;6&quot;]
       ,normalBorderColor  = &quot;#cdcdcd&quot;
       ,focusedBorderColor = &quot;#0000f0&quot;
       ,keys               = myKeys
       ,mouseBindings      = myMouseBindings
       ,handleEventHook    = mempty
        ,layoutHook = myLayout
       ,manageHook = manageDocks &amp;lt;+&amp;gt; myManageHook &amp;lt;+&amp;gt; manageHook gnomeConfig
       ,logHook = do
                      logHook gnomeConfig
               }
</pre></div>
</div>
</section>
<section id="seesaa-blog">
<h2><span class="section-number">1.142. </span>Seesaa BLOGのソーシャルボタンが邪魔という人に適した設定方法<a class="headerlink" href="#seesaa-blog" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>最近のブログサービスは、ソーシャルボタンという物凄く要らない機能が搭載されています。</p>
<p>Seesaa BLOGにもデフォルトでTwitterやFacebookなどのSNS向けのソーシャルボタンが搭載されており、この画像を読み込むだけでも、余計にデータの送受信をしています。</p>
<p>そこで、このソーシャルボタンを消してしまいましょう。</p>
<p>Seesaa BLOGの管理画面の左のメニューの「設定」をクリックします。</p>
<p>次に詳細設定にある「ソーシャルボタン」という項目をクリックしますと、色々なSNSにチェックが付いているので、これを全て外し、保存します。</p>
<p>これだけで、鬱陶しいソーシャルボタンを一掃出来ました。</p>
<p>他のブログサービスにも、このような設定があると思いますので、「ソーシャルボタンは邪魔」という人々は、これらを排除すると良いです。</p>
</section>
<section id="id24">
<h2><span class="section-number">1.143. </span>シェルスクリプトで知っておくと良い事<a class="headerlink" href="#id24" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>◎常にカレントディレクトリに設定する方法</p>
<p>スクリプトの最初に以下を書いておく。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>dirname `$0`
</pre></div>
</div>
<p>$0は、実行しているスクリプト名を返し、dirnameはディレクトリ名を返します。</p>
<p>◎シェルスクリプトを実行ファイルに変更するコマンド</p>
<p>Linuxディストリビューションの中にはデフォルトでシェルスクリプトをクリックするとテキストエディタで中身が表示されるようになっています。</p>
<p>Windows実行ファイルのように、クリックでアプリケーションを動作させたいのであれば、shcというシェルスクリプトを実行可能なファイルにコンパイルする仕組みを活用します。</p>
<p>Ubuntuの場合は、以下のコマンドでインストール出来ます。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$sudo apt-get install shc
</pre></div>
</div>
<p>変換したいシェルスクリプトのファイル名が「xxx.sh」とすると、以下のコマンドでコンパイル出来ます。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$shc -v -r -T -f xxx.sh
</pre></div>
</div>
<p>xxx.xというのが実行ファイルですので、これをクリックすれば、アプリケーションが起動します。</p>
</section>
<section id="id25">
<h2><span class="section-number">1.144. </span>ネット上の古いコンテンツを一括削除出来る便利なサービス<a class="headerlink" href="#id25" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>レンタルサーバを変更したり、他の会社のブログサービスやSNSに移行した場合、コンテンツを全て削除しても、古いコンテンツの情報が検索エンジンに残ってしまう事があります。</p>
<p>また、Twitterでつぶやいていたツィートが非常に多くなって、管理しにくくなった場合に要らなくなった物を一括で削除したいという事もあるでしょう。</p>
<p>そのような時に役立つのが、一括削除サービスです。</p>
<p>1.以前使っていたドメインやレンタルサーバなどで公開していた古いコンテンツ情報を削除させたい場合</p>
<p><a class="reference external" href="https://www.google.com/webmasters/tools/removals">https://www.google.com/webmasters/tools/removals</a></p>
<p>これを使ってもクローラーによってクローリングされなければ、なかなか直ぐには消えませんので注意してください。</p>
<p>登録した最初は「保留」になっていますが、クローラーが404を検知すれば、1日程度で検索結果ページの特定の項目が消えるそうです。</p>
<p>逆に、現在でもコンテンツが公開されている場合には、再度クローラーが情報収集をして検索結果ページに反映させますので、その場合は無理だと思ってください。</p>
<p>2.要らなくなったツィートを一括削除してくれるサービス</p>
<p><a class="reference external" href="http://ysklog.net/tool/twitter-delete-tweet.html">http://ysklog.net/tool/twitter-delete-tweet.html</a></p>
<p>Twitterのアプリとして提供されているサービスです。</p>
<p>Twitterは、色々と手軽につぶやき（ほとんど文句が多いと思うが）が出来るサービスですが、管理画面が今ひとつであり、つぶやきの一括削除をするのに非常に手間がかかります。</p>
<p>このサービスは、一括削除をしてくれますので、ユーザーにとっては古いつぶやきが要らなくなって、全部消したい時に役立ちます。</p>
</section>
<section id="ip">
<h2><span class="section-number">1.145. </span>画像変換やIPアドレスなどを調べるのに便利なオンラインサービスとソフトウェア<a class="headerlink" href="#ip" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>◎JPEGフォーマットの画像の画質をほぼ劣化させずに、容量を落としたい</p>
<p>・ソースコード</p>
<p><a class="reference external" href="https://github.com/google/guetzli">https://github.com/google/guetzli</a></p>
<p>・バイナリ</p>
<p><a class="reference external" href="https://github.com/google/guetzli/releases">https://github.com/google/guetzli/releases</a></p>
<p>Googleが開発したJPEGエンコーダ「Guetzli」は、libjpegと同等レベルの画質で、ファイル容量を20%〜30%減らす事が可能です。</p>
<p>バイナリをダウンロードして、Linuxの場合は、以下のコマンドで実行出来ます。:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">./</span><span class="n">guetzli_linux_x86</span><span class="o">-</span><span class="mi">64</span> <span class="n">yyy</span><span class="o">.</span><span class="n">jpg</span> <span class="n">xxx</span><span class="o">.</span><span class="n">jpg</span>
</pre></div>
</div>
<p>コマンド・入力ソース・出力ファイルの順でコマンドを入力します。</p>
<p>実行させましたが、確かに見た目は変わらずに、ファイル容量が121.4KBから117.7KBになっていました。</p>
<p>大きなファイルであれば、より効果を実感出来るかもしれません。</p>
<p>◎どこからアクセスされているのかをIPアドレスから知りたい</p>
<p><a class="reference external" href="https://db-ip.com/">https://db-ip.com/</a></p>
<p>右上の検索ボックスにIPアドレスを入力して検索する事で地図と情報を表示する事が出来ます。</p>
<p>◎アニメーションGIFを編集したい</p>
<p><a class="reference external" href="http://animizer.net/">http://animizer.net/</a></p>
<p>アニメーションGIFがどのように作られているかによって、編集が上手く出来るかどうかが決まってきますが、手軽にアニメーションGIFを作成・編集する事が出来ます。</p>
<p>◎画像を出来るだけ劣化を少なくして拡大したい</p>
<p><a class="reference external" href="http://waifu2x.udp.jp/index.ja.html">http://waifu2x.udp.jp/index.ja.html</a></p>
<p>深層畳み込みニューラルネットワークを使った2次元画像向けの超解像システムです。</p>
<p>風景写真よりもイラストなどのように線がハッキリとしている物の方が効果は高いようです。</p>
<p>◎Webサイトやブログのアクセス状況を分析したい</p>
<p><a class="reference external" href="https://www.google.com/intl/ja_jp/analytics/">https://www.google.com/intl/ja_jp/analytics/</a></p>
<p>Googleアナリティクスは、無料で使えるアクセス解析ツールです。</p>
<p>アクセス状況を分析してSEO対策を施す事で、Webサイトなどを検索エンジンに最適化していく事が出来ます。</p>
<p>慣れれば、SEO業者に頼む必要はありません。</p>
<p>◎クロールをリクエストしたい</p>
<p><a class="reference external" href="https://www.google.com/webmasters/tools/submit-url?pli=1">https://www.google.com/webmasters/tools/submit-url?pli=1</a></p>
<p>新規作成したサイトやブログの存在を知らせるには、ディレクトリサービスを使うか、Search Consoleのようなサービスを使う必要があります。</p>
<p>SEO対策として、メタタグの適切な設置や主要なキーワードを使って適切なコンテンツを何十記事と公開した後に、Search Consoleを使って、クローラーにサイトやブログの位置を教えてあげましょう。</p>
<p>◎迷惑電話を調べたい</p>
<p><a class="reference external" href="http://www.meiwaku.com/">http://www.meiwaku.com/</a></p>
<p>どこからか知らない番号が携帯電話などに表示された場合、迷惑電話番号サーチズを使って検索をすれば良いでしょう。</p>
<p>迷惑電話と分かり、番号拒否機能を使えば、セールスに引っ掛かる事が無くなります。</p>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">Valkyrie Linux Documentation</a></h1>








<h3>ナビゲーション</h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../valkyrie/valkyrie001.html">1. Valkyrie Linux</a></li>
<li class="toctree-l1"><a class="reference internal" href="../valkyrie/valkyrie001.html#id6">2. インストール方法</a></li>
<li class="toctree-l1"><a class="reference internal" href="../valkyrie/valkyrie001.html#boot-repair">3. Boot Repairの使い方</a></li>
<li class="toctree-l1"><a class="reference internal" href="../valkyrie/valkyrie001.html#id7">4. セキュアブートの無効化</a></li>
<li class="toctree-l1"><a class="reference internal" href="../valkyrie/valkyrie001.html#bit-osvalkyrie-linux">5. 64bit OS「Valkyrie Linux」の特長</a></li>
<li class="toctree-l1"><a class="reference internal" href="../valkyrie/valkyrie001.html#id8">6. Valkyrie Linuxの高速化と最適化</a></li>
<li class="toctree-l1"><a class="reference internal" href="../valkyrie/valkyrie001.html#id9">7. Valkyrie Linuxの高音質化</a></li>
<li class="toctree-l1"><a class="reference internal" href="../valkyrie/valkyrie001.html#valkyrie-linuxgrub">8. Valkyrie Linuxのインストールの時にGRUBをインストールするのに失敗した場合の対処法</a></li>
<li class="toctree-l1"><a class="reference internal" href="../valkyrie/valkyrie002.html">9. コマンドランチャー「gmrun」の使い方</a></li>
<li class="toctree-l1"><a class="reference internal" href="../valkyrie/valkyrie002.html#linuxi-o">10. 一時的にLinuxカーネルのI/Oスケジューラーを変更する方法</a></li>
<li class="toctree-l1"><a class="reference internal" href="../valkyrie/valkyrie002.html#id1">11. サウンドサーバの切り替え</a></li>
<li class="toctree-l1"><a class="reference internal" href="../valkyrie/valkyrie002.html#virtualbox">12. VirtualBoxの音の出し方</a></li>
<li class="toctree-l1"><a class="reference internal" href="../valkyrie/valkyrie002.html#alsa">13. ALSAの音量設定の保存方法</a></li>
<li class="toctree-l1"><a class="reference internal" href="../valkyrie/valkyrie002.html#pulseaudiojack-audio-connection-kit">14. PulseAudioとJack Audio Connection KItとの連携</a></li>
<li class="toctree-l1"><a class="reference internal" href="../valkyrie/valkyrie002.html#amixer">15. amixerの設定コマンド</a></li>
<li class="toctree-l1"><a class="reference internal" href="../valkyrie/valkyrie002.html#smplayer-mpv-youtube-dl1080p60fpsgpu">16. SMPlayer+MPV+youtube-dlで動画共有サイトの1080p60fps動画をGPUの動画支援機能で動作させる</a></li>
<li class="toctree-l1"><a class="reference internal" href="../valkyrie/valkyrie002.html#betachromiumwidevinegoogle-api">17. Beta版ChromiumでWidevineとGoogle APIを使えるようにする</a></li>
<li class="toctree-l1"><a class="reference internal" href="../valkyrie/valkyrie003.html">18. トラブルが起こった時の対処法</a></li>
<li class="toctree-l1"><a class="reference internal" href="../valkyrie/valkyrie004.html">19. カスタムカーネルについて</a></li>
<li class="toctree-l1"><a class="reference internal" href="../valkyrie/valkyrie020.html">20. 過去の履歴</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../vipertools/vipertools001.html">1. Viper Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../vipertools/vipertools002.html">2. viper.pyに引数を付け加えて機能を使う</a></li>
<li class="toctree-l1"><a class="reference internal" href="../vipertools/vipertools003.html">3. viper.pyをPythonファイルにモジュールとして読み込ませる</a></li>
<li class="toctree-l1"><a class="reference internal" href="../vipertools/vipertools003.html#viper">4. viperモジュールのクラス生成</a></li>
<li class="toctree-l1"><a class="reference internal" href="../vipertools/vipertools003.html#id1">5. viperモジュールのメソッド</a></li>
<li class="toctree-l1"><a class="reference internal" href="../vipertools/vipertools004.html">6. kyotei.pyのクラス生成</a></li>
<li class="toctree-l1"><a class="reference internal" href="../vipertools/vipertools004.html#kyotei">7. kyoteiモジュールのメソッド</a></li>
<li class="toctree-l1"><a class="reference internal" href="../vipertools/vipertools005.html">8. ナンバーズ予想用モジュール</a></li>
<li class="toctree-l1"><a class="reference internal" href="../vipertools/vipertools005.html#download-data-py">9. download_data.pyのクラス生成</a></li>
<li class="toctree-l1"><a class="reference internal" href="../vipertools/vipertools005.html#download-data">10. download_dataモジュールのメソッド</a></li>
<li class="toctree-l1"><a class="reference internal" href="../vipertools/vipertools005.html#load-numbers-py">11. load_numbers.pyモジュールのクラス生成</a></li>
<li class="toctree-l1"><a class="reference internal" href="../vipertools/vipertools005.html#numbers-py">12. numbers.pyモジュールのクラス生成</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../spiderjs/spiderjs001.html">1. spider.js</a></li>
<li class="toctree-l1"><a class="reference internal" href="../spiderjs/spiderjs001.html#id4">2. メソッド</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">1. Ubuntu系ディストリビューション向けテクニック</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#chromiumtverinstagram">1.1. ChromiumにTVerやInstagram用のユーザーエージェントを追加してみた</a></li>
<li class="toctree-l2"><a class="reference internal" href="#google-chromechromemindmap-tab">1.2. Google Chromeでマインドマップを手軽に作る事が出来るChrome拡張「MindMap Tab」</a></li>
<li class="toctree-l2"><a class="reference internal" href="#continuos-savegimp-2-10-10">1.3. レイヤー毎の画像を保存する事が出来るスクリプト「continuos-save」をGIMP 2.10.10にで使えるようにするには</a></li>
<li class="toctree-l2"><a class="reference internal" href="#linuxaffter-effects">1.4. Linux環境でAffter Effectsのような事をするにはどうすれば良いのか？</a></li>
<li class="toctree-l2"><a class="reference internal" href="#jack-audio-connetion-kitpulseaudio">1.5. Jack Audio Connetion Kitと連携せずにPulseAudioを高音質化させるには</a></li>
<li class="toctree-l2"><a class="reference internal" href="#ubuntuexfat">1.6. Ubuntu系ディストリビューションでexFATを使うには</a></li>
<li class="toctree-l2"><a class="reference internal" href="#ubuntu-18-04-ltsgksu">1.7. Ubuntu 18.04 LTSに廃止されたgksuをインストールするには</a></li>
<li class="toctree-l2"><a class="reference internal" href="#windowssteam">1.8. Windows版Steamのクライアントを動作させる時に諸々の問題を解決しよう</a></li>
<li class="toctree-l2"><a class="reference internal" href="#xconfigqt5">1.9. xconfigをQt5で立ち上げるには</a></li>
<li class="toctree-l2"><a class="reference internal" href="#chromerajikoradiko">1.10. Chromeアプリ「Rajiko」でradikoを聴こう！</a></li>
<li class="toctree-l2"><a class="reference internal" href="#linuxlivedvdisouefi">1.11. LinuxのLiveDVDのISOをUEFI搭載のパソコンで直接起動させるには</a></li>
<li class="toctree-l2"><a class="reference internal" href="#qt-qpa-platformtheme-environment-variable-is-not-set-correctlyqt5ct">1.12. 「QT_QPA_PLATFORMTHEME environment variable is not set correctly」というエラーが出てqt5ctが使えない時の対処法</a></li>
<li class="toctree-l2"><a class="reference internal" href="#bluemansettings-schema-org-blueman-general-is-not-installed">1.13. Bluemanを立ち上げた時に「Settings schema 'org.blueman.general' is not installed」のエラーが出た時の対処法</a></li>
<li class="toctree-l2"><a class="reference internal" href="#ubuntuwi-fi">1.14. Ubuntu系ディストリビューションでWi-Fiアダプタの型番を調べるには</a></li>
<li class="toctree-l2"><a class="reference internal" href="#var-lib-apt-listsubuntu">1.15. /var/lib/apt/listsの直下が肥大化するUbuntuの公式リポジトリとは？</a></li>
<li class="toctree-l2"><a class="reference internal" href="#ubiquity-bgrububuntu">1.16. Ubiquityの「-b」オプションでブートローダ「GRUB」のインストール無しでUbuntuをインストールする</a></li>
<li class="toctree-l2"><a class="reference internal" href="#error-could-not-locate-dkms-conf-file-file-does-not-exist">1.17. 「Error! Could not locate dkms.conf file.File:  does not exist.」が出た場合の対処法</a></li>
<li class="toctree-l2"><a class="reference internal" href="#squashfs">1.18. SquashFSで作成したファイルの圧縮方式を確認するには</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id1">1.19. Ubuntuで絵文字がカラーで表示されるようにする</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id2">1.20. 各種プログラミング言語リファレンス</a></li>
<li class="toctree-l2"><a class="reference internal" href="#htsvoiceubuntu">1.21. htsvoiceファイル変換プログラムをUbuntuでも使えるようにする方法</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tumblrwordpress">1.22. Tumblrの記事データをWordPress経由でバックアップ</a></li>
<li class="toctree-l2"><a class="reference internal" href="#atomweb">1.23. テキストエディタ「Atom」に気になるワードをWeb検索出来る機能を追加する</a></li>
<li class="toctree-l2"><a class="reference internal" href="#atom">1.24. テキストエディタ「Atom」でターミナルを呼び出す</a></li>
<li class="toctree-l2"><a class="reference internal" href="#atomremote-ftp">1.25. ファイルを保存する時に、AtomのRemote-FTPで自動的にサーバにアップロードさせないようにする</a></li>
<li class="toctree-l2"><a class="reference internal" href="#google-maps-apiapi">1.26. 標準版Google Maps APIでのAPIキー取得方法</a></li>
<li class="toctree-l2"><a class="reference internal" href="#wine">1.27. Wineで音割れがするのを改善する方法</a></li>
<li class="toctree-l2"><a class="reference internal" href="#smplayer-mpv-youtube-dl1080p60fpsgpu">1.28. SMPlayer+MPV+youtube-dlで動画共有サイトの1080p60fps動画をGPUの動画支援機能で動作させる</a></li>
<li class="toctree-l2"><a class="reference internal" href="#squashfs-toolszstd">1.29. squashfs-toolsでzstdを使えるようにする</a></li>
<li class="toctree-l2"><a class="reference internal" href="#instagrampc">1.30. InstagramをPCのブラウザから使う</a></li>
<li class="toctree-l2"><a class="reference internal" href="#gcc7">1.31. GCC7のデフォルト化</a></li>
<li class="toctree-l2"><a class="reference internal" href="#dockerpython">1.32. DockerでPython環境を構築する</a></li>
<li class="toctree-l2"><a class="reference internal" href="#twitter">1.33. Twitter向けのテクニック</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id3">1.34. 【このリクエストはコンピュータによる自動的なものと判断されました。Twitterユーザーをスパムやその他の迷惑行為から保護するために、このリクエストを保留しています。しばらくしてからもう一度お試しください。】の対処法</a></li>
<li class="toctree-l2"><a class="reference internal" href="#mysql">1.35. MySQLで知っておくべき事</a></li>
<li class="toctree-l2"><a class="reference internal" href="#alsa">1.36. ALSAの音量設定の保存方法</a></li>
<li class="toctree-l2"><a class="reference internal" href="#gitzen-kernel-source">1.37. GitでZen Kernel Sourceを取得</a></li>
<li class="toctree-l2"><a class="reference internal" href="#livecdaufs">1.38. LiveCD用のカーネルを作るためにaufsのパッチを当てる</a></li>
<li class="toctree-l2"><a class="reference internal" href="#linuxi-o">1.39. 一時的にLinuxカーネルのI/Oスケジューラーを変更する方法</a></li>
<li class="toctree-l2"><a class="reference internal" href="#cpui-o">1.40. CPUスケジューラとI/Oスケジューラの組み合せを探って性能アップを目指す</a></li>
<li class="toctree-l2"><a class="reference internal" href="#muqsslinux">1.41. MuQSSを導入したLinuxカーネルをゲーミング用途で動作させる方法</a></li>
<li class="toctree-l2"><a class="reference internal" href="#timer-frequency">1.42. 使用用途で適切なTimer Frequencyはどの値にしたらいいのだろうか</a></li>
<li class="toctree-l2"><a class="reference internal" href="#ubuntuccache">1.43. Ubuntu向けのカーネルを構築する時にccacheを使う</a></li>
<li class="toctree-l2"><a class="reference internal" href="#linux">1.44. 海外のクールなカスタムLinuxカーネル</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id4">1.45. Ubuntuにインテルのコンパイラをインストールする</a></li>
<li class="toctree-l2"><a class="reference internal" href="#audacious">1.46. Audaciousで動画ファイルの音声部分だけを再生させる</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id5">1.47. ブラウザをアプリモードで使う</a></li>
<li class="toctree-l2"><a class="reference internal" href="#e-xxx">1.48. 「E: パッケージ xxx を再インストールする必要がありますが、そのためのアーカイブを見つけることができませんでした。」のメッセージが出た場合の対処法</a></li>
<li class="toctree-l2"><a class="reference internal" href="#xfceemacs">1.49. xfceのターミナルからEmacsを起動させるコマンド</a></li>
<li class="toctree-l2"><a class="reference internal" href="#ubuntugoogle-driveonedrive">1.50. UbuntuでGoogle DriveとOneDriveの同期を行う</a></li>
<li class="toctree-l2"><a class="reference internal" href="#ubuntud">1.51. Ubuntuでdアニメストアを観る方法</a></li>
<li class="toctree-l2"><a class="reference internal" href="#ubuntujstest-gtk">1.52. Ubuntuでjstest-gtkのプロファイルを保存してジョイパッドを使い易い環境にする</a></li>
<li class="toctree-l2"><a class="reference internal" href="#xfce4-terminal">1.53. xfce4-terminalを透過</a></li>
<li class="toctree-l2"><a class="reference internal" href="#chromee-gov">1.54. Chrome系ブラウザでe-Govを使う方法</a></li>
<li class="toctree-l2"><a class="reference internal" href="#dmm">1.55. クレジットカード無しでDMMのコンテンツを購入する方法</a></li>
<li class="toctree-l2"><a class="reference internal" href="#stagingwinecsmt">1.56. staging版Wineにのみ搭載されている「CSMT」</a></li>
<li class="toctree-l2"><a class="reference internal" href="#chjdapi">1.57. 2chブラウザ「JD」で新APIを使う方法</a></li>
<li class="toctree-l2"><a class="reference internal" href="#smarty-3-1">1.58. Smarty 3.1ではプラグインの追加方法が変更されているので注意</a></li>
<li class="toctree-l2"><a class="reference internal" href="#ubuntu-16-04apache2-wsgi">1.59. Ubuntu 16.04にApache2+WSGI環境を構築する</a></li>
<li class="toctree-l2"><a class="reference internal" href="#ppssppubuntu-16-04-lts">1.60. PPSSPPをUbuntu 16.04 LTSにインストールする</a></li>
<li class="toctree-l2"><a class="reference internal" href="#ubuntu-14-04cups">1.61. Ubuntu 14.04でプリンターを使う時にはCUPSを使うと楽に設定できる</a></li>
<li class="toctree-l2"><a class="reference internal" href="#playonlinux">1.62. PlayOnLinuxのバージョンを固定してエラーを防ぐ</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id6">1.63. Ubuntuでファイアウォールを設定する</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id7">1.64. Linuxディストリビューションのリマスターでデータ容量が肥大化しやすい箇所に注意して制作を行う</a></li>
<li class="toctree-l2"><a class="reference internal" href="#mksquashfslinuxiso">1.65. mksquashfsのオプションでLinuxディストリビューションのISO容量を削減する</a></li>
<li class="toctree-l2"><a class="reference internal" href="#ubuntuhdduefi">1.66. リマスターしたUbuntuでHDDにインストールしてもUEFIで起動出来ない場合の対処法</a></li>
<li class="toctree-l2"><a class="reference internal" href="#boot-repairuefi">1.67. Boot Repairを使ったUEFI対応ポータブルドライブの作成</a></li>
<li class="toctree-l2"><a class="reference internal" href="#windows-10pclinux">1.68. Windows 10に仮想PCを設置してLinuxのパワーを活かす</a></li>
<li class="toctree-l2"><a class="reference internal" href="#linuxfirefoxwindowsflash">1.69. Linux版FirefoxでWindows用のFlashを使用する</a></li>
<li class="toctree-l2"><a class="reference internal" href="#pulseaudio">1.70. PulseAudioを切る</a></li>
<li class="toctree-l2"><a class="reference internal" href="#ubuntu-14-04">1.71. Ubuntu 14.04にゲームエミュレーターをインストールする</a></li>
<li class="toctree-l2"><a class="reference internal" href="#ubuntu-14-04-12-04-ltsnginx-php-fpm">1.72. Ubuntu 14.04/12.04 LTSにnginx＋PHP FPMをインストール</a></li>
<li class="toctree-l2"><a class="reference internal" href="#gzipsquashfs">1.73. Gzip以外でSquashFSを使う</a></li>
<li class="toctree-l2"><a class="reference internal" href="#portablelinuxapps">1.74. ワンクリックで起動出来るPortableLinuxAppsで公開されているアプリケーション</a></li>
<li class="toctree-l2"><a class="reference internal" href="#ubuntuubuntuupdates-org">1.75. Ubuntuを大幅に強化したい時に役に立つUbuntuUpdates.org</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id8">1.76. Ubuntuのアプリケーションのバージョンを固定する</a></li>
<li class="toctree-l2"><a class="reference internal" href="#nautilus-dropboxdropbox">1.77. nautilus-dropboxを使わない安定したDropboxのインストール方法</a></li>
<li class="toctree-l2"><a class="reference internal" href="#kvm">1.78. KVMで音を鳴らす</a></li>
<li class="toctree-l2"><a class="reference internal" href="#ubuntuskydrivegoogle-drive">1.79. Ubuntu系ディストリビューションでSkyDriveやGoogle Driveなどをネットワークドライブにする方法</a></li>
<li class="toctree-l2"><a class="reference internal" href="#macopix">1.80. デスクトップマスコット「MaCoPix」</a></li>
<li class="toctree-l2"><a class="reference internal" href="#openjtalk">1.81. OpenJTalk</a></li>
<li class="toctree-l2"><a class="reference internal" href="#xubuntu-12-04">1.82. Xubuntu 12.04以降でシステム効果音を鳴らす</a></li>
<li class="toctree-l2"><a class="reference internal" href="#androidubuntu-12-04">1.83. リモートデスクトップを使ってAndroidタブレットにUbuntu 12.04のデスクトップを表示させる</a></li>
<li class="toctree-l2"><a class="reference internal" href="#vo3-avi">1.84. 音声コーデック「VO3+」を使ったAVI動画の修正方法</a></li>
<li class="toctree-l2"><a class="reference internal" href="#gstreamerrequired-gstreamer-element-audioconvert">1.85. Gstreamerを使ったアプリケーションを起動させた時に「required: GStreamer element audioconvert」というエラーが出た時の対処法</a></li>
<li class="toctree-l2"><a class="reference internal" href="#upstart">1.86. Upstartの起動速度が遅くなる原因となるモジュール、サービス</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id9">1.87. Upstartの起動スクリプトを並列処理する</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id10">1.88. 自動起動するデーモンを切る</a></li>
<li class="toctree-l2"><a class="reference internal" href="#wine1-4windowslivecd">1.89. Wine1.4を使ってWindows環境入りのLiveCDをつくる</a></li>
<li class="toctree-l2"><a class="reference internal" href="#compiz-fusion-iconxmonad">1.90. Compiz Fusion IconでXmonadと他のウィンドウマネージャを切り替える</a></li>
<li class="toctree-l2"><a class="reference internal" href="#zipcomix">1.91. zipで固めた画像を閲覧できるソフトウェア「Comix」</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id11">1.92. Ubuntuでの動画キャプチャー</a></li>
<li class="toctree-l2"><a class="reference internal" href="#livecd">1.93. LiveCDで書き込み機能を有効にする</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id12">1.94. メニューからアプリケーションが起動できない場合の対処法</a></li>
<li class="toctree-l2"><a class="reference internal" href="#ramdisk">1.95. RAMDISK設定</a></li>
<li class="toctree-l2"><a class="reference internal" href="#hdd">1.96. HDD修復方法</a></li>
<li class="toctree-l2"><a class="reference internal" href="#ubuntu-10-04-mtu">1.97. Ubuntu 10.04+ブロードバンドで回線速度が遅いと感じたら、MTUを調整</a></li>
<li class="toctree-l2"><a class="reference internal" href="#ipv6">1.98. IPv6を無効にする方法</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id13">1.99. パッケージキャッシュを消す</a></li>
<li class="toctree-l2"><a class="reference internal" href="#wicd">1.100. ネットワークマネージャーをWicdに変更</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id14">1.101. グラフィックドライバの情報を得る</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id15">1.102. グラフィックドライバをカーネルに入っているオープンソースドライバに戻す</a></li>
<li class="toctree-l2"><a class="reference internal" href="#mesa">1.103. MESAドライバをインストール</a></li>
<li class="toctree-l2"><a class="reference internal" href="#fglrx">1.104. fglrxをアンインストール</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id16">1.105. ウィンドウが消えた場合の対処法</a></li>
<li class="toctree-l2"><a class="reference internal" href="#gnome">1.106. 「GNOMEの電源管理」関連でログイン出来ない場合の対処方法</a></li>
<li class="toctree-l2"><a class="reference internal" href="#ubuntuflex3python">1.107. UbuntuでFlex3のパスやPythonのモジュールのパスを通す</a></li>
<li class="toctree-l2"><a class="reference internal" href="#thunar">1.108. Thunarのコンテキストメニューに各種アクションを追加する</a></li>
<li class="toctree-l2"><a class="reference internal" href="#thunarntfs">1.109. Thunarで自動的にNTFSのドライブをマウントする方法</a></li>
<li class="toctree-l2"><a class="reference internal" href="#dpkg-post-installation-script-1">1.110. dpkg: サブプロセス post-installation script はエラー終了ステータス 1 を返しました」からの復帰方法</a></li>
<li class="toctree-l2"><a class="reference internal" href="#ubuntu-10-04-lts">1.111. Ubuntu 10.04 LTSにおけるログイン画面の背景画像変更</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id17">1.112. Ubuntu 10.04 LTSのスプラッシュ画像を変更する</a></li>
<li class="toctree-l2"><a class="reference internal" href="#plymouth">1.113. Plymouthでオリジナルスプラッシュテーマを作成する</a></li>
<li class="toctree-l2"><a class="reference internal" href="#ubuntu-9-10">1.114. Ubuntu 9.10のスプラッシュ画面を変更する</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id18">1.115. Ubuntuのパッケージリストの作成と適用</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id19">1.116. Ubuntuでキーボードの「半角/全角」キーが動作しなくなった時の対処</a></li>
<li class="toctree-l2"><a class="reference internal" href="#winem-u-g-e-n">1.117. Wine上で大量のキャラクターを搭載したM.U.G.E.Nが落ちる際の対処法</a></li>
<li class="toctree-l2"><a class="reference internal" href="#firefoxsilverlight">1.118. FirefoxでSilverlightを使う</a></li>
<li class="toctree-l2"><a class="reference internal" href="#mmd-mmdai-mmdagent">1.119. MMD/MMDAI/MMDAgentまとめサイト</a></li>
<li class="toctree-l2"><a class="reference internal" href="#mmdagent">1.120. MMDAgentを動作させる</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id20">1.121. MMDAgentのモデルを初音ミクに変更</a></li>
<li class="toctree-l2"><a class="reference internal" href="#mmdai">1.122. MMDAIを動作させる</a></li>
<li class="toctree-l2"><a class="reference internal" href="#gimp2-6-photoshop">1.123. GIMP2.6で使えるフラクタル＆アブストラクト系Photoshopブラシ</a></li>
<li class="toctree-l2"><a class="reference internal" href="#gimp2-4gimp2-6">1.124. GIMP2.4→GIMP2.6へ移行する方法</a></li>
<li class="toctree-l2"><a class="reference internal" href="#gimp-2-3-14-photoshop-plugin">1.125. GIMP 2.3.14 + Photoshop-Pluginで無料強力画像生成環境をつくる</a></li>
<li class="toctree-l2"><a class="reference internal" href="#gimp2-4">1.126. GIMP2.4のドックを本体に格納する</a></li>
<li class="toctree-l2"><a class="reference internal" href="#inkscapejpegsvg">1.127. inkscapeでJPEGなどの画像ファイルをSVGへ変換する</a></li>
<li class="toctree-l2"><a class="reference internal" href="#osunetbootinliveusb-biosuefi">1.128. OSをUNetbootinでLiveUSBを作って運用する(BIOS、UEFIモード対応）</a></li>
<li class="toctree-l2"><a class="reference internal" href="#grub2-iso-persistencelinux-bios">1.129. GRUB2+ISO+Persistence機能で構成したLinuxシステム(BIOSモード対応)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#grububuntu-puppy-linux-fedraliveusb">1.130. GRUBを使ったUbuntu/Puppy Linux/FedraトリプルブートLiveUSBの作成方法</a></li>
<li class="toctree-l2"><a class="reference internal" href="#ram">1.131. RAMキャッシュの設定方法</a></li>
<li class="toctree-l2"><a class="reference internal" href="#firefox">1.132. Firefoxのプルダウンメニューの項目が消えた場合の対処法</a></li>
<li class="toctree-l2"><a class="reference internal" href="#firefox-google-chrome-internet-exploror-operaxmarks">1.133. Firefox,Google Chrome,Internet Exploror,Operaなどのブックマークを同期出来るサービス「XMarks」</a></li>
<li class="toctree-l2"><a class="reference internal" href="#firefoxdeb">1.134. Firefoxをソースコードからビルドして、debパッケージを作成、インストールする方法</a></li>
<li class="toctree-l2"><a class="reference internal" href="#firefox-3-6-user-js">1.135. Firefox 3.6 高速化　user.js</a></li>
<li class="toctree-l2"><a class="reference internal" href="#bitubuntu-9-10firefox">1.136. 64bit版Ubuntu 9.10用のFirefoxを最適化ビルドする</a></li>
<li class="toctree-l2"><a class="reference internal" href="#firefoxvacuum">1.137. FirefoxのデータベースをVACUUMして動作を軽くする</a></li>
<li class="toctree-l2"><a class="reference internal" href="#firefox3web">1.138. Firefox3のブックマークデータをWebサイトに埋め込む方法</a></li>
<li class="toctree-l2"><a class="reference internal" href="#web">1.139. Webサイトやブログの表示速度を向上させる</a></li>
<li class="toctree-l2"><a class="reference internal" href="#ubuntulinux">1.140. Ubuntu系Linuxディストリビューション向けの音質向上テクニックのまとめ</a></li>
<li class="toctree-l2"><a class="reference internal" href="#xmonad">1.141. xmonad用設定ファイル</a></li>
<li class="toctree-l2"><a class="reference internal" href="#seesaa-blog">1.142. Seesaa BLOGのソーシャルボタンが邪魔という人に適した設定方法</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id24">1.143. シェルスクリプトで知っておくと良い事</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id25">1.144. ネット上の古いコンテンツを一括削除出来る便利なサービス</a></li>
<li class="toctree-l2"><a class="reference internal" href="#ip">1.145. 画像変換やIPアドレスなどを調べるのに便利なオンラインサービスとソフトウェア</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tech002.html">2. CSS Hacks</a></li>
<li class="toctree-l1"><a class="reference internal" href="tech003.html">3. Java Hacks</a></li>
<li class="toctree-l1"><a class="reference internal" href="tech004.html">4. JavaScript Hack</a></li>
<li class="toctree-l1"><a class="reference internal" href="tech005.html">5. Python Hacks</a></li>
<li class="toctree-l1"><a class="reference internal" href="tech006.html">6. PHP Hack</a></li>
<li class="toctree-l1"><a class="reference internal" href="tech007.html">7. PlayOnLinux(Wine)で動作するソフトウェアまとめ</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
      <li>Previous: <a href="../spiderjs/spiderjs001.html" title="前の章へ"><span class="section-number">1. </span>spider.js</a></li>
      <li>Next: <a href="tech002.html" title="次の章へ"><span class="section-number">2. </span>CSS Hacks</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">クイック検索</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="検索" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2023, takamitsu_h.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 4.3.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../_sources/tech/tech001.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>